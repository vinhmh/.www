{
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/bin/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/bin/server.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/bin/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/bin/server.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/bin/server.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/bin/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/bin/",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _http = _interopRequireDefault(require(\"http\"));\n\nvar _esl = _interopRequireWildcard(require(\"modesl\"));\n\nvar _websocket = require(\"websocket\");\n\nvar _config = _interopRequireDefault(require(\"../config\"));\n\nvar _esl2 = _interopRequireDefault(require(\"../src/esl\"));\n\nvar _socket = _interopRequireDefault(require(\"../src/socket\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst httpServer = _http.default.createServer();\n\nconst {\n  pid\n} = process;\nconst TMP_DIR = `${_config.default.rootDir}/tmp/`;\nconst SOCKET_PATH = TMP_DIR + _config.default.socket_file;\nconst PID_PATH = TMP_DIR + _config.default.pid_file;\nconst server = {\n  interface: _config.default.port,\n  maxPackageSize: 5 * 1024 * 1024\n};\n\nif (!_fs.default.existsSync(TMP_DIR)) {\n  _fs.default.mkdirSync(TMP_DIR);\n}\n\nif (_config.default.use_socket) {\n  server.interface = SOCKET_PATH;\n\n  if (_fs.default.existsSync(server.interface)) {\n    _fs.default.unlinkSync(server.interface);\n  }\n}\n\n_fs.default.writeFileSync(PID_PATH, pid.toString(), 'utf8');\n\nlet freeswitchTimeout = null;\n\nconst freeswitchConnect = () => {\n  const connection = new _esl.Connection(_config.default.voipHost, _config.default.voip_port, _config.default.voip_password);\n  connection.on('error', err => {\n    console.log('Error during connection to Freeswitch: \\n', err);\n    console.log('Reconnection in 5 sec...');\n    _esl2.default.connection = null;\n    freeswitchTimeout = setTimeout(freeswitchConnect, 5000);\n  }).on('esl::connect', () => {\n    console.log('Connecting to Freeswitch...');\n  }).on('esl::ready', () => {\n    clearTimeout(freeswitchTimeout);\n    console.log('Connected to Freeswitch');\n\n    _esl2.default.init(connection);\n  }).on('esl::end', () => {\n    console.log('Connection to Freeswitch is closed, reconnecting in 5 sec...');\n    _esl2.default.connection = null;\n    freeswitchTimeout = setTimeout(freeswitchConnect, 5000);\n  });\n};\n\nconst init = () => {\n  freeswitchConnect();\n  httpServer.listen(server.interface, () => {\n    if (_config.default.use_socket) _fs.default.chmodSync(server.interface, '757');\n    console.log(`${new Date()} Server is listening on ${server.interface}`);\n  });\n  httpServer.on('error', e => {\n    console.log(e);\n  });\n  const wsServer = new _websocket.server({\n    httpServer,\n    maxReceivedFrameSize: server.maxPackageSize,\n    maxReceivedMessageSize: server.maxPackageSize\n  });\n  wsServer.on('request', request => {\n    const {\n      origin\n    } = request;\n    console.log(\"========\");\n    console.log(origin); // const allowedOrigin = config.allowedOrigin.some(url => url === origin)\n    // if (!allowedOrigin || !Esl.connection) {\n    //   request.reject()\n    //   console.log(`${new Date()} Connection from origin ${origin} rejected.`)\n    //   return\n    // }\n\n    const connection = request.accept(null, origin);\n    const {\n      query\n    } = request.resourceURL;\n\n    _socket.default.create(connection, {\n      query\n    });\n  });\n};\n\ninit();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJodHRwU2VydmVyIiwiaHR0cCIsImNyZWF0ZVNlcnZlciIsInBpZCIsInByb2Nlc3MiLCJUTVBfRElSIiwiY29uZmlnIiwicm9vdERpciIsIlNPQ0tFVF9QQVRIIiwic29ja2V0X2ZpbGUiLCJQSURfUEFUSCIsInBpZF9maWxlIiwic2VydmVyIiwiaW50ZXJmYWNlIiwicG9ydCIsIm1heFBhY2thZ2VTaXplIiwiZnMiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwidXNlX3NvY2tldCIsInVubGlua1N5bmMiLCJ3cml0ZUZpbGVTeW5jIiwidG9TdHJpbmciLCJmcmVlc3dpdGNoVGltZW91dCIsImZyZWVzd2l0Y2hDb25uZWN0IiwiY29ubmVjdGlvbiIsIl9lc2wiLCJDb25uZWN0aW9uIiwidm9pcEhvc3QiLCJ2b2lwX3BvcnQiLCJ2b2lwX3Bhc3N3b3JkIiwib24iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiRXNsIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImluaXQiLCJsaXN0ZW4iLCJjaG1vZFN5bmMiLCJEYXRlIiwiZSIsIndzU2VydmVyIiwiV2ViU29ja2V0U2VydmVyIiwibWF4UmVjZWl2ZWRGcmFtZVNpemUiLCJtYXhSZWNlaXZlZE1lc3NhZ2VTaXplIiwicmVxdWVzdCIsIm9yaWdpbiIsImFjY2VwdCIsInF1ZXJ5IiwicmVzb3VyY2VVUkwiLCJTb2NrZXQiLCJjcmVhdGUiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHQyxjQUFLQyxZQUFMLEVBQW5COztBQUNBLE1BQU07QUFBRUMsRUFBQUE7QUFBRixJQUFVQyxPQUFoQjtBQUNBLE1BQU1DLE9BQU8sR0FBSSxHQUFFQyxnQkFBT0MsT0FBUSxPQUFsQztBQUNBLE1BQU1DLFdBQVcsR0FBR0gsT0FBTyxHQUFHQyxnQkFBT0csV0FBckM7QUFDQSxN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QUFNLENBQUNHLGNBRk07QUFHbkMrQixJQUFBQSxzQkFBc0IsRUFBRWxDLE1BQU0sQ0FBQ0c7QUFISSxHQUFwQixDQUFqQjtBQU1BNEIsRUFBQUEsUUFBUSxDQUFDWixFQUFULENBQVksU0FBWixFQUF3QmdCLE9BQUQsSUFBYTtBQUNsQyxVQUFNO0FBQUVDLE1BQUFBO0FBQUYsUUFBYUQsT0FBbkI7QUFDQWQsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksVUFBWjtBQUNBRCxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWWMsTUFBWixFQUhrQyxDQUlsQztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsVUFBTXZCLFVBQVUsR0FBR3NCLE9BQU8sQ0FBQ0UsTUFBUixDQUFlLElBQWYsRUFBcUJELE1BQXJCLENBQW5CO0FBQ0EsVUFBTTtBQUFFRSxNQUFBQTtBQUFGLFFBQVlILE9BQU8sQ0FBQ0ksV0FBMUI7O0FBRUFDLG9CQUFPQyxNQUFQLENBQWM1QixVQUFkLEVBQTBCO0FBQUV5QixNQUFBQTtBQUFGLEtBQTFCO0FBQ0QsR0FoQkQ7QUFpQkQsQ0FuQ0Q7O0FBcUNBWixJQUFJIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3dlYnBob25lLW5vZGUvYmluLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tICdmcydcbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnXG5pbXBvcnQgKiBhcyBfZXNsIGZyb20gJ21vZGVzbCdcbmltcG9ydCB7IHNlcnZlciBhcyBXZWJTb2NrZXRTZXJ2ZXIgfSBmcm9tICd3ZWJzb2NrZXQnXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZydcbmltcG9ydCBFc2wgZnJvbSAnLi4vc3JjL2VzbCdcbmltcG9ydCBTb2NrZXQgZnJvbSAnLi4vc3JjL3NvY2tldCdcblxuY29uc3QgaHR0cFNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKClcbmNvbnN0IHsgcGlkIH0gPSBwcm9jZXNzXG5jb25zdCBUTVBfRElSID0gYCR7Y29uZmlnLnJvb3REaXJ9L3RtcC9gXG5jb25zdCBTT0NLRVRfUEFUSCA9IFRNUF9ESVIgKyBjb25maWcuc29ja2V0X2ZpbGVcbmNvbnN0IFBJRF9QQVRIID0gVE1QX0RJUiArIGNvbmZpZy5waWRfZmlsZVxuXG5jb25zdCBzZXJ2ZXIgPSB7XG4gIGludGVyZmFjZTogY29uZmlnLnBvcnQsXG4gIG1heFBhY2thZ2VTaXplOiA1ICogMTAyNCAqIDEwMjQsXG59XG5cbmlmICghZnMuZXhpc3RzU3luYyhUTVBfRElSKSkge1xuICBmcy5ta2RpclN5bmMoVE1QX0RJUilcbn1cblxuaWYgKGNvbmZpZy51c2Vfc29ja2V0KSB7XG4gIHNlcnZlci5pbnRlcmZhY2UgPSBTT0NLRVRfUEFUSFxuICBpZiAoZnMuZXhpc3RzU3luYyhzZXJ2ZXIuaW50ZXJmYWNlKSkge1xuICAgIGZzLnVubGlua1N5bmMoc2VydmVyLmludGVyZmFjZSlcbiAgfVxufVxuXG5mcy53cml0ZUZpbGVTeW5jKFBJRF9QQVRILCBwaWQudG9TdHJpbmcoKSwgJ3V0ZjgnKVxuXG5sZXQgZnJlZXN3aXRjaFRpbWVvdXQgPSBudWxsXG5cbmNvbnN0IGZyZWVzd2l0Y2hDb25uZWN0ID0gKCkgPT4ge1xuICBjb25zdCBjb25uZWN0aW9uID0gbmV3IF9lc2wuQ29ubmVjdGlvbihjb25maWcudm9pcEhvc3QsIGNvbmZpZy52b2lwX3BvcnQsIGNvbmZpZy52b2lwX3Bhc3N3b3JkKVxuXG4gIGNvbm5lY3Rpb25cbiAgICAub24oJ2Vycm9yJywgZXJyID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBkdXJpbmcgY29ubmVjdGlvbiB0byBGcmVlc3dpdGNoOiBcXG4nLCBlcnIpXG4gICAgICBjb25zb2xlLmxvZygnUmVjb25uZWN0aW9uIGluIDUgc2VjLi4uJylcbiAgICAgIEVzbC5jb25uZWN0aW9uID0gbnVsbFxuICAgICAgZnJlZXN3aXRjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZyZWVzd2l0Y2hDb25uZWN0LCA1MDAwKVxuICAgIH0pXG4gICAgLm9uKCdlc2w6OmNvbm5lY3QnLCAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGluZyB0byBGcmVlc3dpdGNoLi4uJylcbiAgICB9KVxuICAgIC5vbignZXNsOjpyZWFkeScsICgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dChmcmVlc3dpdGNoVGltZW91dClcbiAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gRnJlZXN3aXRjaCcpXG4gICAgICBFc2wuaW5pdChjb25uZWN0aW9uKVxuICAgIH0pXG4gICAgLm9uKCdlc2w6OmVuZCcsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0aW9uIHRvIEZyZWVzd2l0Y2ggaXMgY2xvc2VkLCByZWNvbm5lY3RpbmcgaW4gNSBzZWMuLi4nKVxuICAgICAgRXNsLmNvbm5lY3Rpb24gPSBudWxsXG4gICAgICBmcmVlc3dpdGNoVGltZW91dCA9IHNldFRpbWVvdXQoZnJlZXN3aXRjaENvbm5lY3QsIDUwMDApXG4gICAgfSlcbn1cblxuY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgZnJlZXN3aXRjaENvbm5lY3QoKVxuXG4gIGh0dHBTZXJ2ZXIubGlzdGVuKHNlcnZlci5pbnRlcmZhY2UsICgpID0+IHtcbiAgICBpZiAoY29uZmlnLnVzZV9zb2NrZXQpIGZzLmNobW9kU3luYyhzZXJ2ZXIuaW50ZXJmYWNlLCAnNzU3JylcbiAgICBjb25zb2xlLmxvZyhgJHtuZXcgRGF0ZSgpfSBTZXJ2ZXIgaXMgbGlzdGVuaW5nIG9uICR7c2VydmVyLmludGVyZmFjZX1gKVxuICB9KVxuXG4gIGh0dHBTZXJ2ZXIub24oJ2Vycm9yJywgKGUpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlKVxuICB9KVxuXG4gIGNvbnN0IHdzU2VydmVyID0gbmV3IFdlYlNvY2tldFNlcnZlcih7XG4gICAgaHR0cFNlcnZlcixcbiAgICBtYXhSZWNlaXZlZEZyYW1lU2l6ZTogc2VydmVyLm1heFBhY2thZ2VTaXplLFxuICAgIG1heFJlY2VpdmVkTWVzc2FnZVNpemU6IHNlcnZlci5tYXhQYWNrYWdlU2l6ZSxcbiAgfSlcblxuICB3c1NlcnZlci5vbigncmVxdWVzdCcsIChyZXF1ZXN0KSA9PiB7XG4gICAgY29uc3QgeyBvcmlnaW4gfSA9IHJlcXVlc3RcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09XCIpXG4gICAgY29uc29sZS5sb2cob3JpZ2luKVxuICAgIC8vIGNvbnN0IGFsbG93ZWRPcmlnaW4gPSBjb25maWcuYWxsb3dlZE9yaWdpbi5zb21lKHVybCA9PiB1cmwgPT09IG9yaWdpbilcblxuICAgIC8vIGlmICghYWxsb3dlZE9yaWdpbiB8fCAhRXNsLmNvbm5lY3Rpb24pIHtcbiAgICAvLyAgIHJlcXVlc3QucmVqZWN0KClcbiAgICAvLyAgIGNvbnNvbGUubG9nKGAke25ldyBEYXRlKCl9IENvbm5lY3Rpb24gZnJvbSBvcmlnaW4gJHtvcmlnaW59IHJlamVjdGVkLmApXG4gICAgLy8gICByZXR1cm5cbiAgICAvLyB9XG5cbiAgICBjb25zdCBjb25uZWN0aW9uID0gcmVxdWVzdC5hY2NlcHQobnVsbCwgb3JpZ2luKVxuICAgIGNvbnN0IHsgcXVlcnkgfSA9IHJlcXVlc3QucmVzb3VyY2VVUkxcblxuICAgIFNvY2tldC5jcmVhdGUoY29ubmVjdGlvbiwgeyBxdWVyeSB9KVxuICB9KVxufVxuXG5pbml0KClcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "httpServer",
        "http",
        "createServer",
        "pid",
        "process",
        "TMP_DIR",
        "config",
        "rootDir",
        "SOCKET_PATH",
        "socket_file",
        "PID_PATH",
        "pid_file",
        "server",
        "interface",
        "port",
        "maxPackageSize",
        "fs",
        "existsSync",
        "mkdirSync",
        "use_socket",
        "unlinkSync",
        "writeFileSync",
        "toString",
        "freeswitchTimeout",
        "freeswitchConnect",
        "connection",
        "_esl",
        "Connection",
        "voipHost",
        "voip_port",
        "voip_password",
        "on",
        "err",
        "console",
        "log",
        "Esl",
        "setTimeout",
        "clearTimeout",
        "init",
        "listen",
        "chmodSync",
        "Date",
        "e",
        "wsServer",
        "WebSocketServer",
        "maxReceivedFrameSize",
        "maxReceivedMessageSize",
        "request",
        "origin",
        "accept",
        "query",
        "resourceURL",
        "Socket",
        "create"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/bin/",
      "sourcesContent": [
        "import fs from 'fs'\nimport http from 'http'\nimport * as _esl from 'modesl'\nimport { server as WebSocketServer } from 'websocket'\nimport config from '../config'\nimport Esl from '../src/esl'\nimport Socket from '../src/socket'\n\nconst httpServer = http.createServer()\nconst { pid } = process\nconst TMP_DIR = `${config.rootDir}/tmp/`\nconst SOCKET_PATH = TMP_DIR + config.socket_file\nconst PID_PATH = TMP_DIR + config.pid_file\n\nconst server = {\n  interface: config.port,\n  maxPackageSize: 5 * 1024 * 1024,\n}\n\nif (!fs.existsSync(TMP_DIR)) {\n  fs.mkdirSync(TMP_DIR)\n}\n\nif (config.use_socket) {\n  server.interface = SOCKET_PATH\n  if (fs.existsSync(server.interface)) {\n    fs.unlinkSync(server.interface)\n  }\n}\n\nfs.writeFileSync(PID_PATH, pid.toString(), 'utf8')\n\nlet freeswitchTimeout = null\n\nconst freeswitchConnect = () => {\n  const connection = new _esl.Connection(config.voipHost, config.voip_port, config.voip_password)\n\n  connection\n    .on('error', err => {\n      console.log('Error during connection to Freeswitch: \\n', err)\n      console.log('Reconnection in 5 sec...')\n      Esl.connection = null\n      freeswitchTimeout = setTimeout(freeswitchConnect, 5000)\n    })\n    .on('esl::connect', () => {\n      console.log('Connecting to Freeswitch...')\n    })\n    .on('esl::ready', () => {\n      clearTimeout(freeswitchTimeout)\n      console.log('Connected to Freeswitch')\n      Esl.init(connection)\n    })\n    .on('esl::end', () => {\n      console.log('Connection to Freeswitch is closed, reconnecting in 5 sec...')\n      Esl.connection = null\n      freeswitchTimeout = setTimeout(freeswitchConnect, 5000)\n    })\n}\n\nconst init = () => {\n  freeswitchConnect()\n\n  httpServer.listen(server.interface, () => {\n    if (config.use_socket) fs.chmodSync(server.interface, '757')\n    console.log(`${new Date()} Server is listening on ${server.interface}`)\n  })\n\n  httpServer.on('error', (e) => {\n    console.log(e)\n  })\n\n  const wsServer = new WebSocketServer({\n    httpServer,\n    maxReceivedFrameSize: server.maxPackageSize,\n    maxReceivedMessageSize: server.maxPackageSize,\n  })\n\n  wsServer.on('request', (request) => {\n    const { origin } = request\n    console.log(\"========\")\n    console.log(origin)\n    // const allowedOrigin = config.allowedOrigin.some(url => url === origin)\n\n    // if (!allowedOrigin || !Esl.connection) {\n    //   request.reject()\n    //   console.log(`${new Date()} Connection from origin ${origin} rejected.`)\n    //   return\n    // }\n\n    const connection = request.accept(null, origin)\n    const { query } = request.resourceURL\n\n    Socket.create(connection, { query })\n  })\n}\n\ninit()\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/config/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/config/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/config/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/config/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/config/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.env = void 0;\n\nvar _environments = _interopRequireDefault(require(\"./environments\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst NODE_ENV = process.env.NODE_ENV || 'development';\nconst env = {\n  [NODE_ENV]: true\n};\nexports.env = env;\nconst configMode = process.env.CONFIG_MODE;\nvar config = Object.assign(_environments.default.default, _environments.default[NODE_ENV]);\n\nif (typeof configMode !== 'undefined' && _environments.default[configMode]) {\n  config = Object.assign(config, _environments.default[configMode]);\n}\n\nvar _default = config;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIk5PREVfRU5WIiwicHJvY2VzcyIsImVudiIsImNvbmZpZ01vZGUiLCJDT05GSUdfTU9ERSIsImNvbmZpZyIsIk9iamVjdCIsImFzc2lnbiIsInNldHRpbmdzIiwiZGVmYXVsdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsUUFBWixJQUF3QixhQUF6QztBQUNBLE1BQU1FLEdBQUcsR0FBRztBQUFFLEdBQUNGLFFBQUQsR0FBWTtBQUFkLENBQVo7O0FBRUEsTUFBTUcsVUFBVSxHQUFHRixPQUFPLENBQUNDLEdBQVIsQ0FBWUUsV0FBL0I7QUFDQSxJQUFJQyxNQUFNLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjQyxzQkFBU0MsT0FBdkIsRUFBZ0NELHNCQUFTUixRQUFULENBQWhDLENBQWI7O0FBQ0EsSUFBSSxPQUFPRyxVQUFQLEtBQXNCLFdBQXRCLElBQXFDSyxzQkFBU0wsVUFBVCxDQUF6QyxFQUErRDtBQUM5REUsRUFBQUEsTUFBTSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBY0YsTUFBZCxFQUFzQkcsc0JBQVNMLFVBQVQsQ0FBdEIsQ0FBVDtBQUNBOztlQUdjRSxNIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3dlYnBob25lLW5vZGUvY29uZmlnLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZXR0aW5ncyBmcm9tICcuL2Vudmlyb25tZW50cydcblxuY29uc3QgTk9ERV9FTlYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnXG5jb25zdCBlbnYgPSB7IFtOT0RFX0VOVl06IHRydWUgfVxuXG5jb25zdCBjb25maWdNb2RlID0gcHJvY2Vzcy5lbnYuQ09ORklHX01PREVcbnZhciBjb25maWcgPSBPYmplY3QuYXNzaWduKHNldHRpbmdzLmRlZmF1bHQsIHNldHRpbmdzW05PREVfRU5WXSlcbmlmICh0eXBlb2YgY29uZmlnTW9kZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2V0dGluZ3NbY29uZmlnTW9kZV0pIHtcblx0Y29uZmlnID0gT2JqZWN0LmFzc2lnbihjb25maWcsIHNldHRpbmdzW2NvbmZpZ01vZGVdKVxufVxuXG5leHBvcnQgeyBlbnYgfVxuZXhwb3J0IGRlZmF1bHQgY29uZmlnXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "NODE_ENV",
        "process",
        "env",
        "configMode",
        "CONFIG_MODE",
        "config",
        "Object",
        "assign",
        "settings",
        "default"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYF,QAAZ,IAAwB,aAAzC;AACA,MAAME,GAAG,GAAG;AAAE,GAACF,QAAD,GAAY;AAAd,CAAZ;;AAEA,MAAMG,UAAU,GAAGF,OAAO,CAACC,GAAR,CAAYE,WAA/B;AACA,IAAIC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAcC,sBAASC,OAAvB,EAAgCD,sBAASR,QAAT,CAAhC,CAAb;;AACA,IAAI,OAAOG,UAAP,KAAsB,WAAtB,IAAqCK,sBAASL,UAAT,CAAzC,EAA+D;AAC9DE,EAAAA,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAcF,MAAd,EAAsBG,sBAASL,UAAT,CAAtB,CAAT;AACA;;eAGcE,M",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/config/",
      "sourcesContent": [
        "import settings from './environments'\n\nconst NODE_ENV = process.env.NODE_ENV || 'development'\nconst env = { [NODE_ENV]: true }\n\nconst configMode = process.env.CONFIG_MODE\nvar config = Object.assign(settings.default, settings[NODE_ENV])\nif (typeof configMode !== 'undefined' && settings[configMode]) {\n\tconfig = Object.assign(config, settings[configMode])\n}\n\nexport { env }\nexport default config\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/config/environments.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/config/environments.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/config/environments.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/config/environments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/config/",
        "sourceFileName": "environments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar path = _interopRequireWildcard(require(\"path\"));\n\nvar _envSmart = _interopRequireDefault(require(\"env-smart\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// TODO CamelCase\n_envSmart.default.load();\n\nconst rootDir = path.join(__dirname, '..');\nvar _default = {\n  default: {\n    pid_file: process.env.pidFile,\n    port: process.env.port,\n    eslDebug: process.env.eslDebug,\n    use_socket: process.env.useSocket,\n    voipHost: process.env.voipHost,\n    voip_password: process.env.voipPassword,\n    voip_port: process.env.voipPort,\n    rootDir,\n    secretToken: process.env.secretToken,\n    allowedOrigin: process.env.allowedOrigin,\n    switcherPassword: process.env.switcherPassword,\n    webphoneServer: process.env.webphoneServer,\n    techAssistantUser: process.env.techAssistantUser,\n    defaultVoipPassword: process.env.defaultVoipPassword\n  },\n  development: {\n    allowedOrigin: process.env.devAllowedOrigin\n  },\n  docker: {\n    use_socket: process.env.dockerUse_socket,\n    socket_file: process.env.dockerSocket_file,\n    webphoneServer: process.env.dockerWebphoneServer,\n    allowedOrigin: process.env.dockerAllowedOrigin\n  },\n  staging: {\n    use_socket: process.env.stagingUseSocket,\n    socket_file: process.env.stagingSocketFile,\n    voipHost: process.env.stagingVoipHost,\n    voip_password: process.env.stagingVoip_password,\n    webphoneServer: process.env.stagingWebphoneServer,\n    allowedOrigin: process.env.stagingAllowedOrigin\n  },\n  bench: {\n    use_socket: process.env.benchUse_socket,\n    socket_file: process.env.benchSocket_file,\n    voipHost: process.env.benchVoipHost,\n    voip_password: process.env.benchVoip_password,\n    webphoneServer: process.env.benchWebphoneServer,\n    allowedOrigin: process.env.benchAllowedOrigin\n  },\n  production: {\n    use_socket: process.env.prodUse_socket,\n    socket_file: process.env.prodSocket_file,\n    voipHost: process.env.prodVoipHost,\n    voip_password: process.env.prodVoip_password,\n    webphoneServer: process.env.prodWebphoneServer,\n    allowedOrigin: process.env.prodAllowedOrigin\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudmlyb25tZW50cy5qcyJdLCJuYW1lcyI6WyJlbnYiLCJsb2FkIiwicm9vdERpciIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwiZGVmYXVsdCIsInBpZF9maWxlIiwicHJvY2VzcyIsInBpZEZpbGUiLCJwb3J0IiwiZXNsRGVidWciLCJ1c2Vfc29ja2V0IiwidXNlU29ja2V0Iiwidm9pcEhvc3QiLCJ2b2lwX3Bhc3N3b3JkIiwidm9pcFBhc3N3b3JkIiwidm9pcF9wb3J0Iiwidm9pcFBvcnQiLCJzZWNyZXRUb2tlbiIsImFsbG93ZWRPcmlnaW4iLCJzd2l0Y2hlclBhc3N3b3JkIiwid2VicGhvbmVTZXJ2ZXIiLCJ0ZWNoQXNzaXN0YW50VXNlciIsImRlZmF1bHRWb2lwUGFzc3dvcmQiLCJkZXZlbG9wbWVudCIsImRldkFsbG93ZWRPcmlnaW4iLCJkb2NrZXIiLCJkb2NrZXJVc2Vfc29ja2V0Iiwic29ja2V0X2ZpbGUiLCJkb2NrZXJTb2NrZXRfZmlsZSIsImRvY2tlcldlYnBob25lU2VydmVyIiwiZG9ja2VyQWxsb3dlZE9yaWdpbiIsInN0YWdpbmciLCJzdGFnaW5nVXNlU29ja2V0Iiwic3RhZ2luZ1NvY2tldEZpbGUiLCJzdGFnaW5nVm9pcEhvc3QiLCJzdGFnaW5nVm9pcF9wYXNzd29yZCIsInN0YWdpbmdXZWJwaG9uZVNlcnZlciIsInN0YWdpbmdBbGxvd2VkT3JpZ2luIiwiYmVuY2giLCJiZW5jaFVzZV9zb2NrZXQiLCJiZW5jaFNvY2tldF9maWxlIiwiYmVuY2hWb2lwSG9zdCIsImJlbmNoVm9pcF9wYXNzd29yZCIsImJlbmNoV2VicGhvbmVTZXJ2ZXIiLCJiZW5jaEFsbG93ZWRPcmlnaW4iLCJwcm9kdWN0aW9uIiwicHJvZFVzZV9zb2NrZXQiLCJwcm9kU29ja2V0X2ZpbGUiLCJwcm9kVm9pcEhvc3QiLCJwcm9kVm9pcF9wYXNzd29yZCIsInByb2RXZWJwaG9uZVNlcnZlciIsInByb2RBbGxvd2VkT3JpZ2luIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBRkE7QUFHQUEsa0JBQUlDLElBQUo7O0FBRUEsTUFBTUMsT0FBTyxHQUFHQyxJQUFJLENBQUNDLElBQUwsQ0FBVUMsU0FBVixFQUFxQixJQUFyQixDQUFoQjtlQUNlO0FBQ2JDLEVBQUFBLE9BQU8sRUFBRTtBQUNQQyxJQUFBQSxRQUFRLEVBQUVDLE9BQU8sQ0FBQ1IsR0FBUixDQUFZUyxPQURmO0FBRVBDLElBQUFBLElBQUksRUFBRUYsT0FBTyxDQUFDUixHQUFSLENBQVlVLElBRlg7QUFHUEMsSUFBQUEsUUFBUSxFQUFFSCxPQUFPLENBQUNSLEdBQVIsQ0FBWVcsUUFIZjtBQUlQQyxJQUFBQSxVQUFVLEVBQUVKLE9BQU8sQ0FBQ1IsR0FBUixDQUFZYSxTQUpqQjtBQUtQQyxJQUFBQSxRQUFRLEVBQUVOLE9BQU8sQ0FBQ1IsR0FBUixDQUFZYyxRQUxmO0FBTVBDLElBQUFBLGFBQWEsRUFBRVAsT0FBTyxDQUFDUixHQUFSLENBQVlnQixZQU5wQjtBQU9QQyxJQUFBQSxTQUFTLEVBQUVULE9BQU8sQ0FBQ1IsR0FBUixDQUFZa0IsUUFQaEI7QUFRUGhCLElBQUFBLE9BUk87QUFTUGlCLElBQUFBLFdBQVcsRUFBRVgsT0FBTyxDQUFDUixHQUFSLENBQVltQixXQVRsQjtBQVVQQyxJQUFBQSxhQUFhLEVBQUVaLE9BQU8sQ0FBQ1IsR0FBUixDQUFZb0IsYUFWcEI7QUFXUEMsSUFBQUEsZ0JBQWdCLEVBQUViLE9BQU8sQ0FBQ1IsR0FBUixDQUFZcUIsZ0JBWHZCO0FBWVBDLElBQUFBLGNBQWMsRUFBRWQsT0FBTyxDQUFDUixHQUFSLENBQVlzQixjQVpyQjtBQWFQQyxJQUFBQSxpQkFBaUIsRUFBRWYsT0FBTyxDQUFDUixHQUFSLENBQVl1QixpQkFieEI7QUFjUEMsSUFBQUEsbUJBQW1CLEVBQUVoQixPQUFPLENBQUNSLEdBQVIsQ0FBWXdCO0FBZDFCLEdBREk7QUFrQmJDLEVBQUFBLFdBQVcsRUFBRTtBQUNYTCxJQUFBQSxhQUFhLEVBQUVaLE9BQU8sQ0FBQ1IsR0FBUixDQUFZMEI7QUFEaEIsR0FsQkE7QUFxQmJDLEVBQUFBLE1BQU0sRUFBRTtBQUNOZixJQUFBQSxVQUFVLEVBQUVKLE9BQU8sQ0FBQ1IsR0FBUixDQUFZNEIsZ0JBRGxCO0FBRU5DLElBQUFBLFdBQVcsRUFBRXJCLE9BQU8sQ0FBQ1IsR0FBUixDQUFZOEIsaUJBRm5CO0FBR05SLElBQUFBLGNBQWMsRUFBRWQsT0FBTyxDQUFDUixHQUFSLENBQVkrQixvQkFIdEI7QUFJTlgsSUFBQUEsYUFBYSxFQUFFWixPQUFPLENBQUNSLEdBQVIsQ0FBWWdDO0FBSnJCLEdBckJLO0FBMkJiQyxFQUFBQSxPQUFPLEVBQUU7QUFDUHJCLElBQUFBLFVBQVUsRUFBRUosT0FBTyxDQUFDUixHQUFSLENBQVlrQyxnQkFEakI7QUFFUEwsSUFBQUEsV0FBVyxFQUFFckIsT0FBTyxDQUFDUixHQUFSLENBQVltQyxpQkFGbEI7QUFHUHJCLElBQUFBLFFBQVEsRUFBRU4sT0FBTyxDQUFDUixHQUFSLENBQVlvQyxlQUhmO0FBSVByQixJQUFBQSxhQUFhLEVBQUVQLE9BQU8sQ0FBQ1IsR0FBUixDQUFZcUMsb0JBSnBCO0FBS1BmLElBQUFBLGNBQWMsRUFBRWQsT0FBTyxDQUFDUixHQUFSLENBQVlzQyxxQkFMckI7QUFNUGxCLElBQUFBLGFBQWEsRUFBRVosT0FBTyxDQUFDUixHQUFSLENBQVl1QztBQU5wQixHQTNCSTtBQW1DYkMsRUFBQUEsS0FBSyxFQUFFO0FBQ0w1QixJQUFBQSxVQUFVLEVBQUVKLE9BQU8sQ0FBQ1IsR0FBUixDQUFZeUMsZUFEbkI7QUFFTFosSUFBQUEsV0FBVyxFQUFFckIsT0FBTyxDQUFDUixHQUFSLENBQVkwQyxnQkFGcEI7QUFHTDVCLElBQUFBLFFBQVEsRUFBRU4sT0FBTyxDQUFDUixHQUFSLENBQVkyQyxhQUhqQjtBQUlMNUIsSUFBQUEsYUFBYSxFQUFFUCxPQUFPLENBQUNSLEdBQVIsQ0FBWTRDLGtCQUp0QjtBQUtMdEIsSUFBQUEsY0FBYyxFQUFFZCxPQUFPLENBQUNSLEdBQVIsQ0FBWTZDLG1CQUx2QjtBQU1MekIsSUFBQUEsYUFBYSxFQUFFWixPQUFPLENBQUNSLEdBQVIsQ0FBWThDO0FBTnRCLEdBbkNNO0FBMkNiQyxFQUFBQSxVQUFVLEVBQUU7QUFDVm5DLElBQUFBLFVBQVUsRUFBRUosT0FBTyxDQUFDUixHQUFSLENBQVlnRCxjQURkO0FBRVZuQixJQUFBQSxXQUFXLEVBQUVyQixPQUFPLENBQUNSLEdBQVIsQ0FBWWlELGVBRmY7QUFHVm5DLElBQUFBLFFBQVEsRUFBRU4sT0FBTyxDQUFDUixHQUFSLENBQVlrRCxZQUhaO0FBSVZuQyxJQUFBQSxhQUFhLEVBQUVQLE9BQU8sQ0FBQ1IsR0FBUixDQUFZbUQsaUJBSmpCO0FBS1Y3QixJQUFBQSxjQUFjLEVBQUVkLE9BQU8sQ0FBQ1IsR0FBUixDQUFZb0Qsa0JBTGxCO0FBTVZoQyxJQUFBQSxhQUFhLEVBQUVaLE9BQU8sQ0FBQ1IsR0FBUixDQUFZcUQ7QUFOakI7QUEzQ0MsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL2NvbmZpZy8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUT0RPIENhbWVsQ2FzZVxuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IGVudiBmcm9tICdlbnYtc21hcnQnO1xuZW52LmxvYWQoKTtcblxuY29uc3Qgcm9vdERpciA9IHBhdGguam9pbihfX2Rpcm5hbWUsICcuLicpXG5leHBvcnQgZGVmYXVsdCB7XG4gIGRlZmF1bHQ6IHtcbiAgICBwaWRfZmlsZTogcHJvY2Vzcy5lbnYucGlkRmlsZSxcbiAgICBwb3J0OiBwcm9jZXNzLmVudi5wb3J0LFxuICAgIGVzbERlYnVnOiBwcm9jZXNzLmVudi5lc2xEZWJ1ZyxcbiAgICB1c2Vfc29ja2V0OiBwcm9jZXNzLmVudi51c2VTb2NrZXQsXG4gICAgdm9pcEhvc3Q6IHByb2Nlc3MuZW52LnZvaXBIb3N0LFxuICAgIHZvaXBfcGFzc3dvcmQ6IHByb2Nlc3MuZW52LnZvaXBQYXNzd29yZCxcbiAgICB2b2lwX3BvcnQ6IHByb2Nlc3MuZW52LnZvaXBQb3J0LFxuICAgIHJvb3REaXIsXG4gICAgc2VjcmV0VG9rZW46IHByb2Nlc3MuZW52LnNlY3JldFRva2VuLFxuICAgIGFsbG93ZWRPcmlnaW46IHByb2Nlc3MuZW52LmFsbG93ZWRPcmlnaW4sXG4gICAgc3dpdGNoZXJQYXNzd29yZDogcHJvY2Vzcy5lbnYuc3dpdGNoZXJQYXNzd29yZCxcbiAgICB3ZWJwaG9uZVNlcnZlcjogcHJvY2Vzcy5lbnYud2VicGhvbmVTZXJ2ZXIsXG4gICAgdGVjaEFzc2lzdGFudFVzZXI6IHByb2Nlc3MuZW52LnRlY2hBc3Npc3RhbnRVc2VyLFxuICAgIGRlZmF1bHRWb2lwUGFzc3dvcmQ6IHByb2Nlc3MuZW52LmRlZmF1bHRWb2lwUGFzc3dvcmRcblxuICB9LFxuICBkZXZlbG9wbWVudDoge1xuICAgIGFsbG93ZWRPcmlnaW46IHByb2Nlc3MuZW52LmRldkFsbG93ZWRPcmlnaW5cbiAgfSxcbiAgZG9ja2VyOiB7XG4gICAgdXNlX3NvY2tldDogcHJvY2Vzcy5lbnYuZG9ja2VyVXNlX3NvY2tldCxcbiAgICBzb2NrZXRfZmlsZTogcHJvY2Vzcy5lbnYuZG9ja2VyU29ja2V0X2ZpbGUsXG4gICAgd2VicGhvbmVTZXJ2ZXI6IHByb2Nlc3MuZW52LmRvY2tlcldlYnBob25lU2VydmVyLFxuICAgIGFsbG93ZWRPcmlnaW46IHByb2Nlc3MuZW52LmRvY2tlckFsbG93ZWRPcmlnaW5cbiAgfSxcbiAgc3RhZ2luZzoge1xuICAgIHVzZV9zb2NrZXQ6IHByb2Nlc3MuZW52LnN0YWdpbmdVc2VTb2NrZXQsXG4gICAgc29ja2V0X2ZpbGU6IHByb2Nlc3MuZW52LnN0YWdpbmdTb2NrZXRGaWxlLFxuICAgIHZvaXBIb3N0OiBwcm9jZXNzLmVudi5zdGFnaW5nVm9pcEhvc3QsXG4gICAgdm9pcF9wYXNzd29yZDogcHJvY2Vzcy5lbnYuc3RhZ2luZ1ZvaXBfcGFzc3dvcmQsXG4gICAgd2VicGhvbmVTZXJ2ZXI6IHByb2Nlc3MuZW52LnN0YWdpbmdXZWJwaG9uZVNlcnZlcixcbiAgICBhbGxvd2VkT3JpZ2luOiBwcm9jZXNzLmVudi5zdGFnaW5nQWxsb3dlZE9yaWdpblxuICB9LFxuICBiZW5jaDoge1xuICAgIHVzZV9zb2NrZXQ6IHByb2Nlc3MuZW52LmJlbmNoVXNlX3NvY2tldCxcbiAgICBzb2NrZXRfZmlsZTogcHJvY2Vzcy5lbnYuYmVuY2hTb2NrZXRfZmlsZSxcbiAgICB2b2lwSG9zdDogcHJvY2Vzcy5lbnYuYmVuY2hWb2lwSG9zdCxcbiAgICB2b2lwX3Bhc3N3b3JkOiBwcm9jZXNzLmVudi5iZW5jaFZvaXBfcGFzc3dvcmQsXG4gICAgd2VicGhvbmVTZXJ2ZXI6IHByb2Nlc3MuZW52LmJlbmNoV2VicGhvbmVTZXJ2ZXIsXG4gICAgYWxsb3dlZE9yaWdpbjogcHJvY2Vzcy5lbnYuYmVuY2hBbGxvd2VkT3JpZ2luXG4gIH0sXG4gIHByb2R1Y3Rpb246IHtcbiAgICB1c2Vfc29ja2V0OiBwcm9jZXNzLmVudi5wcm9kVXNlX3NvY2tldCxcbiAgICBzb2NrZXRfZmlsZTogcHJvY2Vzcy5lbnYucHJvZFNvY2tldF9maWxlLFxuICAgIHZvaXBIb3N0OiBwcm9jZXNzLmVudi5wcm9kVm9pcEhvc3QsXG4gICAgdm9pcF9wYXNzd29yZDogcHJvY2Vzcy5lbnYucHJvZFZvaXBfcGFzc3dvcmQsXG4gICAgd2VicGhvbmVTZXJ2ZXI6IHByb2Nlc3MuZW52LnByb2RXZWJwaG9uZVNlcnZlcixcbiAgICBhbGxvd2VkT3JpZ2luOiBwcm9jZXNzLmVudi5wcm9kQWxsb3dlZE9yaWdpblxuICB9XG5cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "environments.js"
      ],
      "names": [
        "env",
        "load",
        "rootDir",
        "path",
        "join",
        "__dirname",
        "default",
        "pid_file",
        "process",
        "pidFile",
        "port",
        "eslDebug",
        "use_socket",
        "useSocket",
        "voipHost",
        "voip_password",
        "voipPassword",
        "voip_port",
        "voipPort",
        "secretToken",
        "allowedOrigin",
        "switcherPassword",
        "webphoneServer",
        "techAssistantUser",
        "defaultVoipPassword",
        "development",
        "devAllowedOrigin",
        "docker",
        "dockerUse_socket",
        "socket_file",
        "dockerSocket_file",
        "dockerWebphoneServer",
        "dockerAllowedOrigin",
        "staging",
        "stagingUseSocket",
        "stagingSocketFile",
        "stagingVoipHost",
        "stagingVoip_password",
        "stagingWebphoneServer",
        "stagingAllowedOrigin",
        "bench",
        "benchUse_socket",
        "benchSocket_file",
        "benchVoipHost",
        "benchVoip_password",
        "benchWebphoneServer",
        "benchAllowedOrigin",
        "production",
        "prodUse_socket",
        "prodSocket_file",
        "prodVoipHost",
        "prodVoip_password",
        "prodWebphoneServer",
        "prodAllowedOrigin"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/config/",
      "sourcesContent": [
        "// TODO CamelCase\nimport * as path from 'path'\nimport env from 'env-smart';\nenv.load();\n\nconst rootDir = path.join(__dirname, '..')\nexport default {\n  default: {\n    pid_file: process.env.pidFile,\n    port: process.env.port,\n    eslDebug: process.env.eslDebug,\n    use_socket: process.env.useSocket,\n    voipHost: process.env.voipHost,\n    voip_password: process.env.voipPassword,\n    voip_port: process.env.voipPort,\n    rootDir,\n    secretToken: process.env.secretToken,\n    allowedOrigin: process.env.allowedOrigin,\n    switcherPassword: process.env.switcherPassword,\n    webphoneServer: process.env.webphoneServer,\n    techAssistantUser: process.env.techAssistantUser,\n    defaultVoipPassword: process.env.defaultVoipPassword\n\n  },\n  development: {\n    allowedOrigin: process.env.devAllowedOrigin\n  },\n  docker: {\n    use_socket: process.env.dockerUse_socket,\n    socket_file: process.env.dockerSocket_file,\n    webphoneServer: process.env.dockerWebphoneServer,\n    allowedOrigin: process.env.dockerAllowedOrigin\n  },\n  staging: {\n    use_socket: process.env.stagingUseSocket,\n    socket_file: process.env.stagingSocketFile,\n    voipHost: process.env.stagingVoipHost,\n    voip_password: process.env.stagingVoip_password,\n    webphoneServer: process.env.stagingWebphoneServer,\n    allowedOrigin: process.env.stagingAllowedOrigin\n  },\n  bench: {\n    use_socket: process.env.benchUse_socket,\n    socket_file: process.env.benchSocket_file,\n    voipHost: process.env.benchVoipHost,\n    voip_password: process.env.benchVoip_password,\n    webphoneServer: process.env.benchWebphoneServer,\n    allowedOrigin: process.env.benchAllowedOrigin\n  },\n  production: {\n    use_socket: process.env.prodUse_socket,\n    socket_file: process.env.prodSocket_file,\n    voipHost: process.env.prodVoipHost,\n    voip_password: process.env.prodVoip_password,\n    webphoneServer: process.env.prodWebphoneServer,\n    allowedOrigin: process.env.prodAllowedOrigin\n  }\n\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/esl/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/esl/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _esl.default;\n  }\n});\n\nvar _esl = _interopRequireDefault(require(\"./esl\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9lc2wvIiwic291cmNlc0NvbnRlbnQiOltdfQ==",
    "map": {
      "version": 3,
      "sources": [],
      "names": [],
      "mappings": "",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/",
      "sourcesContent": []
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/esl/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/esl/esl.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/esl.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/esl.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/esl.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/",
        "sourceFileName": "esl.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util = _interopRequireDefault(require(\"util\"));\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar _config = _interopRequireDefault(require(\"../../config\"));\n\nvar _conferenceHandler = _interopRequireDefault(require(\"./handlers/conferenceHandler\"));\n\nvar _sofiaHandler = _interopRequireDefault(require(\"./handlers/sofiaHandler\"));\n\nvar _channelExecuteHander = _interopRequireDefault(require(\"./handlers/channelExecuteHander\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass Esl extends _events.default {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"init\", connection => {\n      this.connection = connection;\n      connection.events('json', ['CHANNEL_EXECUTE', 'CHANNEL_EXECUTE_COMPLETE', 'CUSTOM conference::maintenance sofia::register'].join(' '), e => console.log('subscribed on: CUSTOM conference::maintenance'));\n      connection.on('esl::**', e => {\n        if (_config.default.eslDebug) {\n          console.log(_util.default.inspect(e, {\n            maxArrayLength: null\n          }));\n        }\n\n        if (!e) return;\n\n        switch (e.type) {\n          case 'CUSTOM':\n            this.conferenceHandler.process(e);\n            this.sofiaHandler.process(e);\n            break;\n\n          case 'CHANNEL_EXECUTE':\n          case 'CHANNEL_EXECUTE_COMPLETE':\n            this.channelExecuteHander.process(e);\n            break;\n        }\n      });\n    });\n\n    this.conferenceHandler = new _conferenceHandler.default(this);\n    this.sofiaHandler = new _sofiaHandler.default(this);\n    this.channelExecuteHander = new _channelExecuteHander.default(this);\n  }\n\n  kickMember(memberId, roomId) {\n    return this.run(`conference ${roomId} kick ${memberId}`).catch(err => {\n      console.error(`ESL: Unable to kick ${memberId} from ${roomId}: ${err}`);\n    });\n  }\n\n  hupMember(memberId, roomId) {\n    return this.run(`conference ${roomId} hup ${memberId}`).catch(err => {\n      console.error(`ESL: Unable to hup ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  toggleSpeak(memberId, roomId) {\n    return this.run(`conference ${roomId} tmute ${memberId}`).catch(err => {\n      console.error(`ESL: Unable toggle speak for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  toggleHear(memberId, roomId, hear) {\n    const command = hear ? 'deaf' : 'undeaf';\n    return this.run(`conference ${roomId} ${command} ${memberId}`).catch(err => {\n      console.error(`ESL: Unable to toggle hear for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  muteSpeak(memberId, roomId) {\n    return this.run(`conference ${roomId} mute ${memberId}`).catch(err => {\n      console.error(`ESL: Unable to mute speak for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  unmuteSpeak(memberId, roomId) {\n    return this.run(`conference ${roomId} unmute ${memberId}`).catch(err => {\n      console.error(`ESL: Unable to unmute speak for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  muteHear(memberId, roomId) {\n    return this.run(`conference ${roomId} deaf ${memberId}`).catch(err => {\n      console.error(`ESL: Unable to mute hear for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  unmuteHear(memberId, roomId) {\n    return this.run(`conference ${roomId} undeaf ${memberId}`).catch(err => {\n      console.error(`ESL: Unable to unmute hear for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  volumeIn(memberId, roomId, level) {\n    return this.run(`conference ${roomId} volume_in ${memberId} ${level}`).catch(err => {\n      console.error(`ESL: Unable to set volume in for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  uuid_audio(uuid, command) {\n    return this.run(`uuid_audio ${uuid} ${command}`).catch(err => {\n      console.error(`ESL: Unable to run command '${command}' for uuid '${uuid}': ${err}`);\n    });\n  }\n\n  run(command, callback) {\n    return new Promise((resolve, reject) => {\n      this.connection.bgapi(command, res => {\n        if (res.getBody().indexOf('not found') !== -1) return reject(new Error(\"Not found\"));\n        if (callback) callback.call();\n        resolve(res);\n      });\n    });\n  }\n\n}\n\nvar _default = new Esl();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVzbC5qcyJdLCJuYW1lcyI6WyJFc2wiLCJFdmVudEVtaXR0ZXIiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwiY29ubmVjdGlvbiIsImV2ZW50cyIsImpvaW4iLCJlIiwiY29uc29sZSIsImxvZyIsIm9uIiwiY29uZmlnIiwiZXNsRGVidWciLCJ1dGlsIiwiaW5zcGVjdCIsIm1heEFycmF5TGVuZ3RoIiwidHlwZSIsImNvbmZlcmVuY2VIYW5kbGVyIiwicHJvY2VzcyIsInNvZmlhSGFuZGxlciIsImNoYW5uZWxFeGVjdXRlSGFuZGVyIiwiQ29uZmVyZW5jZUhhbmRsZXIiLCJTb2ZpYUhhbmRsZXIiLCJDaGFubmVsRXhlY3V0ZUhhbmRlciIsImtpY2tNZW1iZXIiLCJtZW1iZXJJZCIsInJvb21JZCIsInJ1biIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJodXBNZW1iZXIiLCJ0b2dnbGVTcGVhayIsInRvZ2dsZUhlYXIiLCJoZWFyIiwiY29tbWFuZCIsIm11dGVTcGVhayIsInVubXV0ZVNwZWFrIiwibXV0ZUhlYXIiLCJ1bm11dGVIZWFyIiwidm9sdW1lSW4iLCJsZXZlbCIsInV1aWRfYXVkaW8iLCJ1dWlkIiwiY2FsbGJhY2siLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImJnYXBpIiwicmVzIiwiZ2V0Qm9keSIsImluZGV4T2YiLCJFcnJvciIsImNhbGwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUEsTUFBTUEsR0FBTixTQUFrQkMsZUFBbEIsQ0FBK0I7QUFDN0JDLEVBQUFBLFdBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47O0FBRGlCLGtDQU9aQyxVQUFVLElBQUk7QUFDbkIsV0FBS0EsVUFBTCxHQUFrQkEsVUFBbEI7QUFDQUEsTUFBQUEsVUFBVSxDQUFDQyxNQUFYLENBQWtCLE1BQWxCLEVBQ0UsQ0FDRSxpQkFERixFQUVFLDBCQUZGLEVBR0UsZ0RBSEYs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TyxjQUFhRCxRQUFTLElBQUdnQixLQUFNLEVBQTdELEVBQWdFYixLQUFoRSxDQUF1RUMsR0FBRCxJQUFTO0FBQ3BGckIsTUFBQUEsT0FBTyxDQUFDc0IsS0FBUixDQUFlLG9DQUFtQ0wsUUFBUyxPQUFNQyxNQUFPLEtBQUlHLEdBQUksRUFBaEY7QUFDRCxLQUZNLENBQVA7QUFHRDs7QUFFRGEsRUFBQUEsVUFBVSxDQUFDQyxJQUFELEVBQU9SLE9BQVAsRUFBZ0I7QUFDeEIsV0FBTyxLQUFLUixHQUFMLENBQVUsY0FBYWdCLElBQUssSUFBR1IsT0FBUSxFQUF2QyxFQUEwQ1AsS0FBMUMsQ0FBaURDLEdBQUQsSUFBUztBQUM5RHJCLE1BQUFBLE9BQU8sQ0FBQ3NCLEtBQVIsQ0FBZSwrQkFBOEJLLE9BQVEsZUFBY1EsSUFBSyxNQUFLZCxHQUFJLEVBQWpGO0FBQ0QsS0FGTSxDQUFQO0FBR0Q7O0FBRURGLEVBQUFBLEdBQUcsQ0FBQ1EsT0FBRCxFQUFVUyxRQUFWLEVBQW9CO0FBQ3JCLFdBQU8sSUFBSUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0QyxXQUFLM0MsVUFBTCxDQUFnQjRDLEtBQWhCLENBQXNCYixPQUF0QixFQUFnQ2MsR0FBRCxJQUFTO0FBQ3RDLFlBQUlBLEdBQUcsQ0FBQ0MsT0FBSixHQUFjQyxPQUFkLENBQXNCLFdBQXRCLE1BQXVDLENBQUMsQ0FBNUMsRUFBK0MsT0FBT0osTUFBTSxDQUFDLElBQUlLLEtBQUosQ0FBVSxXQUFWLENBQUQsQ0FBYjtBQUMvQyxZQUFJUixRQUFKLEVBQWNBLFFBQVEsQ0FBQ1MsSUFBVDtBQUNkUCxRQUFBQSxPQUFPLENBQUNHLEdBQUQsQ0FBUDtBQUNELE9BSkQ7QUFLRCxLQU5NLENBQVA7QUFPRDs7QUF6RzRCOztlQTRHaEIsSUFBSWpELEdBQUosRSIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9lc2wvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHV0aWwgZnJvbSAndXRpbCdcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi8uLi9jb25maWcnXG5pbXBvcnQgQ29uZmVyZW5jZUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVycy9jb25mZXJlbmNlSGFuZGxlcidcbmltcG9ydCBTb2ZpYUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVycy9zb2ZpYUhhbmRsZXInXG5pbXBvcnQgQ2hhbm5lbEV4ZWN1dGVIYW5kZXIgZnJvbSAnLi9oYW5kbGVycy9jaGFubmVsRXhlY3V0ZUhhbmRlcidcblxuY2xhc3MgRXNsIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLmNvbmZlcmVuY2VIYW5kbGVyID0gbmV3IENvbmZlcmVuY2VIYW5kbGVyKHRoaXMpXG4gICAgdGhpcy5zb2ZpYUhhbmRsZXIgPSBuZXcgU29maWFIYW5kbGVyKHRoaXMpXG4gICAgdGhpcy5jaGFubmVsRXhlY3V0ZUhhbmRlciA9IG5ldyBDaGFubmVsRXhlY3V0ZUhhbmRlcih0aGlzKVxuICB9XG5cbiAgaW5pdCA9IGNvbm5lY3Rpb24gPT4ge1xuICAgIHRoaXMuY29ubmVjdGlvbiA9IGNvbm5lY3Rpb25cbiAgICBjb25uZWN0aW9uLmV2ZW50cygnanNvbicsXG4gICAgICBbXG4gICAgICAgICdDSEFOTkVMX0VYRUNVVEUnLFxuICAgICAgICAnQ0hBTk5FTF9FWEVDVVRFX0NPTVBMRVRFJyxcbiAgICAgICAgJ0NVU1RPTSBjb25mZXJlbmNlOjptYWludGVuYW5jZSBzb2ZpYTo6cmVnaXN0ZXInXG4gICAgICBdLmpvaW4oJyAnKSwgKGUpID0+IGNvbnNvbGUubG9nKCdzdWJzY3JpYmVkIG9uOiBDVVNUT00gY29uZmVyZW5jZTo6bWFpbnRlbmFuY2UnKSlcblxuICAgIGNvbm5lY3Rpb24ub24oJ2VzbDo6KionLCAoZSkgPT4ge1xuICAgICAgaWYgKGNvbmZpZy5lc2xEZWJ1Zykge1xuICAgICAgICBjb25zb2xlLmxvZyh1dGlsLmluc3BlY3QoZSwgeyBtYXhBcnJheUxlbmd0aDogbnVsbCB9KSlcbiAgICAgIH1cbiAgICAgIGlmICghZSkgcmV0dXJuXG5cbiAgICAgIHN3aXRjaCAoZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ0NVU1RPTSc6XG4gICAgICAgICAgdGhpcy5jb25mZXJlbmNlSGFuZGxlci5wcm9jZXNzKGUpXG4gICAgICAgICAgdGhpcy5zb2ZpYUhhbmRsZXIucHJvY2VzcyhlKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ0NIQU5ORUxfRVhFQ1VURSc6XG4gICAgICAgIGNhc2UgJ0NIQU5ORUxfRVhFQ1VURV9DT01QTEVURSc6XG4gICAgICAgICAgdGhpcy5jaGFubmVsRXhlY3V0ZUhhbmRlci5wcm9jZXNzKGUpXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAga2lja01lbWJlcihtZW1iZXJJZCwgcm9vbUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucnVuKGBjb25mZXJlbmNlICR7cm9vbUlkfSBraWNrICR7bWVtYmVySWR9YCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihgRVNMOiBVbmFibGUgdG8ga2ljayAke21lbWJlcklkfSBmcm9tICR7cm9vbUlkfTogJHtlcnJ9YCk7XG4gICAgfSk7XG4gIH1cblxuICBodXBNZW1iZXIobWVtYmVySWQsIHJvb21JZCkge1xuICAgIHJldHVybiB0aGlzLnJ1bihgY29uZmVyZW5jZSAke3Jvb21JZH0gaHVwICR7bWVtYmVySWR9YCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihgRVNMOiBVbmFibGUgdG8gaHVwICR7bWVtYmVySWR9IGluICR7cm9vbUlkfTogJHtlcnJ9YCk7XG4gICAgfSk7XG4gIH1cblxuICB0b2dnbGVTcGVhayhtZW1iZXJJZCwgcm9vbUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucnVuKGBjb25mZXJlbmNlICR7cm9vbUlkfSB0bXV0ZSAke21lbWJlcklkfWApLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVTTDogVW5hYmxlIHRvZ2dsZSBzcGVhayBmb3IgJHttZW1iZXJJZH0gaW4gJHtyb29tSWR9OiAke2Vycn1gKTtcbiAgICB9KTtcbiAgfVxuXG4gIHRvZ2dsZUhlYXIobWVtYmVySWQsIHJvb21JZCwgaGVhcikge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBoZWFyID8gJ2RlYWYnIDogJ3VuZGVhZidcbiAgICByZXR1cm4gdGhpcy5ydW4oYGNvbmZlcmVuY2UgJHtyb29tSWR9ICR7Y29tbWFuZH0gJHttZW1iZXJJZH1gKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFU0w6IFVuYWJsZSB0byB0b2dnbGUgaGVhciBmb3IgJHttZW1iZXJJZH0gaW4gJHtyb29tSWR9OiAke2Vycn1gKTtcbiAgICB9KTtcbiAgfVxuXG4gIG11dGVTcGVhayhtZW1iZXJJZCwgcm9vbUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucnVuKGBjb25mZXJlbmNlICR7cm9vbUlkfSBtdXRlICR7bWVtYmVySWR9YCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihgRVNMOiBVbmFibGUgdG8gbXV0ZSBzcGVhayBmb3IgJHttZW1iZXJJZH0gaW4gJHtyb29tSWR9OiAke2Vycn1gKTtcbiAgICB9KTtcbiAgfVxuXG4gIHVubXV0ZVNwZWFrKG1lbWJlcklkLCByb29tSWQpIHtcbiAgICByZXR1cm4gdGhpcy5ydW4oYGNvbmZlcmVuY2UgJHtyb29tSWR9IHVubXV0ZSAke21lbWJlcklkfWApLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVTTDogVW5hYmxlIHRvIHVubXV0ZSBzcGVhayBmb3IgJHttZW1iZXJJZH0gaW4gJHtyb29tSWR9OiAke2Vycn1gKTtcbiAgICB9KTtcbiAgfVxuXG4gIG11dGVIZWFyKG1lbWJlcklkLCByb29tSWQpIHtcbiAgICByZXR1cm4gdGhpcy5ydW4oYGNvbmZlcmVuY2UgJHtyb29tSWR9IGRlYWYgJHttZW1iZXJJZH1gKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFU0w6IFVuYWJsZSB0byBtdXRlIGhlYXIgZm9yICR7bWVtYmVySWR9IGluICR7cm9vbUlkfTogJHtlcnJ9YCk7XG4gICAgfSk7XG4gIH1cblxuICB1bm11dGVIZWFyKG1lbWJlcklkLCByb29tSWQpIHtcbiAgICByZXR1cm4gdGhpcy5ydW4oYGNvbmZlcmVuY2UgJHtyb29tSWR9IHVuZGVhZiAke21lbWJlcklkfWApLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVTTDogVW5hYmxlIHRvIHVubXV0ZSBoZWFyIGZvciAke21lbWJlcklkfSBpbiAke3Jvb21JZH06ICR7ZXJyfWApO1xuICAgIH0pO1xuICB9XG5cbiAgdm9sdW1lSW4obWVtYmVySWQsIHJvb21JZCwgbGV2ZWwpIHtcbiAgICByZXR1cm4gdGhpcy5ydW4oYGNvbmZlcmVuY2UgJHtyb29tSWR9IHZvbHVtZV9pbiAke21lbWJlcklkfSAke2xldmVsfWApLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVTTDogVW5hYmxlIHRvIHNldCB2b2x1bWUgaW4gZm9yICR7bWVtYmVySWR9IGluICR7cm9vbUlkfTogJHtlcnJ9YCk7XG4gICAgfSk7XG4gIH1cblxuICB1dWlkX2F1ZGlvKHV1aWQsIGNvbW1hbmQpIHtcbiAgICByZXR1cm4gdGhpcy5ydW4oYHV1aWRfYXVkaW8gJHt1dWlkfSAke2NvbW1hbmR9YCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihgRVNMOiBVbmFibGUgdG8gcnVuIGNvbW1hbmQgJyR7Y29tbWFuZH0nIGZvciB1dWlkICcke3V1aWR9JzogJHtlcnJ9YCk7XG4gICAgfSk7XG4gIH1cblxuICBydW4oY29tbWFuZCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5jb25uZWN0aW9uLmJnYXBpKGNvbW1hbmQsIChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5nZXRCb2R5KCkuaW5kZXhPZignbm90IGZvdW5kJykgIT09IC0xKSByZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcIk5vdCBmb3VuZFwiKSlcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjay5jYWxsKClcbiAgICAgICAgcmVzb2x2ZShyZXMpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEVzbCgpXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "esl.js"
      ],
      "names": [
        "Esl",
        "EventEmitter",
        "constructor",
        "props",
        "connection",
        "events",
        "join",
        "e",
        "console",
        "log",
        "on",
        "config",
        "eslDebug",
        "util",
        "inspect",
        "maxArrayLength",
        "type",
        "conferenceHandler",
        "process",
        "sofiaHandler",
        "channelExecuteHander",
        "ConferenceHandler",
        "SofiaHandler",
        "ChannelExecuteHander",
        "kickMember",
        "memberId",
        "roomId",
        "run",
        "catch",
        "err",
        "error",
        "hupMember",
        "toggleSpeak",
        "toggleHear",
        "hear",
        "command",
        "muteSpeak",
        "unmuteSpeak",
        "muteHear",
        "unmuteHear",
        "volumeIn",
        "level",
        "uuid_audio",
        "uuid",
        "callback",
        "Promise",
        "resolve",
        "reject",
        "bgapi",
        "res",
        "getBody",
        "indexOf",
        "Error",
        "call"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/",
      "sourcesContent": [
        "import util from 'util'\nimport EventEmitter from 'events'\nimport config from '../../config'\nimport ConferenceHandler from './handlers/conferenceHandler'\nimport SofiaHandler from './handlers/sofiaHandler'\nimport ChannelExecuteHander from './handlers/channelExecuteHander'\n\nclass Esl extends EventEmitter {\n  constructor(props) {\n    super(props)\n    this.conferenceHandler = new ConferenceHandler(this)\n    this.sofiaHandler = new SofiaHandler(this)\n    this.channelExecuteHander = new ChannelExecuteHander(this)\n  }\n\n  init = connection => {\n    this.connection = connection\n    connection.events('json',\n      [\n        'CHANNEL_EXECUTE',\n        'CHANNEL_EXECUTE_COMPLETE',\n        'CUSTOM conference::maintenance sofia::register'\n      ].join(' '), (e) => console.log('subscribed on: CUSTOM conference::maintenance'))\n\n    connection.on('esl::**', (e) => {\n      if (config.eslDebug) {\n        console.log(util.inspect(e, { maxArrayLength: null }))\n      }\n      if (!e) return\n\n      switch (e.type) {\n        case 'CUSTOM':\n          this.conferenceHandler.process(e)\n          this.sofiaHandler.process(e)\n          break\n        case 'CHANNEL_EXECUTE':\n        case 'CHANNEL_EXECUTE_COMPLETE':\n          this.channelExecuteHander.process(e)\n          break\n      }\n    })\n  }\n\n  kickMember(memberId, roomId) {\n    return this.run(`conference ${roomId} kick ${memberId}`).catch((err) => {\n      console.error(`ESL: Unable to kick ${memberId} from ${roomId}: ${err}`);\n    });\n  }\n\n  hupMember(memberId, roomId) {\n    return this.run(`conference ${roomId} hup ${memberId}`).catch((err) => {\n      console.error(`ESL: Unable to hup ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  toggleSpeak(memberId, roomId) {\n    return this.run(`conference ${roomId} tmute ${memberId}`).catch((err) => {\n      console.error(`ESL: Unable toggle speak for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  toggleHear(memberId, roomId, hear) {\n    const command = hear ? 'deaf' : 'undeaf'\n    return this.run(`conference ${roomId} ${command} ${memberId}`).catch((err) => {\n      console.error(`ESL: Unable to toggle hear for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  muteSpeak(memberId, roomId) {\n    return this.run(`conference ${roomId} mute ${memberId}`).catch((err) => {\n      console.error(`ESL: Unable to mute speak for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  unmuteSpeak(memberId, roomId) {\n    return this.run(`conference ${roomId} unmute ${memberId}`).catch((err) => {\n      console.error(`ESL: Unable to unmute speak for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  muteHear(memberId, roomId) {\n    return this.run(`conference ${roomId} deaf ${memberId}`).catch((err) => {\n      console.error(`ESL: Unable to mute hear for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  unmuteHear(memberId, roomId) {\n    return this.run(`conference ${roomId} undeaf ${memberId}`).catch((err) => {\n      console.error(`ESL: Unable to unmute hear for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  volumeIn(memberId, roomId, level) {\n    return this.run(`conference ${roomId} volume_in ${memberId} ${level}`).catch((err) => {\n      console.error(`ESL: Unable to set volume in for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  uuid_audio(uuid, command) {\n    return this.run(`uuid_audio ${uuid} ${command}`).catch((err) => {\n      console.error(`ESL: Unable to run command '${command}' for uuid '${uuid}': ${err}`);\n    });\n  }\n\n  run(command, callback) {\n    return new Promise((resolve, reject) => {\n      this.connection.bgapi(command, (res) => {\n        if (res.getBody().indexOf('not found') !== -1) return reject(new Error(\"Not found\"))\n        if (callback) callback.call()\n        resolve(res)\n      })\n    })\n  }\n}\n\nexport default new Esl()\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/conferenceHandler.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/conferenceHandler.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/conferenceHandler.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/conferenceHandler.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/",
        "sourceFileName": "conferenceHandler.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _member = _interopRequireDefault(require(\"../../models/member\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst ADD_MEMBER = 'ADD_MEMBER';\nconst DEL_MEMBER = 'DEL_MEMBER';\nconst TOGGLE_SPEAK = 'TOGGLE_SPEAK';\nconst TOGGLE_HEAR = 'TOGGLE_HEAR';\nconst TOGGLE_TALKING = 'TOGGLE_TALKING';\n\nclass ConferenceHandler {\n  constructor(esl) {\n    this.esl = esl;\n    this.subscribe();\n  }\n\n  subscribe() {\n    this.esl.on(ADD_MEMBER, _member.default.add).on(DEL_MEMBER, _member.default.remove).on(TOGGLE_SPEAK, _member.default.update).on(TOGGLE_HEAR, _member.default.update).on(TOGGLE_TALKING, _member.default.update);\n  }\n\n  process(e) {\n    const eventSubclass = e.getHeader('Event-Subclass');\n    if (eventSubclass !== 'conference::maintenance') return;\n    const action = e.getHeader('Action');\n\n    switch (action) {\n      case 'add-member':\n        return this.onAddMember(e);\n\n      case 'del-member':\n        return this.onDelMember.call(this, e);\n\n      case 'mute-member':\n      case 'unmute-member':\n        return this.onToggleSpeak.call(this, e, action);\n\n      case 'deaf-member':\n      case 'undeaf-member':\n        return this.onToggleHear(e, action);\n\n      case 'start-talking':\n      case 'stop-talking':\n        return this.onToggleTalking(e);\n\n      case 'volume-in-member':\n        // Handle volume_in\n        break;\n    }\n  }\n\n  onAddMember(e) {\n    const id = e.getHeader('Member-ID');\n    const roomId = e.getHeader('Conference-Name');\n    const nameId = e.getHeader('Caller-Caller-ID-Name');\n    const speak = e.getHeader('Speak') === 'true';\n    const hear = e.getHeader('Hear') === 'true';\n    console.log(`Conference ${roomId}, add Member ${id}, ${nameId}`);\n    this.esl.emit(ADD_MEMBER, {\n      id,\n      roomId,\n      nameId,\n      speak,\n      hear\n    });\n  }\n\n  onDelMember(e) {\n    const id = e.getHeader('Member-ID');\n    const nameId = e.getHeader('Caller-Caller-ID-Name');\n    const roomId = e.getHeader('Conference-Name');\n    console.log(`Conference ${roomId}, del Member ${id}, ${nameId}`);\n    this.esl.emit(DEL_MEMBER, id, roomId);\n  }\n\n  onToggleSpeak(e, event) {\n    const id = e.getHeader('Member-ID');\n    const speak = e.getHeader('Speak') === 'true';\n    const nameId = e.getHeader('Caller-Caller-ID-Name');\n    const roomId = e.getHeader('Conference-Name');\n    console.log(`Conference ${roomId}, ${event} Member ${id}, ${nameId}`);\n    this.esl.emit(TOGGLE_SPEAK, id, {\n      speak\n    });\n  }\n\n  onToggleHear(e, event) {\n    const id = e.getHeader('Member-ID');\n    const hear = e.getHeader('Hear') === 'true';\n    const nameId = e.getHeader('Caller-Caller-ID-Name');\n    const roomId = e.getHeader('Conference-Name');\n    console.log(`Conference ${roomId}, ${event} Member ${id}, ${nameId}`);\n    this.esl.emit(TOGGLE_HEAR, id, {\n      hear\n    });\n  }\n\n  onToggleTalking(e) {\n    const id = e.getHeader('Member-ID');\n    const nameId = e.getHeader('Caller-Caller-ID-Name');\n    const roomId = e.getHeader('Conference-Name');\n    const talking = e.getHeader('Talking') === 'true';\n    console.log(`Conference ${roomId}, member ${id} ${nameId} talking ${talking}`);\n    this.esl.emit(TOGGLE_TALKING, id, {\n      talking\n    });\n  }\n\n}\n\nexports.default = ConferenceHandler;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZlcmVuY2VIYW5kbGVyLmpzIl0sIm5hbWVzIjpbIkFERF9NRU1CRVIiLCJERUxfTUVNQkVSIiwiVE9HR0xFX1NQRUFLIiwiVE9HR0xFX0hFQVIiLCJUT0dHTEVfVEFMS0lORyIsIkNvbmZlcmVuY2VIYW5kbGVyIiwiY29uc3RydWN0b3IiLCJlc2wiLCJzdWJzY3JpYmUiLCJvbiIsIk1lbWJlciIsImFkZCIsInJlbW92ZSIsInVwZGF0ZSIsInByb2Nlc3MiLCJlIiwiZXZlbnRTdWJjbGFzcyIsImdldEhlYWRlciIsImFjdGlvbiIsIm9uQWRkTWVtYmVyIiwib25EZWxNZW1iZXIiLCJjYWxsIiwib25Ub2dnbGVTcGVhayIsIm9uVG9nZ2xlSGVhciIsIm9uVG9nZ2xlVGFsa2luZyIsImlkIiwicm9vbUlkIiwibmFtZUlkIiwic3BlYWsiLCJoZWFyIiwiY29uc29sZSIsImxvZyIsImVtaXQiLCJldmVudCIsInRhbGtpbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFVBQVUsR0FBRyxZQUFuQjtBQUNBLE1BQU1DLFVBQVUsR0FBRyxZQUFuQjtBQUNBLE1BQU1DLFlBQVksR0FBRyxjQUFyQjtBQUNBLE1BQU1DLFdBQVcsR0FBRyxhQUFwQjtBQUNBLE1BQU1DLGNBQWMsR0FBRyxnQkFBdkI7O0FBRWUsTUFBTUMsaUJBQU4sQ0FBd0I7QUFDckNDLEVBQUFBLFdBQVcsQ0FBQ0MsR0FBRCxFQUFNO0FBQ2YsU0FBS0EsR0FBTCxHQUFXQSxHQUFYO0FBQ0EsU0FBS0MsU0FBTDtBQUNEOztBQUVEQSxFQUFBQSxTQUFTLEdBQUc7QUFDVixTQUFLRCxHQUFMLENBQ0dFLEVBREgsQ0FDTVQsVUFETixFQUNrQlUsZ0JBQU9DLEdBRHpCLEVBRUdGLEVBRkgsQ0FFTVIsVUFGTixFQUVrQlMsZ0JBQU9FLE1BRnpCLEVBR0dILEVBSEgsQ0FHTVAsWUFITixFQUdvQlEsZ0JBQU9HLE1BSDNCLEVBSUdKLEVBSkgsQ0FJTU4sV0FKTixFQUltQk8sZ0JB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QUFDQWEsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQWEsY0FBYUwsTUFBTyxZQUFXRCxFQUFHLElBQUdFLE1BQU8sWUFBV08sT0FBUSxFQUE1RTtBQUNBLFNBQUszQixHQUFMLENBQVN5QixJQUFULENBQWM1QixjQUFkLEVBQThCcUIsRUFBOUIsRUFBa0M7QUFBRVMsTUFBQUE7QUFBRixLQUFsQztBQUNEOztBQW5Gb0MiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvd2VicGhvbmUtbm9kZS9zcmMvZXNsL2hhbmRsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNZW1iZXIgZnJvbSAnLi4vLi4vbW9kZWxzL21lbWJlcidcblxuY29uc3QgQUREX01FTUJFUiA9ICdBRERfTUVNQkVSJ1xuY29uc3QgREVMX01FTUJFUiA9ICdERUxfTUVNQkVSJ1xuY29uc3QgVE9HR0xFX1NQRUFLID0gJ1RPR0dMRV9TUEVBSydcbmNvbnN0IFRPR0dMRV9IRUFSID0gJ1RPR0dMRV9IRUFSJ1xuY29uc3QgVE9HR0xFX1RBTEtJTkcgPSAnVE9HR0xFX1RBTEtJTkcnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmZlcmVuY2VIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoZXNsKSB7XG4gICAgdGhpcy5lc2wgPSBlc2xcbiAgICB0aGlzLnN1YnNjcmliZSgpXG4gIH1cblxuICBzdWJzY3JpYmUoKSB7XG4gICAgdGhpcy5lc2xcbiAgICAgIC5vbihBRERfTUVNQkVSLCBNZW1iZXIuYWRkKVxuICAgICAgLm9uKERFTF9NRU1CRVIsIE1lbWJlci5yZW1vdmUpXG4gICAgICAub24oVE9HR0xFX1NQRUFLLCBNZW1iZXIudXBkYXRlKVxuICAgICAgLm9uKFRPR0dMRV9IRUFSLCBNZW1iZXIudXBkYXRlKVxuICAgICAgLm9uKFRPR0dMRV9UQUxLSU5HLCBNZW1iZXIudXBkYXRlKVxuICB9XG5cbiAgcHJvY2VzcyhlKSB7XG4gICAgY29uc3QgZXZlbnRTdWJjbGFzcyA9IGUuZ2V0SGVhZGVyKCdFdmVudC1TdWJjbGFzcycpXG4gICAgaWYgKGV2ZW50U3ViY2xhc3MgIT09ICdjb25mZXJlbmNlOjptYWludGVuYW5jZScpIHJldHVyblxuXG4gICAgY29uc3QgYWN0aW9uID0gZS5nZXRIZWFkZXIoJ0FjdGlvbicpXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgIGNhc2UgJ2FkZC1tZW1iZXInOlxuICAgICAgICByZXR1cm4gdGhpcy5vbkFkZE1lbWJlcihlKVxuICAgICAgY2FzZSAnZGVsLW1lbWJlcic6XG4gICAgICAgIHJldHVybiB0aGlzLm9uRGVsTWVtYmVyLmNhbGwodGhpcywgZSlcbiAgICAgIGNhc2UgJ211dGUtbWVtYmVyJzpcbiAgICAgIGNhc2UgJ3VubXV0ZS1tZW1iZXInOlxuICAgICAgICByZXR1cm4gdGhpcy5vblRvZ2dsZVNwZWFrLmNhbGwodGhpcywgZSwgYWN0aW9uKVxuICAgICAgY2FzZSAnZGVhZi1tZW1iZXInOlxuICAgICAgY2FzZSAndW5kZWFmLW1lbWJlcic6XG4gICAgICAgIHJldHVybiB0aGlzLm9uVG9nZ2xlSGVhcihlLCBhY3Rpb24pXG4gICAgICBjYXNlICdzdGFydC10YWxraW5nJzpcbiAgICAgIGNhc2UgJ3N0b3AtdGFsa2luZyc6XG4gICAgICAgIHJldHVybiB0aGlzLm9uVG9nZ2xlVGFsa2luZyhlKVxuICAgICAgY2FzZSAndm9sdW1lLWluLW1lbWJlcic6XG4gICAgICAgIC8vIEhhbmRsZSB2b2x1bWVfaW5cbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBvbkFkZE1lbWJlcihlKSB7XG4gICAgY29uc3QgaWQgPSBlLmdldEhlYWRlcignTWVtYmVyLUlEJylcbiAgICBjb25zdCByb29tSWQgPSBlLmdldEhlYWRlcignQ29uZmVyZW5jZS1OYW1lJylcbiAgICBjb25zdCBuYW1lSWQgPSBlLmdldEhlYWRlcignQ2FsbGVyLUNhbGxlci1JRC1OYW1lJylcbiAgICBjb25zdCBzcGVhayA9IGUuZ2V0SGVhZGVyKCdTcGVhaycpID09PSAndHJ1ZSdcbiAgICBjb25zdCBoZWFyID0gZS5nZXRIZWFkZXIoJ0hlYXInKSA9PT0gJ3RydWUnXG4gICAgY29uc29sZS5sb2coYENvbmZlcmVuY2UgJHtyb29tSWR9LCBhZGQgTWVtYmVyICR7aWR9LCAke25hbWVJZH1gKVxuICAgIHRoaXMuZXNsLmVtaXQoQUREX01FTUJFUiwgeyBpZCwgcm9vbUlkLCBuYW1lSWQsIHNwZWFrLCBoZWFyIH0pXG4gIH1cblxuICBvbkRlbE1lbWJlcihlKSB7XG4gICAgY29uc3QgaWQgPSBlLmdldEhlYWRlcignTWVtYmVyLUlEJylcbiAgICBjb25zdCBuYW1lSWQgPSBlLmdldEhlYWRlcignQ2FsbGVyLUNhbGxlci1JRC1OYW1lJylcbiAgICBjb25zdCByb29tSWQgPSBlLmdldEhlYWRlcignQ29uZmVyZW5jZS1OYW1lJylcbiAgICBjb25zb2xlLmxvZyhgQ29uZmVyZW5jZSAke3Jvb21JZH0sIGRlbCBNZW1iZXIgJHtpZH0sICR7bmFtZUlkfWApXG4gICAgdGhpcy5lc2wuZW1pdChERUxfTUVNQkVSLCBpZCwgcm9vbUlkKVxuICB9XG5cbiAgb25Ub2dnbGVTcGVhayhlLCBldmVudCkge1xuICAgIGNvbnN0IGlkID0gZS5nZXRIZWFkZXIoJ01lbWJlci1JRCcpXG4gICAgY29uc3Qgc3BlYWsgPSBlLmdldEhlYWRlcignU3BlYWsnKSA9PT0gJ3RydWUnXG4gICAgY29uc3QgbmFtZUlkID0gZS5nZXRIZWFkZXIoJ0NhbGxlci1DYWxsZXItSUQtTmFtZScpXG4gICAgY29uc3Qgcm9vbUlkID0gZS5nZXRIZWFkZXIoJ0NvbmZlcmVuY2UtTmFtZScpXG4gICAgY29uc29sZS5sb2coYENvbmZlcmVuY2UgJHtyb29tSWR9LCAke2V2ZW50fSBNZW1iZXIgJHtpZH0sICR7bmFtZUlkfWApXG4gICAgdGhpcy5lc2wuZW1pdChUT0dHTEVfU1BFQUssIGlkLCB7IHNwZWFrIH0pXG4gIH1cblxuICBvblRvZ2dsZUhlYXIoZSwgZXZlbnQpIHtcbiAgICBjb25zdCBpZCA9IGUuZ2V0SGVhZGVyKCdNZW1iZXItSUQnKVxuICAgIGNvbnN0IGhlYXIgPSBlLmdldEhlYWRlcignSGVhcicpID09PSAndHJ1ZSdcbiAgICBjb25zdCBuYW1lSWQgPSBlLmdldEhlYWRlcignQ2FsbGVyLUNhbGxlci1JRC1OYW1lJylcbiAgICBjb25zdCByb29tSWQgPSBlLmdldEhlYWRlcignQ29uZmVyZW5jZS1OYW1lJylcbiAgICBjb25zb2xlLmxvZyhgQ29uZmVyZW5jZSAke3Jvb21JZH0sICR7ZXZlbnR9IE1lbWJlciAke2lkfSwgJHtuYW1lSWR9YClcbiAgICB0aGlzLmVzbC5lbWl0KFRPR0dMRV9IRUFSLCBpZCwgeyBoZWFyIH0pXG4gIH1cblxuICBvblRvZ2dsZVRhbGtpbmcoZSkge1xuICAgIGNvbnN0IGlkID0gZS5nZXRIZWFkZXIoJ01lbWJlci1JRCcpXG4gICAgY29uc3QgbmFtZUlkID0gZS5nZXRIZWFkZXIoJ0NhbGxlci1DYWxsZXItSUQtTmFtZScpXG4gICAgY29uc3Qgcm9vbUlkID0gZS5nZXRIZWFkZXIoJ0NvbmZlcmVuY2UtTmFtZScpXG4gICAgY29uc3QgdGFsa2luZyA9IGUuZ2V0SGVhZGVyKCdUYWxraW5nJykgPT09ICd0cnVlJ1xuICAgIGNvbnNvbGUubG9nKGBDb25mZXJlbmNlICR7cm9vbUlkfSwgbWVtYmVyICR7aWR9ICR7bmFtZUlkfSB0YWxraW5nICR7dGFsa2luZ31gKVxuICAgIHRoaXMuZXNsLmVtaXQoVE9HR0xFX1RBTEtJTkcsIGlkLCB7IHRhbGtpbmcgfSlcbiAgfVxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "conferenceHandler.js"
      ],
      "names": [
        "ADD_MEMBER",
        "DEL_MEMBER",
        "TOGGLE_SPEAK",
        "TOGGLE_HEAR",
        "TOGGLE_TALKING",
        "ConferenceHandler",
        "constructor",
        "esl",
        "subscribe",
        "on",
        "Member",
        "add",
        "remove",
        "update",
        "process",
        "e",
        "eventSubclass",
        "getHeader",
        "action",
        "onAddMember",
        "onDelMember",
        "call",
        "onToggleSpeak",
        "onToggleHear",
        "onToggleTalking",
        "id",
        "roomId",
        "nameId",
        "speak",
        "hear",
        "console",
        "log",
        "emit",
        "event",
        "talking"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/",
      "sourcesContent": [
        "import Member from '../../models/member'\n\nconst ADD_MEMBER = 'ADD_MEMBER'\nconst DEL_MEMBER = 'DEL_MEMBER'\nconst TOGGLE_SPEAK = 'TOGGLE_SPEAK'\nconst TOGGLE_HEAR = 'TOGGLE_HEAR'\nconst TOGGLE_TALKING = 'TOGGLE_TALKING'\n\nexport default class ConferenceHandler {\n  constructor(esl) {\n    this.esl = esl\n    this.subscribe()\n  }\n\n  subscribe() {\n    this.esl\n      .on(ADD_MEMBER, Member.add)\n      .on(DEL_MEMBER, Member.remove)\n      .on(TOGGLE_SPEAK, Member.update)\n      .on(TOGGLE_HEAR, Member.update)\n      .on(TOGGLE_TALKING, Member.update)\n  }\n\n  process(e) {\n    const eventSubclass = e.getHeader('Event-Subclass')\n    if (eventSubclass !== 'conference::maintenance') return\n\n    const action = e.getHeader('Action')\n    switch (action) {\n      case 'add-member':\n        return this.onAddMember(e)\n      case 'del-member':\n        return this.onDelMember.call(this, e)\n      case 'mute-member':\n      case 'unmute-member':\n        return this.onToggleSpeak.call(this, e, action)\n      case 'deaf-member':\n      case 'undeaf-member':\n        return this.onToggleHear(e, action)\n      case 'start-talking':\n      case 'stop-talking':\n        return this.onToggleTalking(e)\n      case 'volume-in-member':\n        // Handle volume_in\n        break\n    }\n  }\n\n  onAddMember(e) {\n    const id = e.getHeader('Member-ID')\n    const roomId = e.getHeader('Conference-Name')\n    const nameId = e.getHeader('Caller-Caller-ID-Name')\n    const speak = e.getHeader('Speak') === 'true'\n    const hear = e.getHeader('Hear') === 'true'\n    console.log(`Conference ${roomId}, add Member ${id}, ${nameId}`)\n    this.esl.emit(ADD_MEMBER, { id, roomId, nameId, speak, hear })\n  }\n\n  onDelMember(e) {\n    const id = e.getHeader('Member-ID')\n    const nameId = e.getHeader('Caller-Caller-ID-Name')\n    const roomId = e.getHeader('Conference-Name')\n    console.log(`Conference ${roomId}, del Member ${id}, ${nameId}`)\n    this.esl.emit(DEL_MEMBER, id, roomId)\n  }\n\n  onToggleSpeak(e, event) {\n    const id = e.getHeader('Member-ID')\n    const speak = e.getHeader('Speak') === 'true'\n    const nameId = e.getHeader('Caller-Caller-ID-Name')\n    const roomId = e.getHeader('Conference-Name')\n    console.log(`Conference ${roomId}, ${event} Member ${id}, ${nameId}`)\n    this.esl.emit(TOGGLE_SPEAK, id, { speak })\n  }\n\n  onToggleHear(e, event) {\n    const id = e.getHeader('Member-ID')\n    const hear = e.getHeader('Hear') === 'true'\n    const nameId = e.getHeader('Caller-Caller-ID-Name')\n    const roomId = e.getHeader('Conference-Name')\n    console.log(`Conference ${roomId}, ${event} Member ${id}, ${nameId}`)\n    this.esl.emit(TOGGLE_HEAR, id, { hear })\n  }\n\n  onToggleTalking(e) {\n    const id = e.getHeader('Member-ID')\n    const nameId = e.getHeader('Caller-Caller-ID-Name')\n    const roomId = e.getHeader('Conference-Name')\n    const talking = e.getHeader('Talking') === 'true'\n    console.log(`Conference ${roomId}, member ${id} ${nameId} talking ${talking}`)\n    this.esl.emit(TOGGLE_TALKING, id, { talking })\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/member.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/member.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/member.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/member.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/",
        "sourceFileName": "member.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _esl = _interopRequireDefault(require(\"../esl\"));\n\nvar _record = _interopRequireDefault(require(\"./record\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _remote = _interopRequireDefault(require(\"./user/remote\"));\n\nvar _member = _interopRequireDefault(require(\"../serializers/member\"));\n\nvar _members = _interopRequireDefault(require(\"../services/members\"));\n\nvar _freeswitch = _interopRequireDefault(require(\"../services/freeswitch\"));\n\nvar _users = _interopRequireDefault(require(\"../services/users\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass Member extends _record.default {\n  constructor(data) {\n    super(data);\n    this.id = data.id;\n    this.roomId = data.roomId;\n    this.nameId = data.nameId;\n    this.speak = data.speak;\n    this.hear = data.hear;\n    this.talking = false;\n    this.user = null;\n    this.persisted = false;\n    this.moderatorStatus = data.moderatorStatus || \"OFFLINE\";\n    this.isStartTime = true;\n    this.startStopTime = null;\n    this.isResetTime = false;\n    this.lastInterpreterSessionTime = null;\n    this.startMeeting = false, this.startHandRaised = true, this.startStopHandRaised = null, this.startOnMikes = true, this.startStopMikes = null;\n    this.slowSpeak = null;\n  }\n\n  destroy(o = {}) {\n    const index = Member.all.indexOf(this);\n    if (index !== -1) Member.all.splice(index, 1);\n    this.user.removeMember(this);\n    if (!o.skip_hup) _esl.default.hupMember(this.id, this.roomId);\n\n    _members.default.delMember(this);\n\n    _freeswitch.default.handleSwitcher(this.roomId);\n\n    console.log(`Destroy member ${this.id}, user: ${this.user.username}`);\n  }\n\n  onUpdate() {\n    if (!this.speak) this.talking = false;\n  }\n\n  toJSON() {\n    return (0, _member.default)(this);\n  }\n\n  isFloor() {\n    const {\n      rooms,\n      useFloor,\n      useSwitcher\n    } = this.user;\n    return this.roomId === rooms.floor && (useFloor || useSwitcher);\n  }\n\n  static byRoom(...rooms) {\n    return Member.all.filter(m => rooms.indexOf(m.roomId) !== -1);\n  }\n\n  static onJoin(member) {\n    const {\n      id,\n      roomId,\n      user\n    } = member;\n    const {\n      orator,\n      lounge,\n      floor\n    } = user.rooms; // switcher member\n\n    if (user.isSwitcher()) return Member.onSwitcherJoin(member); // regular\n\n    if (user.isRegular()) return;\n\n    _users.default.update(user);\n\n    return Member.onModeratorJoin(member);\n  }\n\n  static onSwitcherJoin(member) {\n    const {\n      roomId\n    } = member;\n    const moderatorSpeaking = Member.byRoom(roomId).filter(m => m.user.isModerator() && m.speak).length;\n\n    if (moderatorSpeaking) {\n      _esl.default.muteSpeak(member.id, roomId);\n    } else {\n      _esl.default.unmuteSpeak(member.id, roomId);\n    }\n\n    return _esl.default.muteHear(member.id, roomId);\n  }\n\n  static onModeratorJoin(member) {\n    const {\n      id,\n      roomId,\n      user\n    } = member;\n    const {\n      hearRoomId,\n      speakRoomId,\n      rooms,\n      useFloor,\n      useSwitcher\n    } = user;\n    const {\n      first,\n      second\n    } = rooms;\n    const promises = [];\n    if (!hearRoomId && roomId === first) user.hearRoomId = roomId;\n    if (!speakRoomId && roomId === second) user.speakRoomId = roomId;\n    if (roomId === user.rooms.floor) promises.push(_esl.default.muteHear(id, roomId));\n    if (roomId !== user.speakRoomId) promises.push(_esl.default.muteSpeak(id, roomId));\n    return Promise.all(promises);\n  }\n\n}\n\nexports.default = Member;\n\n_defineProperty(Member, \"all\", []);\n\n_defineProperty(Member, \"add\", async ({\n  id,\n  roomId,\n  nameId,\n  speak,\n  hear\n}) => {\n  const member = new Member({\n    id,\n    roomId,\n    nameId,\n    speak,\n    hear\n  });\n  const oldMember = Member.find({\n    nameId,\n    roomId\n  });\n  if (oldMember) oldMember.destroy();\n  Member.all.push(member);\n\n  _user.default.addMember(member);\n\n  Member.onJoin(member);\n  member.persisted = true; // Floor\n\n  const {\n    user\n  } = member;\n\n  if (user.useFloor) {\n    _freeswitch.default.handleFloor(roomId === user.rooms.floor ? user.hearRoomId : roomId);\n  }\n\n  _members.default.addMember(member);\n});\n\n_defineProperty(Member, \"remove\", id => {\n  const member = Member.find(id);\n  if (!member) return;\n  member.destroy({\n    skip_hup: true\n  });\n\n  _users.default.update(member.user);\n});\n\n_defineProperty(Member, \"update\", (id, data) => {\n  const member = Member.find(id);\n  if (!member) return;\n  member.update(data);\n\n  _members.default.updateMember(member);\n});\n\n_defineProperty(Member, \"updateIsStartTime\", data => {\n  let member = Member.find(data.id);\n  if (!member) return;\n  member.startMeeting = data.startMeeting;\n  member.user.startMeeting = data.startMeeting;\n  member.isStartTime = data.isStartTime;\n  member.startStopTime = data.startStopTime;\n  member.isResetTime = data.isResetTime;\n  member.user.isStartTime = data.isStartTime;\n  member.user.startStopTime = data.startStopTime;\n  member.user.isResetTime = data.isResetTime;\n  member.user.lastInterpreterSessionTime = data.lastInterpreterSessionTime;\n  member.lastInterpreterSessionTime = data.lastInterpreterSessionTime;\n\n  _members.default.updateMember(member);\n});\n\n_defineProperty(Member, \"uploadHandRaised\", data => {\n  let member = Member.find(data.id);\n  if (!member) return;\n  member.startMeeting = data.startMeeting;\n  member.user.startMeeting = data.startMeeting;\n  member.startHandRaised = data.startHandRaised;\n  member.startStopHandRaised = data.startStopHandRaised;\n  member.user.startHandRaised = data.startHandRaised;\n  member.user.startStopHandRaised = data.startStopHandRaised;\n\n  _members.default.updateMember(member);\n});\n\n_defineProperty(Member, \"uploadControlMikes\", data => {\n  let member = Member.find(data.id);\n  if (!member) return;\n  member.startMeeting = data.startMeeting;\n  member.user.startMeeting = data.startMeeting;\n  member.startOnMikes = data.startOnMikes;\n  member.startStopMikes = data.startStopMikes;\n  member.user.startOnMikes = data.startOnMikes;\n  member.user.startStopMikes = data.startStopMikes;\n\n  _members.default.updateMember(member);\n});\n\n_defineProperty(Member, \"slowSpeak\", data => {\n  let member = Member.find(data.id);\n  if (!member) return;\n  member.startMeeting = data.startMeeting;\n  member.user.startMeeting = data.startMeeting;\n  member.slowSpeak = data.slowSpeak;\n  member.user.slowSpeak = data.slowSpeak;\n\n  _members.default.updateMember(member);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbWJlci5qcyJdLCJuYW1lcyI6WyJNZW1iZXIiLCJSZWNvcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJpZCIsInJvb21JZCIsIm5hbWVJZCIsInNwZWFrIiwiaGVhciIsInRhbGtpbmciLCJ1c2VyIiwicGVyc2lzdGVkIiwibW9kZXJhdG9yU3RhdHVzIiwiaXNTdGFydFRpbWUiLCJzdGFydFN0b3BUaW1lIiwiaXNSZXNldFRpbWUiLCJsYXN0SW50ZXJwcmV0ZXJTZXNzaW9uVGltZSIsInN0YXJ0TWVldGluZyIsInN0YXJ0SGFuZFJhaXNlZCIsInN0YXJ0U3RvcEhhbmRSYWlzZWQiLCJzdGFydE9uTWlrZXMiLCJzdGFydFN0b3BNaWtlcyIsInNsb3dTcGVhayIsImRlc3Ryb3kiLCJvIiwiaW5kZXgiLCJhbGwiLCJpbmRleE9mIiwic3BsaWNlIiwicmVtb3ZlTWVtYmVyIiwic2tpcF9odXAiLCJFc2wiLCJodXBNZW1iZXIiLCJNZW1iZXJzU2VydmljZSIsImRlbE1lbWJlciIsIkZyZWVzd2l0Y2giLCJoYW5kbGVTd2l0Y2hlciIsImNvbnNvbGUiLCJsb2ciLCJ1c2VybmFtZSIsIm9uVXBkYXRlIiwidG9KU09OIiwiaXNGbG9vciIsInJvb21zIiwidXNlRmxvb3IiLCJ1c2VTd2l0Y2hlciIsImZsb29yIiwiYnlSb29tIiwiZmlsdGVyIiwibSIsIm9uSm9pbiIsIm1lbWJlciIsIm9yYXRvciIsImxvdW5nZSIsImlzU3dpdGNoZXIiLCJvblN3aXRjaGVySm9pbiIsImlzUmVndWxhciIsIlVzZXJzU2VydmljZSIsInVwZGF0ZSIsIm9uTW9kZXJhdG9ySm9pbiIsIm1vZGVyYXRvclNwZWFraW5nIiwiaXNNb2RlcmF0b3IiLCJsZW5ndGgiLCJtdXRlU3BlYWsiLCJ1bm11dGVTcGVhayIsIm11dGVIZWFyIiwiaGVhclJvb21JZCIsInNwZWFrUm9vbUlkIiwiZmlyc3QiLCJzZWNvbmQiLCJwcm9taXNlcyIsInB1c2giLCJQcm9taXNlIiwib2xkTWVtYmVyIiwiZmlu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QmQsSUFBSSxDQUFDYyxZQUFoQztBQUNBa0MsRUFBQUEsTUFBTSxDQUFDL0IsWUFBUCxHQUFzQmpCLElBQUksQ0FBQ2lCLFlBQTNCO0FBQ0ErQixFQUFBQSxNQUFNLENBQUM5QixjQUFQLEdBQXdCbEIsSUFBSSxDQUFDa0IsY0FBN0I7QUFDQThCLEVBQUFBLE1BQU0sQ0FBQ3pDLElBQVAsQ0FBWVUsWUFBWixHQUEyQmpCLElBQUksQ0FBQ2lCLFlBQWhDO0FBQ0ErQixFQUFBQSxNQUFNLENBQUN6QyxJQUFQLENBQVlXLGNBQVosR0FBNkJsQixJQUFJLENBQUNrQixjQUFsQzs7QUFDQVksbUJBQWU2QyxZQUFmLENBQTRCM0IsTUFBNUI7QUFDRCxDOztnQkF6SGtCbkQsTSxlQTJIQ0csSUFBRCxJQUFVO0FBQzNCLE1BQUlnRCxNQUFNLEdBQUduRCxNQUFNLENBQUMwRSxJQUFQLENBQVl2RSxJQUFJLENBQUNDLEVBQWpCLENBQWI7QUFDQSxNQUFHLENBQUMrQyxNQUFKLEVBQVk7QUFDWkEsRUFBQUEsTUFBTSxDQUFDbEMsWUFBUCxHQUFzQmQsSUFBSSxDQUFDYyxZQUEzQjtBQUNBa0MsRUFBQUEsTUFBTSxDQUFDekMsSUFBUCxDQUFZTyxZQUFaLEdBQTJCZCxJQUFJLENBQUNjLFlBQWhDO0FBQ0FrQyxFQUFBQSxNQUFNLENBQUM3QixTQUFQLEdBQW1CbkIsSUFBSSxDQUFDbUIsU0FBeEI7QUFDQTZCLEVBQUFBLE1BQU0sQ0FBQ3pDLElBQVAsQ0FBWVksU0FBWixHQUF3Qm5CLElBQUksQ0FBQ21CLFNBQTdCOztBQUNBVyxtQkFBZTZDLFlBQWYsQ0FBNEIzQixNQUE1QjtBQUNELEMiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvd2VicGhvbmUtbm9kZS9zcmMvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFc2wgZnJvbSAnLi4vZXNsJ1xuaW1wb3J0IFJlY29yZCBmcm9tICcuL3JlY29yZCdcbmltcG9ydCBVc2VyIGZyb20gJy4vdXNlcidcbmltcG9ydCBSZW1vdGVVc2VyIGZyb20gJy4vdXNlci9yZW1vdGUnXG5pbXBvcnQgTWVtYmVyU2VyaWFsaXplciBmcm9tICcuLi9zZXJpYWxpemVycy9tZW1iZXInXG5pbXBvcnQgTWVtYmVyc1NlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvbWVtYmVycydcbmltcG9ydCBGcmVlc3dpdGNoIGZyb20gJy4uL3NlcnZpY2VzL2ZyZWVzd2l0Y2gnXG5pbXBvcnQgVXNlcnNTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL3VzZXJzJ1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbWJlciBleHRlbmRzIFJlY29yZCB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICBzdXBlcihkYXRhKVxuICAgIHRoaXMuaWQgPSBkYXRhLmlkXG4gICAgdGhpcy5yb29tSWQgPSBkYXRhLnJvb21JZFxuICAgIHRoaXMubmFtZUlkID0gZGF0YS5uYW1lSWRcbiAgICB0aGlzLnNwZWFrID0gZGF0YS5zcGVha1xuICAgIHRoaXMuaGVhciA9IGRhdGEuaGVhclxuICAgIHRoaXMudGFsa2luZyA9IGZhbHNlXG4gICAgdGhpcy51c2VyID0gbnVsbFxuICAgIHRoaXMucGVyc2lzdGVkID0gZmFsc2VcbiAgICB0aGlzLm1vZGVyYXRvclN0YXR1cyA9IGRhdGEubW9kZXJhdG9yU3RhdHVzIHx8IFwiT0ZGTElORVwiXG4gICAgdGhpcy5pc1N0YXJ0VGltZSA9IHRydWVcbiAgICB0aGlzLnN0YXJ0U3RvcFRpbWUgPSBudWxsIFxuICAgIHRoaXMuaXNSZXNldFRpbWUgPSBmYWxzZVxuICAgIHRoaXMubGFzdEludGVycHJldGVyU2Vzc2lvblRpbWUgPSBudWxsXG4gICAgdGhpcy5zdGFydE1lZXRpbmcgPSBmYWxzZSxcbiAgICB0aGlzLnN0YXJ0SGFuZFJhaXNlZCA9IHRydWUsXG4gICAgdGhpcy5zdGFydFN0b3BIYW5kUmFpc2VkID0gbnVsbCxcbiAgICB0aGlzLnN0YXJ0T25NaWtlcyA9IHRydWUsXG4gICAgdGhpcy5zdGFydFN0b3BNaWtlcyA9IG51bGxcbiAgICB0aGlzLnNsb3dTcGVhayA9IG51bGxcbiAgfVxuXG4gIGRlc3Ryb3kobyA9IHt9KSB7XG4gICAgY29uc3QgaW5kZXggPSBNZW1iZXIuYWxsLmluZGV4T2YodGhpcylcbiAgICBpZiAoaW5kZXggIT09IC0xKSBNZW1iZXIuYWxsLnNwbGljZShpbmRleCwgMSlcbiAgICB0aGlzLnVzZXIucmVtb3ZlTWVtYmVyKHRoaXMpXG4gICAgaWYgKCFvLnNraXBfaHVwKSBFc2wuaHVwTWVtYmVyKHRoaXMuaWQsIHRoaXMucm9vbUlkKVxuICAgIE1lbWJlcnNTZXJ2aWNlLmRlbE1lbWJlcih0aGlzKVxuICAgIEZyZWVzd2l0Y2guaGFuZGxlU3dpdGNoZXIodGhpcy5yb29tSWQpXG4gICAgY29uc29sZS5sb2coYERlc3Ryb3kgbWVtYmVyICR7dGhpcy5pZH0sIHVzZXI6ICR7dGhpcy51c2VyLnVzZXJuYW1lfWApXG4gIH1cblxuICBvblVwZGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuc3BlYWspIHRoaXMudGFsa2luZyA9IGZhbHNlXG4gIH1cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIE1lbWJlclNlcmlhbGl6ZXIodGhpcylcbiAgfVxuXG4gIGlzRmxvb3IoKSB7XG4gICAgY29uc3QgeyByb29tcywgdXNlRmxvb3IsIHVzZVN3aXRjaGVyIH0gPSB0aGlzLnVzZXJcbiAgICByZXR1cm4gdGhpcy5yb29tSWQgPT09IHJvb21zLmZsb29yICYmICh1c2VGbG9vciB8fCB1c2VTd2l0Y2hlcilcbiAgfVxuXG4gIHN0YXRpYyBhbGwgPSBbXTtcblxuICBzdGF0aWMgYWRkID0gYXN5bmMgKHsgaWQsIHJvb21JZCwgbmFtZUlkLCBzcGVhaywgaGVhciB9KSA9PiB7XG4gICAgY29uc3QgbWVtYmVyID0gbmV3IE1lbWJlcih7IGlkLCByb29tSWQsIG5hbWVJZCwgc3BlYWssIGhlYXIgfSlcbiAgICBjb25zdCBvbGRNZW1iZXIgPSBNZW1iZXIuZmluZCh7IG5hbWVJZCwgcm9vbUlkIH0pXG5cbiAgICBpZiAob2xkTWVtYmVyKSBvbGRNZW1iZXIuZGVzdHJveSgpXG5cbiAgICBNZW1iZXIuYWxsLnB1c2gobWVtYmVyKVxuICAgIFVzZXIuYWRkTWVtYmVyKG1lbWJlcilcbiAgICBNZW1iZXIub25Kb2luKG1lbWJlcilcbiAgICBtZW1iZXIucGVyc2lzdGVkID0gdHJ1ZVxuXG4gICAgLy8gRmxvb3JcbiAgICBjb25zdCB7IHVzZXIgfSA9IG1lbWJlclxuICAgIGlmKHVzZXIudXNlRmxvb3IpIHtcbiAgICAgIEZyZWVzd2l0Y2guaGFuZGxlRmxvb3Iocm9vbUlkID09PSB1c2VyLnJvb21zLmZsb29yID8gdXNlci5oZWFyUm9vbUlkIDogcm9vbUlkKVxuICAgIH1cblxuICAgIE1lbWJlcnNTZXJ2aWNlLmFkZE1lbWJlcihtZW1iZXIpXG4gIH07XG5cbiAgc3RhdGljIHJlbW92ZSA9IChpZCkgPT4ge1xuICAgIGNvbnN0IG1lbWJlciA9IE1lbWJlci5maW5kKGlkKVxuICAgIGlmICghbWVtYmVyKSByZXR1cm5cbiAgICBtZW1iZXIuZGVzdHJveSh7IHNraXBfaHVwOiB0cnVlIH0pXG4gICAgVXNlcnNTZXJ2aWNlLnVwZGF0ZShtZW1iZXIudXNlcilcbiAgfTtcblxuICBzdGF0aWMgdXBkYXRlID0gKGlkLCBkYXRhKSA9PiB7XG4gICAgY29uc3QgbWVtYmVyID0gTWVtYmVyLmZpbmQoaWQpXG4gICAgaWYgKCFtZW1iZXIpIHJldHVyblxuICAgIG1lbWJlci51cGRhdGUoZGF0YSlcbiAgICBNZW1iZXJzU2VydmljZS51cGRhdGVNZW1iZXIobWVtYmVyKVxuICB9O1xuXG4gIHN0YXRpYyB1cGRhdGVJc1N0YXJ0VGltZSA9IChkYXRhKSA9PiB7XG4gICAgbGV0IG1lbWJlciA9IE1lbWJlci5maW5kKGRhdGEuaWQpXG4gICAgaWYoIW1lbWJlcikgcmV0dXJuXG4gICAgbWVtYmVyLnN0YXJ0TWVldGluZz1kYXRhLnN0YXJ0TWVldGluZ1xuICAgIG1lbWJlci51c2VyLnN0YXJ0TWVldGluZz1kYXRhLnN0YXJ0TWVldGluZ1xuICAgIG1lbWJlci5pc1N0YXJ0VGltZSA9IGRhdGEuaXNTdGFydFRpbWVcbiAgICBtZW1iZXIuc3RhcnRTdG9wVGltZSA9IGRhdGEuc3RhcnRTdG9wVGltZVxuICAgIG1lbWJlci5pc1Jlc2V0VGltZSA9IGRhdGEuaXNSZXNldFRpbWVcbiAgICBtZW1iZXIudXNlci5pc1N0YXJ0VGltZSA9IGRhdGEuaXNTdGFydFRpbWVcbiAgICBtZW1iZXIudXNlci5zdGFydFN0b3BUaW1lID0gZGF0YS5zdGFydFN0b3BUaW1lXG4gICAgbWVtYmVyLnVzZXIuaXNSZXNldFRpbWUgPSBkYXRhLmlzUmVzZXRUaW1lXG4gICAgbWVtYmVyLnVzZXIubGFzdEludGVycHJldGVyU2Vzc2lvblRpbWUgPSBkYXRhLmxhc3RJbnRlcnByZXRlclNlc3Npb25UaW1lXG4gICAgbWVtYmVyLmxhc3RJbnRlcnByZXRlclNlc3Npb25UaW1lID0gZGF0YS5sYXN0SW50ZXJwcmV0ZXJTZXNzaW9uVGltZVxuICAgIE1lbWJlcnNTZXJ2aWNlLnVwZGF0ZU1lbWJlcihtZW1iZXIpXG4gIH1cbiAgIFxuICBzdGF0aWMgdXBsb2FkSGFuZFJhaXNlZCA9IChkYXRhKSA9PiB7XG4gICAgbGV0IG1lbWJlciA9IE1lbWJlci5maW5kKGRhdGEuaWQpXG4gICAgaWYoIW1lbWJlcikgcmV0dXJuXG4gICAgbWVtYmVyLnN0YXJ0TWVldGluZyA9IGRhdGEuc3RhcnRNZWV0aW5nXG4gICAgbWVtYmVyLnVzZXIuc3RhcnRNZWV0aW5nID0gZGF0YS5zdGFydE1lZXRpbmdcbiAgICBtZW1iZXIuc3RhcnRIYW5kUmFpc2VkID0gZGF0YS5zdGFydEhhbmRSYWlzZWRcbiAgICBtZW1iZXIuc3RhcnRTdG9wSGFuZFJhaXNlZCA9IGRhdGEuc3RhcnRTdG9wSGFuZFJhaXNlZFxuICAgIG1lbWJlci51c2VyLnN0YXJ0SGFuZFJhaXNlZCA9IGRhdGEuc3RhcnRIYW5kUmFpc2VkXG4gICAgbWVtYmVyLnVzZXIuc3RhcnRTdG9wSGFuZFJhaXNlZCA9IGRhdGEuc3RhcnRTdG9wSGFuZFJhaXNlZFxuICAgIE1lbWJlcnNTZXJ2aWNlLnVwZGF0ZU1lbWJlcihtZW1iZXIpXG4gIH1cbiAgXG4gIHN0YXRpYyB1cGxvYWRDb250cm9sTWlrZXMgPSAoZGF0YSkgPT4ge1xuICAgIGxldCBtZW1iZXIgPSBNZW1iZXIuZmluZChkYXRhLmlkKVxuICAgIGlmKCFtZW1iZXIpIHJldHVyblxuICAgIG1lbWJlci5zdGFydE1lZXRpbmcgPSBkYXRhLnN0YXJ0TWVldGluZ1xuICAgIG1lbWJlci51c2VyLnN0YXJ0TWVldGluZyA9IGRhdGEuc3RhcnRNZWV0aW5nXG4gICAgbWVtYmVyLnN0YXJ0T25NaWtlcyA9IGRhdGEuc3RhcnRPbk1pa2VzXG4gICAgbWVtYmVyLnN0YXJ0U3RvcE1pa2VzID0gZGF0YS5zdGFydFN0b3BNaWtlc1xuICAgIG1lbWJlci51c2VyLnN0YXJ0T25NaWtlcyA9IGRhdGEuc3RhcnRPbk1pa2VzXG4gICAgbWVtYmVyLnVzZXIuc3RhcnRTdG9wTWlrZXMgPSBkYXRhLnN0YXJ0U3RvcE1pa2VzXG4gICAgTWVtYmVyc1NlcnZpY2UudXBkYXRlTWVtYmVyKG1lbWJlcilcbiAgfVxuICBcbiAgc3RhdGljIHNsb3dTcGVhayA9IChkYXRhKSA9PiB7XG4gICAgbGV0IG1lbWJlciA9IE1lbWJlci5maW5kKGRhdGEuaWQpXG4gICAgaWYoIW1lbWJlcikgcmV0dXJuXG4gICAgbWVtYmVyLnN0YXJ0TWVldGluZyA9IGRhdGEuc3RhcnRNZWV0aW5nXG4gICAgbWVtYmVyLnVzZXIuc3RhcnRNZWV0aW5nID0gZGF0YS5zdGFydE1lZXRpbmdcbiAgICBtZW1iZXIuc2xvd1NwZWFrID0gZGF0YS5zbG93U3BlYWtcbiAgICBtZW1iZXIudXNlci5zbG93U3BlYWsgPSBkYXRhLnNsb3dTcGVha1xuICAgIE1lbWJlcnNTZXJ2aWNlLnVwZGF0ZU1lbWJlcihtZW1iZXIpXG4gIH1cblxuICBzdGF0aWMgYnlSb29tKC4uLnJvb21zKSB7XG4gICAgcmV0dXJuIE1lbWJlci5hbGwuZmlsdGVyKG0gPT4gcm9vbXMuaW5kZXhPZihtLnJvb21JZCkgIT09IC0xKVxuICB9XG5cbiAgc3RhdGljIG9uSm9pbihtZW1iZXIpIHtcbiAgICBjb25zdCB7IGlkLCByb29tSWQsIHVzZXIgfSA9IG1lbWJlclxuICAgIGNvbnN0IHsgb3JhdG9yLCBsb3VuZ2UsIGZsb29yIH0gPSB1c2VyLnJvb21zXG5cbiAgICAvLyBzd2l0Y2hlciBtZW1iZXJcbiAgICBpZiAodXNlci5pc1N3aXRjaGVyKCkpIHJldHVybiBNZW1iZXIub25Td2l0Y2hlckpvaW4obWVtYmVyKVxuXG4gICAgLy8gcmVndWxhclxuICAgIGlmICh1c2VyLmlzUmVndWxhcigpKSByZXR1cm5cblxuICAgIFVzZXJzU2VydmljZS51cGRhdGUodXNlcilcbiAgICByZXR1cm4gTWVtYmVyLm9uTW9kZXJhdG9ySm9pbihtZW1iZXIpXG4gIH1cblxuICBzdGF0aWMgb25Td2l0Y2hlckpvaW4obWVtYmVyKSB7XG4gICAgY29uc3QgeyByb29tSWQgfSA9IG1lbWJlclxuICAgIGNvbnN0IG1vZGVyYXRvclNwZWFraW5nID0gTWVtYmVyLmJ5Um9vbShyb29tSWQpLmZpbHRlcihtID0+IG0udXNlci5pc01vZGVyYXRvcigpICYmIG0uc3BlYWspLmxlbmd0aFxuICAgIGlmIChtb2RlcmF0b3JTcGVha2luZykge1xuICAgICAgRXNsLm11dGVTcGVhayhtZW1iZXIuaWQsIHJvb21JZClcbiAgICB9IGVsc2Uge1xuICAgICAgRXNsLnVubXV0ZVNwZWFrKG1lbWJlci5pZCwgcm9vbUlkKVxuICAgIH1cbiAgICByZXR1cm4gRXNsLm11dGVIZWFyKG1lbWJlci5pZCwgcm9vbUlkKVxuICB9XG5cbiAgc3RhdGljIG9uTW9kZXJhdG9ySm9pbihtZW1iZXIpIHtcbiAgICBjb25zdCB7IGlkLCByb29tSWQsIHVzZXIgfSA9IG1lbWJlclxuICAgIGNvbnN0IHsgaGVhclJvb21JZCwgc3BlYWtSb29tSWQsIHJvb21zLCB1c2VGbG9vciwgdXNlU3dpdGNoZXIgfSA9IHVzZXJcbiAgICBjb25zdCB7IGZpcnN0LCBzZWNvbmQgfSA9IHJvb21zXG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXVxuXG4gICAgaWYgKCFoZWFyUm9vbUlkICYmIHJvb21JZCA9PT0gZmlyc3QpIHVzZXIuaGVhclJvb21JZCA9IHJvb21JZFxuICAgIGlmICghc3BlYWtSb29tSWQgJiYgcm9vbUlkID09PSBzZWNvbmQpIHVzZXIuc3BlYWtSb29tSWQgPSByb29tSWRcblxuICAgIGlmIChyb29tSWQgPT09IHVzZXIucm9vbXMuZmxvb3IpXG4gICAgICBwcm9taXNlcy5wdXNoKEVzbC5tdXRlSGVhcihpZCwgcm9vbUlkKSlcblxuICAgIGlmIChyb29tSWQgIT09IHVzZXIuc3BlYWtSb29tSWQpXG4gICAgICBwcm9taXNlcy5wdXNoKEVzbC5tdXRlU3BlYWsoaWQsIHJvb21JZCkpXG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "member.js"
      ],
      "names": [
        "Member",
        "Record",
        "constructor",
        "data",
        "id",
        "roomId",
        "nameId",
        "speak",
        "hear",
        "talking",
        "user",
        "persisted",
        "moderatorStatus",
        "isStartTime",
        "startStopTime",
        "isResetTime",
        "lastInterpreterSessionTime",
        "startMeeting",
        "startHandRaised",
        "startStopHandRaised",
        "startOnMikes",
        "startStopMikes",
        "slowSpeak",
        "destroy",
        "o",
        "index",
        "all",
        "indexOf",
        "splice",
        "removeMember",
        "skip_hup",
        "Esl",
        "hupMember",
        "MembersService",
        "delMember",
        "Freeswitch",
        "handleSwitcher",
        "console",
        "log",
        "username",
        "onUpdate",
        "toJSON",
        "isFloor",
        "rooms",
        "useFloor",
        "useSwitcher",
        "floor",
        "byRoom",
        "filter",
        "m",
        "onJoin",
        "member",
        "orator",
        "lounge",
        "isSwitcher",
        "onSwitcherJoin",
        "isRegular",
        "UsersService",
        "update",
        "onModeratorJoin",
        "moderatorSpeaking",
        "isModerator",
        "length",
        "muteSpeak",
        "unmuteSpeak",
        "muteHear",
        "hearRoomId",
        "speakRoomId",
        "first",
        "second",
        "promises",
        "push",
        "Promise",
        "oldMember",
        "find",
        "User",
        "addMember",
        "handleFloor",
        "updateMember"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/",
      "sourcesContent": [
        "import Esl from '../esl'\nimport Record from './record'\nimport User from './user'\nimport RemoteUser from './user/remote'\nimport MemberSerializer from '../serializers/member'\nimport MembersService from '../services/members'\nimport Freeswitch from '../services/freeswitch'\nimport UsersService from '../services/users'\n\n\nexport default class Member extends Record {\n  constructor(data) {\n    super(data)\n    this.id = data.id\n    this.roomId = data.roomId\n    this.nameId = data.nameId\n    this.speak = data.speak\n    this.hear = data.hear\n    this.talking = false\n    this.user = null\n    this.persisted = false\n    this.moderatorStatus = data.moderatorStatus || \"OFFLINE\"\n    this.isStartTime = true\n    this.startStopTime = null \n    this.isResetTime = false\n    this.lastInterpreterSessionTime = null\n    this.startMeeting = false,\n    this.startHandRaised = true,\n    this.startStopHandRaised = null,\n    this.startOnMikes = true,\n    this.startStopMikes = null\n    this.slowSpeak = null\n  }\n\n  destroy(o = {}) {\n    const index = Member.all.indexOf(this)\n    if (index !== -1) Member.all.splice(index, 1)\n    this.user.removeMember(this)\n    if (!o.skip_hup) Esl.hupMember(this.id, this.roomId)\n    MembersService.delMember(this)\n    Freeswitch.handleSwitcher(this.roomId)\n    console.log(`Destroy member ${this.id}, user: ${this.user.username}`)\n  }\n\n  onUpdate() {\n    if (!this.speak) this.talking = false\n  }\n\n  toJSON() {\n    return MemberSerializer(this)\n  }\n\n  isFloor() {\n    const { rooms, useFloor, useSwitcher } = this.user\n    return this.roomId === rooms.floor && (useFloor || useSwitcher)\n  }\n\n  static all = [];\n\n  static add = async ({ id, roomId, nameId, speak, hear }) => {\n    const member = new Member({ id, roomId, nameId, speak, hear })\n    const oldMember = Member.find({ nameId, roomId })\n\n    if (oldMember) oldMember.destroy()\n\n    Member.all.push(member)\n    User.addMember(member)\n    Member.onJoin(member)\n    member.persisted = true\n\n    // Floor\n    const { user } = member\n    if(user.useFloor) {\n      Freeswitch.handleFloor(roomId === user.rooms.floor ? user.hearRoomId : roomId)\n    }\n\n    MembersService.addMember(member)\n  };\n\n  static remove = (id) => {\n    const member = Member.find(id)\n    if (!member) return\n    member.destroy({ skip_hup: true })\n    UsersService.update(member.user)\n  };\n\n  static update = (id, data) => {\n    const member = Member.find(id)\n    if (!member) return\n    member.update(data)\n    MembersService.updateMember(member)\n  };\n\n  static updateIsStartTime = (data) => {\n    let member = Member.find(data.id)\n    if(!member) return\n    member.startMeeting=data.startMeeting\n    member.user.startMeeting=data.startMeeting\n    member.isStartTime = data.isStartTime\n    member.startStopTime = data.startStopTime\n    member.isResetTime = data.isResetTime\n    member.user.isStartTime = data.isStartTime\n    member.user.startStopTime = data.startStopTime\n    member.user.isResetTime = data.isResetTime\n    member.user.lastInterpreterSessionTime = data.lastInterpreterSessionTime\n    member.lastInterpreterSessionTime = data.lastInterpreterSessionTime\n    MembersService.updateMember(member)\n  }\n   \n  static uploadHandRaised = (data) => {\n    let member = Member.find(data.id)\n    if(!member) return\n    member.startMeeting = data.startMeeting\n    member.user.startMeeting = data.startMeeting\n    member.startHandRaised = data.startHandRaised\n    member.startStopHandRaised = data.startStopHandRaised\n    member.user.startHandRaised = data.startHandRaised\n    member.user.startStopHandRaised = data.startStopHandRaised\n    MembersService.updateMember(member)\n  }\n  \n  static uploadControlMikes = (data) => {\n    let member = Member.find(data.id)\n    if(!member) return\n    member.startMeeting = data.startMeeting\n    member.user.startMeeting = data.startMeeting\n    member.startOnMikes = data.startOnMikes\n    member.startStopMikes = data.startStopMikes\n    member.user.startOnMikes = data.startOnMikes\n    member.user.startStopMikes = data.startStopMikes\n    MembersService.updateMember(member)\n  }\n  \n  static slowSpeak = (data) => {\n    let member = Member.find(data.id)\n    if(!member) return\n    member.startMeeting = data.startMeeting\n    member.user.startMeeting = data.startMeeting\n    member.slowSpeak = data.slowSpeak\n    member.user.slowSpeak = data.slowSpeak\n    MembersService.updateMember(member)\n  }\n\n  static byRoom(...rooms) {\n    return Member.all.filter(m => rooms.indexOf(m.roomId) !== -1)\n  }\n\n  static onJoin(member) {\n    const { id, roomId, user } = member\n    const { orator, lounge, floor } = user.rooms\n\n    // switcher member\n    if (user.isSwitcher()) return Member.onSwitcherJoin(member)\n\n    // regular\n    if (user.isRegular()) return\n\n    UsersService.update(user)\n    return Member.onModeratorJoin(member)\n  }\n\n  static onSwitcherJoin(member) {\n    const { roomId } = member\n    const moderatorSpeaking = Member.byRoom(roomId).filter(m => m.user.isModerator() && m.speak).length\n    if (moderatorSpeaking) {\n      Esl.muteSpeak(member.id, roomId)\n    } else {\n      Esl.unmuteSpeak(member.id, roomId)\n    }\n    return Esl.muteHear(member.id, roomId)\n  }\n\n  static onModeratorJoin(member) {\n    const { id, roomId, user } = member\n    const { hearRoomId, speakRoomId, rooms, useFloor, useSwitcher } = user\n    const { first, second } = rooms\n    const promises = []\n\n    if (!hearRoomId && roomId === first) user.hearRoomId = roomId\n    if (!speakRoomId && roomId === second) user.speakRoomId = roomId\n\n    if (roomId === user.rooms.floor)\n      promises.push(Esl.muteHear(id, roomId))\n\n    if (roomId !== user.speakRoomId)\n      promises.push(Esl.muteSpeak(id, roomId))\n\n    return Promise.all(promises)\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/record.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/record.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/record.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/record.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/",
        "sourceFileName": "record.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass Record {\n  constructor(_data) {\n    _defineProperty(this, \"update\", data => {\n      Object.keys(this).forEach(prop => {\n        if (!data.hasOwnProperty(prop)) return;\n        this[prop] = JSON.parse(JSON.stringify(data[prop]));\n      });\n      this.onUpdate();\n    });\n\n    this.data = _data;\n  }\n\n  onUpdate() {// overwrite in child class\n  }\n\n  static find(data) {\n    if (!data) return;\n\n    if (data instanceof Object) {\n      let equal;\n      return this.all.find(instance => {\n        equal = true;\n\n        for (const key of Object.keys(data)) {\n          if (data[key] !== instance[key]) {\n            equal = false;\n            break;\n          }\n        }\n\n        return equal;\n      });\n    }\n\n    return this.all.find(record => record.id === data);\n  }\n\n}\n\nexports.default = Record;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY29yZC5qcyJdLCJuYW1lcyI6WyJSZWNvcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsIm9uVXBkYXRlIiwiZmluZCIsImVxdWFsIiwiYWxsIiwiaW5zdGFuY2UiLCJrZXkiLCJyZWNvcmQiLCJpZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWUsTUFBTUEsTUFBTixDQUFhO0FBQzFCQyxFQUFBQSxXQUFXLENBQUNDLEtBQUQsRUFBTztBQUFBLG9DQUlSQSxJQUFELElBQVU7QUFDakJDLE1BQUFBLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZLElBQVosRUFBa0JDLE9BQWxCLENBQTJCQyxJQUFELElBQVU7QUFDbEMsWUFBSSxDQUFDSixJQUFJLENBQUNLLGNBQUwsQ0FBb0JELElBQXBCLENBQUwsRUFBZ0M7QUFDaEMsYUFBS0EsSUFBTCxJQUFhRSxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDRSxTQUFMLENBQWVSLElBQUksQ0FBQ0ksSUFBRCxDQUFuQixDQUFYLENBQWI7QUFDRCxPQUhEO0FBSUEsV0FBS0ssUUFBTDtBQUNELEtBVmlCOztBQUNoQixTQUFLVCxJQUFMLEdBQVlBLEtBQVo7QUFDRDs7QUFVRFMsRUFBQUEsUUFBUSxHQUFHLENBQ1Q7QUFDRDs7QUFFRCxTQUFPQyxJQUFQLENBQVlWLElBQVosRUFBa0I7QUFDaEIsUUFBSSxDQUFDQSxJQUFMLEVBQVc7O0FBQ1gsUUFBSUEsSUFBSSxZQUFZQyxNQUFwQixFQUE0QjtBQUMxQixVQUFJVSxLQUFKO0FBQ0EsYUFBTyxLQUFLQyxHQUFMLENBQVNGLElBQVQsQ0FBZUcsUUFBRCxJQUFjO0FBQ2pDRixRQUFBQSxLQUFLLEdBQUcsSUFBUjs7QUFDQSxhQUFLLE1BQU1HLEdBQVgsSUFBa0JiLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZRixJQUFaLENBQWxCLEVBQXFDO0FBQ25DLGNBQUlBLElBQUksQ0FBQ2MsR0FBRCxDQUFKLEtBQWNELFFBQVEsQ0FBQ0MsR0FBRCxDQUExQixFQUFpQztBQUMvQkgsWUFBQUEsS0FBSyxHQUFHLEtBQVI7QUFDQTtBQUNEO0FBQ0Y7O0FBQ0QsZUFBT0EsS0FBUDtBQUNELE9BVE0sQ0FBUDtBQVVEOztBQUNELFdBQU8sS0FBS0MsR0FBTCxDQUFTRixJQUFULENBQWNLLE1BQU0sSUFBSUEsTUFBTSxDQUFDQyxFQUFQLEtBQWNoQixJQUF0QyxDQUFQO0FBQ0Q7O0FBakN5QiIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVjb3JkIHtcbiAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgIHRoaXMuZGF0YSA9IGRhdGFcbiAgfVxuXG4gIHVwZGF0ZSA9IChkYXRhKSA9PiB7XG4gICAgT2JqZWN0LmtleXModGhpcykuZm9yRWFjaCgocHJvcCkgPT4ge1xuICAgICAgaWYgKCFkYXRhLmhhc093blByb3BlcnR5KHByb3ApKSByZXR1cm5cbiAgICAgIHRoaXNbcHJvcF0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGFbcHJvcF0pKVxuICAgIH0pXG4gICAgdGhpcy5vblVwZGF0ZSgpXG4gIH07XG5cbiAgb25VcGRhdGUoKSB7XG4gICAgLy8gb3ZlcndyaXRlIGluIGNoaWxkIGNsYXNzXG4gIH1cblxuICBzdGF0aWMgZmluZChkYXRhKSB7XG4gICAgaWYgKCFkYXRhKSByZXR1cm5cbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgbGV0IGVxdWFsXG4gICAgICByZXR1cm4gdGhpcy5hbGwuZmluZCgoaW5zdGFuY2UpID0+IHtcbiAgICAgICAgZXF1YWwgPSB0cnVlXG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGRhdGEpKSB7XG4gICAgICAgICAgaWYgKGRhdGFba2V5XSAhPT0gaW5zdGFuY2Vba2V5XSkge1xuICAgICAgICAgICAgZXF1YWwgPSBmYWxzZVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVxdWFsXG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hbGwuZmluZChyZWNvcmQgPT4gcmVjb3JkLmlkID09PSBkYXRhKVxuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "record.js"
      ],
      "names": [
        "Record",
        "constructor",
        "data",
        "Object",
        "keys",
        "forEach",
        "prop",
        "hasOwnProperty",
        "JSON",
        "parse",
        "stringify",
        "onUpdate",
        "find",
        "equal",
        "all",
        "instance",
        "key",
        "record",
        "id"
      ],
      "mappings": ";;;;;;;;;AAAe,MAAMA,MAAN,CAAa;AAC1BC,EAAAA,WAAW,CAACC,KAAD,EAAO;AAAA,oCAIRA,IAAD,IAAU;AACjBC,MAAAA,MAAM,CAACC,IAAP,CAAY,IAAZ,EAAkBC,OAAlB,CAA2BC,IAAD,IAAU;AAClC,YAAI,CAACJ,IAAI,CAACK,cAAL,CAAoBD,IAApB,CAAL,EAAgC;AAChC,aAAKA,IAAL,IAAaE,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeR,IAAI,CAACI,IAAD,CAAnB,CAAX,CAAb;AACD,OAHD;AAIA,WAAKK,QAAL;AACD,KAViB;;AAChB,SAAKT,IAAL,GAAYA,KAAZ;AACD;;AAUDS,EAAAA,QAAQ,GAAG,CACT;AACD;;AAED,SAAOC,IAAP,CAAYV,IAAZ,EAAkB;AAChB,QAAI,CAACA,IAAL,EAAW;;AACX,QAAIA,IAAI,YAAYC,MAApB,EAA4B;AAC1B,UAAIU,KAAJ;AACA,aAAO,KAAKC,GAAL,CAASF,IAAT,CAAeG,QAAD,IAAc;AACjCF,QAAAA,KAAK,GAAG,IAAR;;AACA,aAAK,MAAMG,GAAX,IAAkBb,MAAM,CAACC,IAAP,CAAYF,IAAZ,CAAlB,EAAqC;AACnC,cAAIA,IAAI,CAACc,GAAD,CAAJ,KAAcD,QAAQ,CAACC,GAAD,CAA1B,EAAiC;AAC/BH,YAAAA,KAAK,GAAG,KAAR;AACA;AACD;AACF;;AACD,eAAOA,KAAP;AACD,OATM,CAAP;AAUD;;AACD,WAAO,KAAKC,GAAL,CAASF,IAAT,CAAcK,MAAM,IAAIA,MAAM,CAACC,EAAP,KAAchB,IAAtC,CAAP;AACD;;AAjCyB",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/",
      "sourcesContent": [
        "export default class Record {\n  constructor(data) {\n    this.data = data\n  }\n\n  update = (data) => {\n    Object.keys(this).forEach((prop) => {\n      if (!data.hasOwnProperty(prop)) return\n      this[prop] = JSON.parse(JSON.stringify(data[prop]))\n    })\n    this.onUpdate()\n  };\n\n  onUpdate() {\n    // overwrite in child class\n  }\n\n  static find(data) {\n    if (!data) return\n    if (data instanceof Object) {\n      let equal\n      return this.all.find((instance) => {\n        equal = true\n        for (const key of Object.keys(data)) {\n          if (data[key] !== instance[key]) {\n            equal = false\n            break\n          }\n        }\n        return equal\n      })\n    }\n    return this.all.find(record => record.id === data)\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"RemoteUser\", {\n  enumerable: true,\n  get: function () {\n    return _remote.default;\n  }\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _user.default;\n  }\n});\n\nvar _remote = _interopRequireDefault(require(\"./remote\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3dlYnBob25lLW5vZGUvc3JjL21vZGVscy91c2VyLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZW1vdGVVc2VyIGZyb20gJy4vcmVtb3RlJ1xuXG5leHBvcnQgeyBSZW1vdGVVc2VyIH1cbmV4cG9ydCBkZWZhdWx0IGZyb20gJy4vdXNlcidcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;;;;;AAAA",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
      "sourcesContent": [
        "import RemoteUser from './remote'\n\nexport { RemoteUser }\nexport default from './user'\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/remote.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/remote.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/remote.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/remote.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
        "sourceFileName": "remote.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _base = _interopRequireDefault(require(\"./base\"));\n\nvar _remote = _interopRequireDefault(require(\"../../serializers/user/remote\"));\n\nvar _userHelper = require(\"../../helpers/userHelper\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass RemoteUser extends _base.default {\n  constructor(data) {\n    super(data);\n    this.username = data.nameId;\n    this.displayName = (0, _userHelper.displayName)(data.nameId);\n    this.members = [];\n    this.role = RemoteUser.ROLES.REGULAR;\n    this.hearRoomId = data.roomId;\n    this.speakRoomId = data.roomId;\n    this.meetingID = null;\n    this.useFloor = false;\n    this.useSwitcher = false;\n    this.registered = true;\n    this.cf1 = data.roomId;\n    this.cf2 = null;\n    this.rooms = {\n      first: data.roomId,\n      second: null,\n      orator: null\n    };\n    this.roomsList = [data.roomId];\n    this.channels = {\n      self: '__remote__'\n    };\n    this.isStartTime = true;\n    this.startStopTime = null;\n    this.isResetTime = false;\n    this.lastInterpreterSessionTime = null;\n    this.startMeeting = false, this.startHandRaised = true, this.startStopHandRaised = null, this.startOnMikes = true, this.startStopMikes = null;\n    this.slowSpeak = null;\n  }\n\n  connected() {\n    return this.members.length > 1;\n  }\n\n  onMemberRemove()\n  /* member */\n  {\n    if (!this.members.length) this.destroy();\n  }\n\n  toJSON() {\n    return (0, _remote.default)(this);\n  }\n\n}\n\nexports.default = RemoteUser;\n\n_defineProperty(RemoteUser, \"all\", []);\n\n_defineProperty(RemoteUser, \"add\", data => {\n  const user = new RemoteUser(data);\n  RemoteUser.makeUniq(user);\n  RemoteUser.all.push(user);\n  console.log(`Create remote user ${user.id}`);\n  return user;\n});\n\n_defineProperty(RemoteUser, \"findOrCreate\", data => {\n  const user = RemoteUser.find(data.nameId);\n  if (user) return user;\n  return RemoteUser.add(data);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbW90ZS5qcyJdLCJuYW1lcyI6WyJSZW1vdGVVc2VyIiwiQmFzZVVzZXIiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJ1c2VybmFtZSIsIm5hbWVJZCIsImRpc3BsYXlOYW1lIiwibWVtYmVycyIsInJvbGUiLCJST0xFUyIsIlJFR1VMQVIiLCJoZWFyUm9vbUlkIiwicm9vbUlkIiwic3BlYWtSb29tSWQiLCJtZWV0aW5nSUQiLCJ1c2VGbG9vciIsInVzZVN3aXRjaGVyIiwicmVnaXN0ZXJlZCIsImNmMSIsImNmMiIsInJvb21zIiwiZmlyc3QiLCJzZWNvbmQiLCJvcmF0b3IiLCJyb29tc0xpc3QiLCJjaGFubmVscyIsInNlbGYiLCJpc1N0YXJ0VGltZSIsInN0YXJ0U3RvcFRpbWUiLCJpc1Jlc2V0VGltZSIsImxhc3RJbnRlcnByZXRlclNlc3Npb25UaW1lIiwic3RhcnRNZWV0aW5nIiwic3RhcnRIYW5kUmFpc2VkIiwic3RhcnRTdG9wSGFuZFJhaXNlZCIsInN0YXJ0T25NaWtlcyIsInN0YXJ0U3RvcE1pa2VzIiwic2xvd1NwZWFrIiwiY29ubmVjdGVkIiwibGVuZ3RoIiwib25NZW1iZXJSZW1vdmUiLCJkZXN0cm95IiwidG9KU09OIiwidXNlciIsIm1ha2VVbmlxIiwiYWxsIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJpZCIsImZpbmQiLCJhZGQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRWUsTUFBTUEsVUFBTixTQUF5QkMsYUFBekIsQ0FBa0M7QUFDL0NDLEVBQUFBLFdBQVcsQ0FBQ0MsSUFBRCxFQUFPO0FBQ2hCLFVBQU1BLElBQU47QUFDQSxTQUFLQyxRQUFMLEdBQWdCRCxJQUFJLENBQUNFLE1BQXJCO0FBQ0EsU0FBS0MsV0FBTCxHQUFtQiw2QkFBWUgsSUFBSSxDQUFDRSxNQUFqQixDQUFuQjtBQUNBLFNBQUtFLE9BQUwsR0FBZSxFQUFmO0FBQ0EsU0FBS0MsSUFBTCxHQUFZUixVQUFVLENBQUNTLEtBQVgsQ0FBaUJDLE9BQTdCO0FBQ0EsU0FBS0MsVUFBTCxHQUFrQlIsSUFBSSxDQUFDUyxNQUF2QjtBQUNBLFNBQUtDLFdBQUwsR0FBbUJWLElBQUksQ0FBQ1MsTUFBeEI7QUFDQSxTQUFLRSxTQUFMLEdBQWlCLElBQWpCO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQixLQUFoQjtBQUNBLFNBQUtDLFdBQUwsR0FBbUIsS0FBbkI7QUFDQSxTQUFLQyxVQUFMLEdBQWtCLElBQWxCO0FBQ0EsU0FBS0MsR0FBTCxHQUFXZixJQUFJLENBQUNTLE1BQWhCO0FBQ0EsU0FBS08sR0FBTCxHQUFXLElBQVg7QUFDQSxTQUFLQyxLQUFMLEdBQWE7QUFDWEMsTUFBQUEsS0FBSyxFQUFFbEIsSUFBSSxDQUFDUyxNQUREO0FBRVhVLE1BQUFBLE1BQU0sRUFBRSxJQUZHO0FBR1hDLE1BQUFBLE1BQU0sRUFBRTtBQUhHLEtBQWI7QUFLQSxTQUFLQyxTQUFMLEdBQWlCLENBQUNyQixJQUFJLENBQUNTLE1BQU4sQ0FBakI7QUFDQSxTQUFLYSxRQUFMLEdBQWdCO0FBQ2RDLE1BQUFBLElBQUksRUFBRTtBQURRLEtBQWhCO0FBR0EsU0FBS0MsV0FBTCxHQUFpQixJQUFqQjtBQUNBLFNBQUtDLGFBQUwsR0FBb0IsSUFBcEI7QUFDQSxTQUFLQyxXQUFMLEdBQW1CLEtBQW5CO0FBQ0EsU0FBS0MsMEJBQUwsR0FBa0MsSUFBbEM7QUFDQSxTQUFLQyxZQUFMLEdBQWtCLEtBQWxCLEVBQ0EsS0FBS0MsZUFBTCxHQUF1QixJQUR2QixFQUVBLEtBQUtDLG1CQUFMLEdBQTJCLElBRjNCLEVBR0EsS0FBS0MsWUFBTCxHQUFvQixJQUhwQixFQUlBLEtBQUtDLGNBQUwsR0FBc0IsSUFKdEI7QUFLQSxTQUFLQyxTQUFMLEdBQWlCLElBQWpCO0FBQ0Q7O0FBRURDLEVBQUFBLFNBQVMsR0FBRztBQUNWLFdBQU8sS0FBSzlCLE9BQUwsQ0FBYStCLE1BQWIsR0FBc0IsQ0FBN0I7QUFDRDs7QUFFREMsRUFBQUEsY0FBYztBQUFDO0FBQWM7QUFDM0IsUUFBSSxDQUFDLEtBQUtoQyxPQUFMLENBQWErQixNQUFsQixFQUEwQixLQUFLRSxPQUFMO0FBQzNCOztBQUVEQyxFQUFBQSxNQUFNLEdBQUc7QUFDUCxXQUFPLHFCQUFxQixJQUFyQixDQUFQO0FBQ0Q7O0FBOUM4Qzs7OztnQkFBNUJ6QyxVLFNBZ0ROLEU7O2dCQWhETUEsVSxTQWtETEcsSUFBRCxJQUFVO0FBQ3JCLFFBQU11QyxJQUFJLEdBQUcsSUFBSTFDLFVBQUosQ0FBZUcsSUFBZixDQUFiO0FBQ0FILEVBQUFBLFVBQVUsQ0FBQzJDLFFBQVgsQ0FBb0JELElBQXBCO0FBQ0ExQyxFQUFBQSxVQUFVLENBQUM0QyxHQUFYLENBQWVDLElBQWYsQ0FBb0JILElBQXBCO0FBQ0FJLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLHNCQUFxQkwsSUFBSSxDQUFDTSxFQUFHLEVBQTFDO0FBQ0EsU0FBT04sSUFBUDtBQUNELEM7O2dCQXhEa0IxQyxVLGtCQTBESUcsSUFBRCxJQUFVO0FBQzlCLFFBQU11QyxJQUFJLEdBQUcxQyxVQUFVLENBQUNpRCxJQUFYLENBQWdCOUMsSUFBSSxDQUFDRSxNQUFyQixDQUFiO0FBQ0EsTUFBSXFDLElBQUosRUFBVSxPQUFPQSxJQUFQO0FBQ1YsU0FBTzFDLFVBQVUsQ0FBQ2tELEdBQVgsQ0FBZS9DLElBQWYsQ0FBUDtBQUNELEMiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvd2VicGhvbmUtbm9kZS9zcmMvbW9kZWxzL3VzZXIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VVc2VyIGZyb20gJy4vYmFzZSdcbmltcG9ydCBSZW1vdGVVc2VyU2VyaWFsaXplciBmcm9tICcuLi8uLi9zZXJpYWxpemVycy91c2VyL3JlbW90ZSdcbmltcG9ydCB7IGRpc3BsYXlOYW1lIH0gZnJvbSAnLi4vLi4vaGVscGVycy91c2VySGVscGVyJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW1vdGVVc2VyIGV4dGVuZHMgQmFzZVVzZXIge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgc3VwZXIoZGF0YSlcbiAgICB0aGlzLnVzZXJuYW1lID0gZGF0YS5uYW1lSWRcbiAgICB0aGlzLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWUoZGF0YS5uYW1lSWQpXG4gICAgdGhpcy5tZW1iZXJzID0gW11cbiAgICB0aGlzLnJvbGUgPSBSZW1vdGVVc2VyLlJPTEVTLlJFR1VMQVJcbiAgICB0aGlzLmhlYXJSb29tSWQgPSBkYXRhLnJvb21JZFxuICAgIHRoaXMuc3BlYWtSb29tSWQgPSBkYXRhLnJvb21JZFxuICAgIHRoaXMubWVldGluZ0lEID0gbnVsbFxuICAgIHRoaXMudXNlRmxvb3IgPSBmYWxzZVxuICAgIHRoaXMudXNlU3dpdGNoZXIgPSBmYWxzZVxuICAgIHRoaXMucmVnaXN0ZXJlZCA9IHRydWVcbiAgICB0aGlzLmNmMSA9IGRhdGEucm9vbUlkXG4gICAgdGhpcy5jZjIgPSBudWxsXG4gICAgdGhpcy5yb29tcyA9IHtcbiAgICAgIGZpcnN0OiBkYXRhLnJvb21JZCxcbiAgICAgIHNlY29uZDogbnVsbCxcbiAgICAgIG9yYXRvcjogbnVsbFxuICAgIH1cbiAgICB0aGlzLnJvb21zTGlzdCA9IFtkYXRhLnJvb21JZF1cbiAgICB0aGlzLmNoYW5uZWxzID0ge1xuICAgICAgc2VsZjogJ19fcmVtb3RlX18nXG4gICAgfVxuICAgIHRoaXMuaXNTdGFydFRpbWU9dHJ1ZVxuICAgIHRoaXMuc3RhcnRTdG9wVGltZT0gbnVsbFxuICAgIHRoaXMuaXNSZXNldFRpbWUgPSBmYWxzZVxuICAgIHRoaXMubGFzdEludGVycHJldGVyU2Vzc2lvblRpbWUgPSBudWxsXG4gICAgdGhpcy5zdGFydE1lZXRpbmc9ZmFsc2UsXG4gICAgdGhpcy5zdGFydEhhbmRSYWlzZWQgPSB0cnVlLFxuICAgIHRoaXMuc3RhcnRTdG9wSGFuZFJhaXNlZCA9IG51bGwsXG4gICAgdGhpcy5zdGFydE9uTWlrZXMgPSB0cnVlLFxuICAgIHRoaXMuc3RhcnRTdG9wTWlrZXMgPSBudWxsXG4gICAgdGhpcy5zbG93U3BlYWsgPSBudWxsXG4gIH1cblxuICBjb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMubWVtYmVycy5sZW5ndGggPiAxXG4gIH1cblxuICBvbk1lbWJlclJlbW92ZSgvKiBtZW1iZXIgKi8pIHtcbiAgICBpZiAoIXRoaXMubWVtYmVycy5sZW5ndGgpIHRoaXMuZGVzdHJveSgpXG4gIH1cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIFJlbW90ZVVzZXJTZXJpYWxpemVyKHRoaXMpXG4gIH1cblxuICBzdGF0aWMgYWxsID0gW11cblxuICBzdGF0aWMgYWRkID0gKGRhdGEpID0+IHtcbiAgICBjb25zdCB1c2VyID0gbmV3IFJlbW90ZVVzZXIoZGF0YSlcbiAgICBSZW1vdGVVc2VyLm1ha2VVbmlxKHVzZXIpXG4gICAgUmVtb3RlVXNlci5hbGwucHVzaCh1c2VyKVxuICAgIGNvbnNvbGUubG9nKGBDcmVhdGUgcmVtb3RlIHVzZXIgJHt1c2VyLmlkfWApXG4gICAgcmV0dXJuIHVzZXJcbiAgfVxuXG4gIHN0YXRpYyBmaW5kT3JDcmVhdGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBSZW1vdGVVc2VyLmZpbmQoZGF0YS5uYW1lSWQpXG4gICAgaWYgKHVzZXIpIHJldHVybiB1c2VyXG4gICAgcmV0dXJuIFJlbW90ZVVzZXIuYWRkKGRhdGEpXG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "remote.js"
      ],
      "names": [
        "RemoteUser",
        "BaseUser",
        "constructor",
        "data",
        "username",
        "nameId",
        "displayName",
        "members",
        "role",
        "ROLES",
        "REGULAR",
        "hearRoomId",
        "roomId",
        "speakRoomId",
        "meetingID",
        "useFloor",
        "useSwitcher",
        "registered",
        "cf1",
        "cf2",
        "rooms",
        "first",
        "second",
        "orator",
        "roomsList",
        "channels",
        "self",
        "isStartTime",
        "startStopTime",
        "isResetTime",
        "lastInterpreterSessionTime",
        "startMeeting",
        "startHandRaised",
        "startStopHandRaised",
        "startOnMikes",
        "startStopMikes",
        "slowSpeak",
        "connected",
        "length",
        "onMemberRemove",
        "destroy",
        "toJSON",
        "user",
        "makeUniq",
        "all",
        "push",
        "console",
        "log",
        "id",
        "find",
        "add"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;;;AAEe,MAAMA,UAAN,SAAyBC,aAAzB,CAAkC;AAC/CC,EAAAA,WAAW,CAACC,IAAD,EAAO;AAChB,UAAMA,IAAN;AACA,SAAKC,QAAL,GAAgBD,IAAI,CAACE,MAArB;AACA,SAAKC,WAAL,GAAmB,6BAAYH,IAAI,CAACE,MAAjB,CAAnB;AACA,SAAKE,OAAL,GAAe,EAAf;AACA,SAAKC,IAAL,GAAYR,UAAU,CAACS,KAAX,CAAiBC,OAA7B;AACA,SAAKC,UAAL,GAAkBR,IAAI,CAACS,MAAvB;AACA,SAAKC,WAAL,GAAmBV,IAAI,CAACS,MAAxB;AACA,SAAKE,SAAL,GAAiB,IAAjB;AACA,SAAKC,QAAL,GAAgB,KAAhB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,UAAL,GAAkB,IAAlB;AACA,SAAKC,GAAL,GAAWf,IAAI,CAACS,MAAhB;AACA,SAAKO,GAAL,GAAW,IAAX;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAElB,IAAI,CAACS,MADD;AAEXU,MAAAA,MAAM,EAAE,IAFG;AAGXC,MAAAA,MAAM,EAAE;AAHG,KAAb;AAKA,SAAKC,SAAL,GAAiB,CAACrB,IAAI,CAACS,MAAN,CAAjB;AACA,SAAKa,QAAL,GAAgB;AACdC,MAAAA,IAAI,EAAE;AADQ,KAAhB;AAGA,SAAKC,WAAL,GAAiB,IAAjB;AACA,SAAKC,aAAL,GAAoB,IAApB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,0BAAL,GAAkC,IAAlC;AACA,SAAKC,YAAL,GAAkB,KAAlB,EACA,KAAKC,eAAL,GAAuB,IADvB,EAEA,KAAKC,mBAAL,GAA2B,IAF3B,EAGA,KAAKC,YAAL,GAAoB,IAHpB,EAIA,KAAKC,cAAL,GAAsB,IAJtB;AAKA,SAAKC,SAAL,GAAiB,IAAjB;AACD;;AAEDC,EAAAA,SAAS,GAAG;AACV,WAAO,KAAK9B,OAAL,CAAa+B,MAAb,GAAsB,CAA7B;AACD;;AAEDC,EAAAA,cAAc;AAAC;AAAc;AAC3B,QAAI,CAAC,KAAKhC,OAAL,CAAa+B,MAAlB,EAA0B,KAAKE,OAAL;AAC3B;;AAEDC,EAAAA,MAAM,GAAG;AACP,WAAO,qBAAqB,IAArB,CAAP;AACD;;AA9C8C;;;;gBAA5BzC,U,SAgDN,E;;gBAhDMA,U,SAkDLG,IAAD,IAAU;AACrB,QAAMuC,IAAI,GAAG,IAAI1C,UAAJ,CAAeG,IAAf,CAAb;AACAH,EAAAA,UAAU,CAAC2C,QAAX,CAAoBD,IAApB;AACA1C,EAAAA,UAAU,CAAC4C,GAAX,CAAeC,IAAf,CAAoBH,IAApB;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAa,sBAAqBL,IAAI,CAACM,EAAG,EAA1C;AACA,SAAON,IAAP;AACD,C;;gBAxDkB1C,U,kBA0DIG,IAAD,IAAU;AAC9B,QAAMuC,IAAI,GAAG1C,UAAU,CAACiD,IAAX,CAAgB9C,IAAI,CAACE,MAArB,CAAb;AACA,MAAIqC,IAAJ,EAAU,OAAOA,IAAP;AACV,SAAO1C,UAAU,CAACkD,GAAX,CAAe/C,IAAf,CAAP;AACD,C",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
      "sourcesContent": [
        "import BaseUser from './base'\nimport RemoteUserSerializer from '../../serializers/user/remote'\nimport { displayName } from '../../helpers/userHelper'\n\nexport default class RemoteUser extends BaseUser {\n  constructor(data) {\n    super(data)\n    this.username = data.nameId\n    this.displayName = displayName(data.nameId)\n    this.members = []\n    this.role = RemoteUser.ROLES.REGULAR\n    this.hearRoomId = data.roomId\n    this.speakRoomId = data.roomId\n    this.meetingID = null\n    this.useFloor = false\n    this.useSwitcher = false\n    this.registered = true\n    this.cf1 = data.roomId\n    this.cf2 = null\n    this.rooms = {\n      first: data.roomId,\n      second: null,\n      orator: null\n    }\n    this.roomsList = [data.roomId]\n    this.channels = {\n      self: '__remote__'\n    }\n    this.isStartTime=true\n    this.startStopTime= null\n    this.isResetTime = false\n    this.lastInterpreterSessionTime = null\n    this.startMeeting=false,\n    this.startHandRaised = true,\n    this.startStopHandRaised = null,\n    this.startOnMikes = true,\n    this.startStopMikes = null\n    this.slowSpeak = null\n  }\n\n  connected() {\n    return this.members.length > 1\n  }\n\n  onMemberRemove(/* member */) {\n    if (!this.members.length) this.destroy()\n  }\n\n  toJSON() {\n    return RemoteUserSerializer(this)\n  }\n\n  static all = []\n\n  static add = (data) => {\n    const user = new RemoteUser(data)\n    RemoteUser.makeUniq(user)\n    RemoteUser.all.push(user)\n    console.log(`Create remote user ${user.id}`)\n    return user\n  }\n\n  static findOrCreate = (data) => {\n    const user = RemoteUser.find(data.nameId)\n    if (user) return user\n    return RemoteUser.add(data)\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/base.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/base.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/base.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/base.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
        "sourceFileName": "base.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _record = _interopRequireDefault(require(\"../record\"));\n\nvar _socket = _interopRequireWildcard(require(\"../../socket\"));\n\nvar _index = _interopRequireWildcard(require(\"./index\"));\n\nvar _userHelper = require(\"../../helpers/userHelper\");\n\nvar _config = _interopRequireDefault(require(\"../../../config\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nlet id = 0;\n\nclass BaseUser extends _record.default {\n  constructor(data) {\n    super(data);\n    this.id = ++id;\n    this.userState = {\n      mediaSettings: {},\n      debugInfo: {\n        browserData: {},\n        errors: [],\n        janusLog: [],\n        turnStun: []\n      },\n      activeChannel: _socket.default.PUBLIC_CHANNEL\n    };\n    this.role = 'regular';\n  }\n\n  isModerator() {\n    return this.role === BaseUser.ROLES.INTERPRETER;\n  }\n\n  isRegular() {\n    return this.role === BaseUser.ROLES.REGULAR;\n  }\n\n  isTechAssistant() {\n    var _this$usernameInput;\n\n    return !!((_this$usernameInput = this.usernameInput) !== null && _this$usernameInput !== void 0 && _this$usernameInput.match(/^_ibp_techassist/));\n  }\n\n  isAdministrator() {\n    return !!this.isModeratorEndUser;\n  }\n\n  isSwitcher() {\n    return this.role === BaseUser.ROLES.SWITCHER;\n  }\n\n  isHear() {\n    return !!this.members.find(m => m.hear);\n  }\n\n  isSpeak() {\n    return !!this.members.find(m => m.speak);\n  }\n\n  shortName() {\n    return (0, _userHelper.shortName)(this.displayName);\n  }\n\n  destroy() {\n    let memberIndex = this.members.length - 1;\n\n    while (memberIndex >= 0) {\n      const member = this.members[memberIndex];\n      member.destroy();\n      memberIndex -= 1;\n    }\n\n    const index = this.constructor.all.indexOf(this);\n\n    if (index !== -1) {\n      this.constructor.all.splice(index, 1);\n      console.log('Destroy user', this.id);\n    }\n\n    _socket.AdminSender.removeUser(this.id);\n  }\n\n  memberByRoomId(roomId) {\n    return this.members.find(m => m.roomId === roomId);\n  }\n\n  removeMember(member) {\n    const index = this.members.findIndex(m => m.id === member.id);\n    if (index === -1) return;\n    this.members.splice(index, 1);\n    this.onMemberRemove(member);\n  }\n\n  onMemberAdd()\n  /* member */\n  {// overwrite in inherited class\n  }\n\n  onMemberRemove()\n  /* member */\n  {// overwrite in inherited class\n  }\n\n  static makeUniq(user) {\n    if (user.browserID) {\n      // make only one tab opened with the same browserID\n      _index.default.all.filter(u => u.browserID === user.browserID && u.id !== user.id).forEach(u => _socket.Sender.closeWindow(u.channels.self));\n    }\n\n    if (user.isSwitcher()) {\n      // allow one switcher per meeting\n      const swithcers = _index.default.all.filter(u => u.meetingID === user.meetingID && u.role === BaseUser.ROLES.SWITCHER && u.id !== user.id);\n\n      swithcers.forEach(sw => sw.destroy());\n    }\n\n    const oldUser = this.find({\n      username: user.username\n    });\n    if (!oldUser) return;\n\n    if (oldUser.client) {\n      _socket.Sender.closeWindow(oldUser.channels.self);\n    } else {\n      oldUser.destroy();\n    }\n  }\n\n  static onRegister() {// overwrite in inherited class\n  }\n\n  static addMember(member) {\n    const {\n      nameId,\n      roomId\n    } = member;\n\n    let user = _index.default.find({\n      username: nameId\n    });\n\n    if (!user) user = _index.RemoteUser.findOrCreate({\n      nameId,\n      roomId\n    });\n    member.user = user;\n    user.members.push(member);\n    user.onMemberAdd(member);\n  }\n\n}\n\nexports.default = BaseUser;\n\n_defineProperty(BaseUser, \"ROLES\", {\n  INTERPRETER: 'interpreter',\n  MODERATOR: 'moderator',\n  REGULAR: 'regular',\n  TECH_ASSISTANT: 'tech_assistant',\n  SWITCHER: 'switcher'\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2UuanMiXSwibmFtZXMiOlsiaWQiLCJCYXNlVXNlciIsIlJlY29yZCIsImNvbnN0cnVjdG9yIiwiZGF0YSIsInVzZXJTdGF0ZSIsIm1lZGlhU2V0dGluZ3MiLCJkZWJ1Z0luZm8iLCJicm93c2VyRGF0YSIsImVycm9ycyIsImphbnVzTG9nIiwidHVyblN0dW4iLCJhY3RpdmVDaGFubmVsIiwiU29ja2V0IiwiUFVCTElDX0NIQU5ORUwiLCJyb2xlIiwiaXNNb2RlcmF0b3IiLCJST0xFUyIsIklOVEVSUFJFVEVSIiwiaXNSZWd1bGFyIiwiUkVHVUxBUiIsImlzVGVjaEFzc2lzdGFudCIsInVzZXJuYW1lSW5wdXQiLCJtYXRjaCIsImlzQWRtaW5pc3RyYXRvciIsImlzTW9kZXJhdG9yRW5kVXNlciIsImlzU3dpdGNoZXIiLCJTV0lUQ0hFUiIsImlzSGVhciIsIm1lbWJlcnMiLCJmaW5kIiwibSIsImhlYXIiLCJpc1NwZWFrIiwic3BlYWsiLCJzaG9ydE5hbWUiLCJkaXNwbGF5TmFtZSIsImRlc3Ryb3kiLCJtZW1iZXJJbmRleCIsImxlbmd0aCIsIm1lbWJlciIsImluZGV4IiwiYWxsIiwiaW5kZXhPZiIsInNwbGljZSIsImNvbnNvbGUiLCJsb2ciLCJBZG1pblNlbmRlciIsInJlbW92ZVVzZXIiLCJtZW1iZXJCeVJvb21JZCIsInJvb21JZCIsInJlbW92ZU1lbWJlciIsImZpbmRJbmRleCIsIm9uTWVtYmVyUmVtb3ZlIiwib25NZW1iZXJBZGQiLCJtYWtlVW5pcSIsInVzZXIiLCJicm93c2VySUQiLCJVc2VyIiwiZmlsdGVyIiwidSIsImZvckVhY2giLCJTZW5kZXIiLCJjbG9zZVdpbmRvdyIsImNoYW5uZWxzIiwic2VsZiIsInN3aXRoY2VycyIsIm1lZXRpbmdJRCIsInN3Iiwib2xkVXNlciIsInVzZXJuYW1lIiwiY2xpZW50Iiwib25SZWdpc3RlciIsImFkZE1lbWJlciIsIm5hbWVJZCIsIlJlbW90ZVVzZXIiLCJmaW5kT3JDcmVhdGUiLCJwdXNoIiwi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QURBO0FBRWI0RCxFQUFBQSxTQUFTLEVBQUUsV0FGRTtBQUdiMUQsRUFBQUEsT0FBTyxFQUFFLFNBSEk7QUFJYjJELEVBQUFBLGNBQWMsRUFBRSxnQkFKSDtBQUticEQsRUFBQUEsUUFBUSxFQUFFO0FBTEcsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9tb2RlbHMvdXNlci8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVjb3JkIGZyb20gJy4uL3JlY29yZCdcbmltcG9ydCBTb2NrZXQsIHsgU2VuZGVyLCBBZG1pblNlbmRlciB9IGZyb20gJy4uLy4uL3NvY2tldCdcbmltcG9ydCBVc2VyLCB7IFJlbW90ZVVzZXIgfSBmcm9tICcuL2luZGV4J1xuaW1wb3J0IHsgc2hvcnROYW1lIH0gZnJvbSAnLi4vLi4vaGVscGVycy91c2VySGVscGVyJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi8uLi8uLi9jb25maWcnXG5cbmxldCBpZCA9IDBcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZVVzZXIgZXh0ZW5kcyBSZWNvcmQge1xuICBzdGF0aWMgUk9MRVMgPSB7XG4gICAgSU5URVJQUkVURVI6ICdpbnRlcnByZXRlcicsXG4gICAgTU9ERVJBVE9SOiAnbW9kZXJhdG9yJyxcbiAgICBSRUdVTEFSOiAncmVndWxhcicsXG4gICAgVEVDSF9BU1NJU1RBTlQ6ICd0ZWNoX2Fzc2lzdGFudCcsXG4gICAgU1dJVENIRVI6ICdzd2l0Y2hlcicsXG4gIH07XG5cbiAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgIHN1cGVyKGRhdGEpXG4gICAgdGhpcy5pZCA9ICsraWRcbiAgICB0aGlzLnVzZXJTdGF0ZSA9IHsgbWVkaWFTZXR0aW5nczoge30sIGRlYnVnSW5mbzogeyBicm93c2VyRGF0YToge30sIGVycm9yczogW10sIGphbnVzTG9nOiBbXSwgdHVyblN0dW46IFtdIH0sIGFjdGl2ZUNoYW5uZWw6IFNvY2tldC5QVUJMSUNfQ0hBTk5FTCB9XG4gICAgdGhpcy5yb2xlID0gJ3JlZ3VsYXInXG4gIH1cblxuICBpc01vZGVyYXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy5yb2xlID09PSBCYXNlVXNlci5ST0xFUy5JTlRFUlBSRVRFUlxuICB9XG5cbiAgaXNSZWd1bGFyKCkge1xuICAgIHJldHVybiB0aGlzLnJvbGUgPT09IEJhc2VVc2VyLlJPTEVTLlJFR1VMQVJcbiAgfVxuXG4gIGlzVGVjaEFzc2lzdGFudCgpIHtcbiAgICByZXR1cm4gISF0aGlzLnVzZXJuYW1lSW5wdXQ/Lm1hdGNoKC9eX2licF90ZWNoYXNzaXN0LylcbiAgfVxuXG4gIGlzQWRtaW5pc3RyYXRvcigpIHtcbiAgICByZXR1cm4gISF0aGlzLmlzTW9kZXJhdG9yRW5kVXNlclxuICB9XG5cbiAgaXNTd2l0Y2hlcigpIHtcbiAgICByZXR1cm4gdGhpcy5yb2xlID09PSBCYXNlVXNlci5ST0xFUy5TV0lUQ0hFUlxuICB9XG5cbiAgaXNIZWFyKCkge1xuICAgIHJldHVybiAhIXRoaXMubWVtYmVycy5maW5kKG0gPT4gbS5oZWFyKVxuICB9XG5cbiAgaXNTcGVhaygpIHtcbiAgICByZXR1cm4gISF0aGlzLm1lbWJlcnMuZmluZChtID0+IG0uc3BlYWspXG4gIH1cblxuICBzaG9ydE5hbWUoKSB7XG4gICAgcmV0dXJuIHNob3J0TmFtZSh0aGlzLmRpc3BsYXlOYW1lKVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBsZXQgbWVtYmVySW5kZXggPSB0aGlzLm1lbWJlcnMubGVuZ3RoIC0gMVxuICAgIHdoaWxlIChtZW1iZXJJbmRleCA+PSAwKSB7XG4gICAgICBjb25zdCBtZW1iZXIgPSB0aGlzLm1lbWJlcnNbbWVtYmVySW5kZXhdXG4gICAgICBtZW1iZXIuZGVzdHJveSgpXG4gICAgICBtZW1iZXJJbmRleCAtPSAxXG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jb25zdHJ1Y3Rvci5hbGwuaW5kZXhPZih0aGlzKVxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuY29uc3RydWN0b3IuYWxsLnNwbGljZShpbmRleCwgMSlcbiAgICAgIGNvbnNvbGUubG9nKCdEZXN0cm95IHVzZXInLCB0aGlzLmlkKVxuICAgIH1cbiAgICBBZG1pblNlbmRlci5yZW1vdmVVc2VyKHRoaXMuaWQpXG4gIH1cblxuICBtZW1iZXJCeVJvb21JZChyb29tSWQpIHtcbiAgICByZXR1cm4gdGhpcy5tZW1iZXJzLmZpbmQobSA9PiBtLnJvb21JZCA9PT0gcm9vbUlkKVxuICB9XG5cbiAgcmVtb3ZlTWVtYmVyKG1lbWJlcikge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5tZW1iZXJzLmZpbmRJbmRleChtID0+IG0uaWQgPT09IG1lbWJlci5pZClcbiAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm5cblxuICAgIHRoaXMubWVtYmVycy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgdGhpcy5vbk1lbWJlclJlbW92ZShtZW1iZXIpXG4gIH1cblxuICBvbk1lbWJlckFkZCgvKiBtZW1iZXIgKi8pIHtcbiAgICAvLyBvdmVyd3JpdGUgaW4gaW5oZXJpdGVkIGNsYXNzXG4gIH1cblxuICBvbk1lbWJlclJlbW92ZSgvKiBtZW1iZXIgKi8pIHtcbiAgICAvLyBvdmVyd3JpdGUgaW4gaW5oZXJpdGVkIGNsYXNzXG4gIH1cblxuICBzdGF0aWMgbWFrZVVuaXEodXNlcikge1xuICAgIGlmICh1c2VyLmJyb3dzZXJJRCkgeyAvLyBtYWtlIG9ubHkgb25lIHRhYiBvcGVuZWQgd2l0aCB0aGUgc2FtZSBicm93c2VySURcbiAgICAgIFVzZXIuYWxsXG4gICAgICAgIC5maWx0ZXIodSA9PiB1LmJyb3dzZXJJRCA9PT0gdXNlci5icm93c2VySUQgJiYgdS5pZCAhPT0gdXNlci5pZClcbiAgICAgICAgLmZvckVhY2godSA9PiBTZW5kZXIuY2xvc2VXaW5kb3codS5jaGFubmVscy5zZWxmKSlcbiAgICB9XG5cbiAgICBpZiAodXNlci5pc1N3aXRjaGVyKCkpIHtcbiAgICAgIC8vIGFsbG93IG9uZSBzd2l0Y2hlciBwZXIgbWVldGluZ1xuICAgICAgY29uc3Qgc3dpdGhjZXJzID0gVXNlci5hbGwuZmlsdGVyKHUgPT4gdS5tZWV0aW5nSUQgPT09IHVzZXIubWVldGluZ0lEICYmIHUucm9sZSA9PT0gQmFzZVVzZXIuUk9MRVMuU1dJVENIRVIgJiYgdS5pZCAhPT0gdXNlci5pZClcbiAgICAgIHN3aXRoY2Vycy5mb3JFYWNoKHN3ID0+IHN3LmRlc3Ryb3koKSlcbiAgICB9XG5cbiAgICBjb25zdCBvbGRVc2VyID0gdGhpcy5maW5kKHsgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUgfSlcbiAgICBpZiAoIW9sZFVzZXIpIHJldHVyblxuXG4gICAgaWYgKG9sZFVzZXIuY2xpZW50KSB7XG4gICAgICBTZW5kZXIuY2xvc2VXaW5kb3cob2xkVXNlci5jaGFubmVscy5zZWxmKVxuICAgIH0gZWxzZSB7XG4gICAgICBvbGRVc2VyLmRlc3Ryb3koKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBvblJlZ2lzdGVyKCkge1xuICAgIC8vIG92ZXJ3cml0ZSBpbiBpbmhlcml0ZWQgY2xhc3NcbiAgfVxuXG4gIHN0YXRpYyBhZGRNZW1iZXIobWVtYmVyKSB7XG4gICAgY29uc3QgeyBuYW1lSWQsIHJvb21JZCB9ID0gbWVtYmVyXG4gICAgbGV0IHVzZXIgPSBVc2VyLmZpbmQoeyB1c2VybmFtZTogbmFtZUlkIH0pXG4gICAgaWYgKCF1c2VyKSB1c2VyID0gUmVtb3RlVXNlci5maW5kT3JDcmVhdGUoeyBuYW1lSWQsIHJvb21JZCB9KVxuXG4gICAgbWVtYmVyLnVzZXIgPSB1c2VyXG4gICAgdXNlci5tZW1iZXJzLnB1c2gobWVtYmVyKVxuICAgIHVzZXIub25NZW1iZXJBZGQobWVtYmVyKVxuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "base.js"
      ],
      "names": [
        "id",
        "BaseUser",
        "Record",
        "constructor",
        "data",
        "userState",
        "mediaSettings",
        "debugInfo",
        "browserData",
        "errors",
        "janusLog",
        "turnStun",
        "activeChannel",
        "Socket",
        "PUBLIC_CHANNEL",
        "role",
        "isModerator",
        "ROLES",
        "INTERPRETER",
        "isRegular",
        "REGULAR",
        "isTechAssistant",
        "usernameInput",
        "match",
        "isAdministrator",
        "isModeratorEndUser",
        "isSwitcher",
        "SWITCHER",
        "isHear",
        "members",
        "find",
        "m",
        "hear",
        "isSpeak",
        "speak",
        "shortName",
        "displayName",
        "destroy",
        "memberIndex",
        "length",
        "member",
        "index",
        "all",
        "indexOf",
        "splice",
        "console",
        "log",
        "AdminSender",
        "removeUser",
        "memberByRoomId",
        "roomId",
        "removeMember",
        "findIndex",
        "onMemberRemove",
        "onMemberAdd",
        "makeUniq",
        "user",
        "browserID",
        "User",
        "filter",
        "u",
        "forEach",
        "Sender",
        "closeWindow",
        "channels",
        "self",
        "swithcers",
        "meetingID",
        "sw",
        "oldUser",
        "username",
        "client",
        "onRegister",
        "addMember",
        "nameId",
        "RemoteUser",
        "findOrCreate",
        "push",
        "MODERATOR",
        "TECH_ASSISTANT"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
      "sourcesContent": [
        "import Record from '../record'\nimport Socket, { Sender, AdminSender } from '../../socket'\nimport User, { RemoteUser } from './index'\nimport { shortName } from '../../helpers/userHelper'\nimport config from '../../../config'\n\nlet id = 0\n\nexport default class BaseUser extends Record {\n  static ROLES = {\n    INTERPRETER: 'interpreter',\n    MODERATOR: 'moderator',\n    REGULAR: 'regular',\n    TECH_ASSISTANT: 'tech_assistant',\n    SWITCHER: 'switcher',\n  };\n\n  constructor(data) {\n    super(data)\n    this.id = ++id\n    this.userState = { mediaSettings: {}, debugInfo: { browserData: {}, errors: [], janusLog: [], turnStun: [] }, activeChannel: Socket.PUBLIC_CHANNEL }\n    this.role = 'regular'\n  }\n\n  isModerator() {\n    return this.role === BaseUser.ROLES.INTERPRETER\n  }\n\n  isRegular() {\n    return this.role === BaseUser.ROLES.REGULAR\n  }\n\n  isTechAssistant() {\n    return !!this.usernameInput?.match(/^_ibp_techassist/)\n  }\n\n  isAdministrator() {\n    return !!this.isModeratorEndUser\n  }\n\n  isSwitcher() {\n    return this.role === BaseUser.ROLES.SWITCHER\n  }\n\n  isHear() {\n    return !!this.members.find(m => m.hear)\n  }\n\n  isSpeak() {\n    return !!this.members.find(m => m.speak)\n  }\n\n  shortName() {\n    return shortName(this.displayName)\n  }\n\n  destroy() {\n    let memberIndex = this.members.length - 1\n    while (memberIndex >= 0) {\n      const member = this.members[memberIndex]\n      member.destroy()\n      memberIndex -= 1\n    }\n    const index = this.constructor.all.indexOf(this)\n    if (index !== -1) {\n      this.constructor.all.splice(index, 1)\n      console.log('Destroy user', this.id)\n    }\n    AdminSender.removeUser(this.id)\n  }\n\n  memberByRoomId(roomId) {\n    return this.members.find(m => m.roomId === roomId)\n  }\n\n  removeMember(member) {\n    const index = this.members.findIndex(m => m.id === member.id)\n    if (index === -1) return\n\n    this.members.splice(index, 1)\n    this.onMemberRemove(member)\n  }\n\n  onMemberAdd(/* member */) {\n    // overwrite in inherited class\n  }\n\n  onMemberRemove(/* member */) {\n    // overwrite in inherited class\n  }\n\n  static makeUniq(user) {\n    if (user.browserID) { // make only one tab opened with the same browserID\n      User.all\n        .filter(u => u.browserID === user.browserID && u.id !== user.id)\n        .forEach(u => Sender.closeWindow(u.channels.self))\n    }\n\n    if (user.isSwitcher()) {\n      // allow one switcher per meeting\n      const swithcers = User.all.filter(u => u.meetingID === user.meetingID && u.role === BaseUser.ROLES.SWITCHER && u.id !== user.id)\n      swithcers.forEach(sw => sw.destroy())\n    }\n\n    const oldUser = this.find({ username: user.username })\n    if (!oldUser) return\n\n    if (oldUser.client) {\n      Sender.closeWindow(oldUser.channels.self)\n    } else {\n      oldUser.destroy()\n    }\n  }\n\n  static onRegister() {\n    // overwrite in inherited class\n  }\n\n  static addMember(member) {\n    const { nameId, roomId } = member\n    let user = User.find({ username: nameId })\n    if (!user) user = RemoteUser.findOrCreate({ nameId, roomId })\n\n    member.user = user\n    user.members.push(member)\n    user.onMemberAdd(member)\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Admin\", {\n  enumerable: true,\n  get: function () {\n    return _admin.default;\n  }\n});\nObject.defineProperty(exports, \"AdminSender\", {\n  enumerable: true,\n  get: function () {\n    return _admin.AdminSender;\n  }\n});\nObject.defineProperty(exports, \"Client\", {\n  enumerable: true,\n  get: function () {\n    return _client.default;\n  }\n});\nObject.defineProperty(exports, \"Sender\", {\n  enumerable: true,\n  get: function () {\n    return _client.Sender;\n  }\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _socket.default;\n  }\n});\n\nvar _admin = _interopRequireWildcard(require(\"./admin\"));\n\nvar _client = _interopRequireWildcard(require(\"./client\"));\n\nvar _socket = _interopRequireDefault(require(\"./socket\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3dlYnBob25lLW5vZGUvc3JjL3NvY2tldC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQWRtaW4sIHsgQWRtaW5TZW5kZXIgfSBmcm9tICcuL2FkbWluJ1xuaW1wb3J0IENsaWVudCwgeyBTZW5kZXIgfSBmcm9tICcuL2NsaWVudCdcblxuZXhwb3J0IHsgQ2xpZW50LCBBZG1pbiwgU2VuZGVyLCBBZG1pblNlbmRlciB9XG5leHBvcnQgZGVmYXVsdCBmcm9tICcuL3NvY2tldCdcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/",
      "sourcesContent": [
        "import Admin, { AdminSender } from './admin'\nimport Client, { Sender } from './client'\n\nexport { Client, Admin, Sender, AdminSender }\nexport default from './socket'\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _admin.default;\n  }\n});\nexports.AdminSender = void 0;\n\nvar AdminSender = _interopRequireWildcard(require(\"./sender\"));\n\nexports.AdminSender = AdminSender;\n\nvar _admin = _interopRequireDefault(require(\"./admin\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9zb2NrZXQvYWRtaW4vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQWRtaW5TZW5kZXIgZnJvbSAnLi9zZW5kZXInXG5cbmV4cG9ydCB7IEFkbWluU2VuZGVyIH1cbmV4cG9ydCBkZWZhdWx0IGZyb20gJy4vYWRtaW4nXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;AAAA",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
      "sourcesContent": [
        "import * as AdminSender from './sender'\n\nexport { AdminSender }\nexport default from './admin'\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/sender.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/sender.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/sender.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/sender.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
        "sourceFileName": "sender.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.informChangeOnMediaSettings = exports.bbbOff = exports.bbbOn = exports.adjustments = exports.removeUser = void 0;\n\nvar _admin = _interopRequireDefault(require(\"./admin\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst removeUser = data => {\n  _admin.default.broadcast(_admin.default.ADMIN_REMOVE_USER, data);\n};\n\nexports.removeUser = removeUser;\n\nconst adjustments = data => {\n  _admin.default.broadcast(_admin.default.ALL_ADJUSTMENTS, data);\n};\n\nexports.adjustments = adjustments;\n\nconst bbbOn = data => {\n  _admin.default.broadcast(_admin.default.BBB_ON, data);\n};\n\nexports.bbbOn = bbbOn;\n\nconst bbbOff = data => {\n  _admin.default.broadcast(_admin.default.BBB_OFF, data);\n};\n\nexports.bbbOff = bbbOff;\n\nconst informChangeOnMediaSettings = (id, mediaSettings) => {\n  _admin.default.broadcast(_admin.default.MEDIASETTINGS_CHANGE, {\n    userId: id,\n    mediaSettings\n  });\n};\n\nexports.informChangeOnMediaSettings = informChangeOnMediaSettings;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlbmRlci5qcyJdLCJuYW1lcyI6WyJyZW1vdmVVc2VyIiwiZGF0YSIsIkFkbWluIiwiYnJvYWRjYXN0IiwiQURNSU5fUkVNT1ZFX1VTRVIiLCJhZGp1c3RtZW50cyIsIkFMTF9BREpVU1RNRU5UUyIsImJiYk9uIiwiQkJCX09OIiwiYmJiT2ZmIiwiQkJCX09GRiIsImluZm9ybUNoYW5nZU9uTWVkaWFTZXR0aW5ncyIsImlkIiwibWVkaWFTZXR0aW5ncyIsIk1FRElBU0VUVElOR1NfQ0hBTkdFIiwidXNlcklkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFTyxNQUFNQSxVQUFVLEdBQUlDLElBQUQsSUFBVTtBQUNsQ0MsaUJBQU1DLFNBQU4sQ0FBZ0JELGVBQU1FLGlCQUF0QixFQUF5Q0gsSUFBekM7QUFDRCxDQUZNOzs7O0FBSUEsTUFBTUksV0FBVyxHQUFJSixJQUFELElBQVU7QUFDbkNDLGlCQUFNQyxTQUFOLENBQWdCRCxlQUFNSSxlQUF0QixFQUF1Q0wsSUFBdkM7QUFDRCxDQUZNOzs7O0FBSUEsTUFBTU0sS0FBSyxHQUFJTixJQUFELElBQVU7QUFDN0JDLGlCQUFNQyxTQUFOLENBQWdCRCxlQUFNTSxNQUF0QixFQUE4QlAsSUFBOUI7QUFDRCxDQUZNOzs7O0FBSUEsTUFBTVEsTUFBTSxHQUFJUixJQUFELElBQVU7QUFDOUJDLGlCQUFNQyxTQUFOLENBQWdCRCxlQUFNUSxPQUF0QixFQUErQlQsSUFBL0I7QUFDRCxDQUZNOzs7O0FBSUEsTUFBTVUsMkJBQTJCLEdBQUcsQ0FBQ0MsRUFBRCxFQUFLQyxhQUFMLEtBQXVCO0FBQ2hFWCxpQkFBTUMsU0FBTixDQUFnQkQsZUFBTVksb0JBQXRCLEVBQTRDO0FBQUVDLElBQUFBLE1BQU0sRUFBRUgsRUFBVjtBQUFjQyxJQUFBQTtBQUFkLEdBQTVDO0FBQ0QsQ0FGTSIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9zb2NrZXQvYWRtaW4vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFkbWluIGZyb20gJy4vYWRtaW4nXG5cbmV4cG9ydCBjb25zdCByZW1vdmVVc2VyID0gKGRhdGEpID0+IHtcbiAgQWRtaW4uYnJvYWRjYXN0KEFkbWluLkFETUlOX1JFTU9WRV9VU0VSLCBkYXRhKVxufVxuXG5leHBvcnQgY29uc3QgYWRqdXN0bWVudHMgPSAoZGF0YSkgPT4ge1xuICBBZG1pbi5icm9hZGNhc3QoQWRtaW4uQUxMX0FESlVTVE1FTlRTLCBkYXRhKVxufVxuXG5leHBvcnQgY29uc3QgYmJiT24gPSAoZGF0YSkgPT4ge1xuICBBZG1pbi5icm9hZGNhc3QoQWRtaW4uQkJCX09OLCBkYXRhKVxufVxuXG5leHBvcnQgY29uc3QgYmJiT2ZmID0gKGRhdGEpID0+IHtcbiAgQWRtaW4uYnJvYWRjYXN0KEFkbWluLkJCQl9PRkYsIGRhdGEpXG59XG5cbmV4cG9ydCBjb25zdCBpbmZvcm1DaGFuZ2VPbk1lZGlhU2V0dGluZ3MgPSAoaWQsIG1lZGlhU2V0dGluZ3MpID0+IHtcbiAgQWRtaW4uYnJvYWRjYXN0KEFkbWluLk1FRElBU0VUVElOR1NfQ0hBTkdFLCB7IHVzZXJJZDogaWQsIG1lZGlhU2V0dGluZ3MgfSlcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "sender.js"
      ],
      "names": [
        "removeUser",
        "data",
        "Admin",
        "broadcast",
        "ADMIN_REMOVE_USER",
        "adjustments",
        "ALL_ADJUSTMENTS",
        "bbbOn",
        "BBB_ON",
        "bbbOff",
        "BBB_OFF",
        "informChangeOnMediaSettings",
        "id",
        "mediaSettings",
        "MEDIASETTINGS_CHANGE",
        "userId"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEO,MAAMA,UAAU,GAAIC,IAAD,IAAU;AAClCC,iBAAMC,SAAN,CAAgBD,eAAME,iBAAtB,EAAyCH,IAAzC;AACD,CAFM;;;;AAIA,MAAMI,WAAW,GAAIJ,IAAD,IAAU;AACnCC,iBAAMC,SAAN,CAAgBD,eAAMI,eAAtB,EAAuCL,IAAvC;AACD,CAFM;;;;AAIA,MAAMM,KAAK,GAAIN,IAAD,IAAU;AAC7BC,iBAAMC,SAAN,CAAgBD,eAAMM,MAAtB,EAA8BP,IAA9B;AACD,CAFM;;;;AAIA,MAAMQ,MAAM,GAAIR,IAAD,IAAU;AAC9BC,iBAAMC,SAAN,CAAgBD,eAAMQ,OAAtB,EAA+BT,IAA/B;AACD,CAFM;;;;AAIA,MAAMU,2BAA2B,GAAG,CAACC,EAAD,EAAKC,aAAL,KAAuB;AAChEX,iBAAMC,SAAN,CAAgBD,eAAMY,oBAAtB,EAA4C;AAAEC,IAAAA,MAAM,EAAEH,EAAV;AAAcC,IAAAA;AAAd,GAA5C;AACD,CAFM",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
      "sourcesContent": [
        "import Admin from './admin'\n\nexport const removeUser = (data) => {\n  Admin.broadcast(Admin.ADMIN_REMOVE_USER, data)\n}\n\nexport const adjustments = (data) => {\n  Admin.broadcast(Admin.ALL_ADJUSTMENTS, data)\n}\n\nexport const bbbOn = (data) => {\n  Admin.broadcast(Admin.BBB_ON, data)\n}\n\nexport const bbbOff = (data) => {\n  Admin.broadcast(Admin.BBB_OFF, data)\n}\n\nexport const informChangeOnMediaSettings = (id, mediaSettings) => {\n  Admin.broadcast(Admin.MEDIASETTINGS_CHANGE, { userId: id, mediaSettings })\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/admin.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/admin.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/admin.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/admin.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
        "sourceFileName": "admin.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _client = _interopRequireDefault(require(\"../client\"));\n\nvar _socket = _interopRequireDefault(require(\"../socket\"));\n\nvar _user = _interopRequireDefault(require(\"../../models/user\"));\n\nvar _handler = _interopRequireDefault(require(\"./handler\"));\n\nvar _adjustments = _interopRequireDefault(require(\"../../libs/adjustments\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst clientEvents = [_socket.default.NEW_USER, _socket.default.PROFILE_UPDATE, _socket.default.UPDATE_USER_STATE];\nconst serverEvents = [];\n\nclass Admin extends _socket.default {\n  constructor(props) {\n    super(props);\n    this.handler = _handler.default;\n    Admin.all.push(this);\n    this.onInit();\n  }\n\n  onInit() {\n    this.send({\n      event: _socket.default.ALL_ADJUSTMENTS,\n      data: _adjustments.default\n    });\n    this.send({\n      event: _socket.default.ALL_USERS,\n      data: _user.default.all\n    });\n  }\n\n  static transmit(event, data, inbound = false) {\n    const events = inbound ? serverEvents : clientEvents;\n    if (!events.some(e => e === event)) return;\n    Admin.broadcast(event, data);\n  }\n\n  static broadcast(event, data) {\n    Admin.all.forEach(socket => socket.send({\n      event,\n      data\n    }));\n  }\n\n}\n\nexports.default = Admin;\n\n_defineProperty(Admin, \"all\", []);\n\n_defineProperty(Admin, \"channels\", {});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIl0sIm5hbWVzIjpbImNsaWVudEV2ZW50cyIsIlNvY2tldCIsIk5FV19VU0VSIiwiUFJPRklMRV9VUERBVEUiLCJVUERBVEVfVVNFUl9TVEFURSIsInNlcnZlckV2ZW50cyIsIkFkbWluIiwiY29uc3RydWN0b3IiLCJwcm9wcyIsImhhbmRsZXIiLCJhbGwiLCJwdXNoIiwib25Jbml0Iiwic2VuZCIsImV2ZW50IiwiQUxMX0FESlVTVE1FTlRTIiwiZGF0YSIsIkFkanVzdG1lbnRzIiwiQUxMX1VTRVJTIiwiVXNlciIsInRyYW5zbWl0IiwiaW5ib3VuZCIsImV2ZW50cyIsInNvbWUiLCJlIiwiYnJvYWRjYXN0IiwiZm9yRWFjaCIsInNvY2tldCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7QUFFQSxNQUFNQSxZQUFZLEdBQUcsQ0FDbkJDLGdCQUFPQyxRQURZLEVBRW5CRCxnQkFBT0UsY0FGWSxFQUduQkYsZ0JBQU9HLGlCQUhZLENBQXJCO0FBTUEsTUFBTUMsWUFBWSxHQUFHLEVBQXJCOztBQUdlLE1BQU1DLEtBQU4sU0FBb0JMLGVBQXBCLENBQTJCO0FBQ3hDTSxFQUFBQSxXQUFXLENBQUNDLEtBQUQsRUFBUTtBQUNqQixVQUFNQSxLQUFOO0FBQ0EsU0FBS0MsT0FBTCxHQUFlQSxnQkFBZjtBQUNBSCxJQUFBQSxLQUFLLENBQUNJLEdBQU4sQ0FBVUMsSUFBVixDQUFlLElBQWY7QUFDQSxTQUFLQyxNQUFMO0FBQ0Q7O0FBRURBLEVBQUFBLE1BQU0sR0FBRztBQUNQLFNBQUtDLElBQUwsQ0FBVTtBQUFFQyxNQUFBQSxLQUFLLEVBQUViLGdCQUFPYyxlQUFoQjtBQUFpQ0MsTUFBQUEsSUFBSSxFQUFFQztBQUF2QyxLQUFWO0FBQ0EsU0FBS0osSUFBTCxDQUFVO0FBQUVDLE1BQUFBLEtBQUssRUFBRWIsZ0JBQU9pQixTQUFoQjtBQUEyQkYsTUFBQUEsSUFBSSxFQUFFRyxjQUFLVDtBQUF0QyxLQUFWO0FBQ0Q7O0FBTUQsU0FBT1UsUUFBUCxDQUFnQk4sS0FBaEIsRUFBdUJFLElBQXZCLEVBQTZCSyxPQUFPLEdBQUcsS0FBdkMsRUFBOEM7QUFDNUMsVUFBTUMsTUFBTSxHQUFHRCxPQUFPLEdBQUdoQixZQUFILEdBQWtCTCxZQUF4QztBQUNBLFFBQUksQ0FBQ3NCLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZQyxDQUFDLElBQUlBLENBQUMsS0FBS1YsS0FBdkIsQ0FBTCxFQUFvQztBQUNwQ1IsSUFBQUEsS0FBSyxDQUFDbUIsU0FBTixDQUFnQlgsS0FBaEIsRUFBdUJFLElBQXZCO0FBQ0Q7O0FBRUQsU0FBT1MsU0FBUCxDQUFpQlgsS0FBakIsRUFBd0JFLElBQXhCLEVBQThCO0FBQzVCVixJQUFBQSxLQUFLLENBQUNJLEdBQU4sQ0FBVWdCLE9BQVYsQ0FBa0JDLE1BQU0sSUFBSUEsTUFBTSxDQUFDZCxJQUFQLENBQVk7QUFBRUMsTUFBQUEsS0FBRjtBQUFTRSxNQUFBQTtBQUFULEtBQVosQ0FBNUI7QUFDRDs7QUF6QnVDOzs7O2dCQUFyQlYsSyxTQWFOLEU7O2dCQWJNQSxLLGNBZUQsRSIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9zb2NrZXQvYWRtaW4vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENsaWVudCBmcm9tICcuLi9jbGllbnQnXG5pbXBvcnQgU29ja2V0IGZyb20gJy4uL3NvY2tldCdcbmltcG9ydCBVc2VyIGZyb20gJy4uLy4uL21vZGVscy91c2VyJ1xuaW1wb3J0IGhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyJ1xuaW1wb3J0IEFkanVzdG1lbnRzIGZyb20gJy4uLy4uL2xpYnMvYWRqdXN0bWVudHMnXG5cbmNvbnN0IGNsaWVudEV2ZW50cyA9IFtcbiAgU29ja2V0Lk5FV19VU0VSLFxuICBTb2NrZXQuUFJPRklMRV9VUERBVEUsXG4gIFNvY2tldC5VUERBVEVfVVNFUl9TVEFURSxcbl1cblxuY29uc3Qgc2VydmVyRXZlbnRzID0gW1xuXVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBZG1pbiBleHRlbmRzIFNvY2tldCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5oYW5kbGVyID0gaGFuZGxlclxuICAgIEFkbWluLmFsbC5wdXNoKHRoaXMpXG4gICAgdGhpcy5vbkluaXQoKVxuICB9XG5cbiAgb25Jbml0KCkge1xuICAgIHRoaXMuc2VuZCh7IGV2ZW50OiBTb2NrZXQuQUxMX0FESlVTVE1FTlRTLCBkYXRhOiBBZGp1c3RtZW50cyB9KVxuICAgIHRoaXMuc2VuZCh7IGV2ZW50OiBTb2NrZXQuQUxMX1VTRVJTLCBkYXRhOiBVc2VyLmFsbCB9KVxuICB9XG5cbiAgc3RhdGljIGFsbCA9IFtdXG5cbiAgc3RhdGljIGNoYW5uZWxzID0ge31cblxuICBzdGF0aWMgdHJhbnNtaXQoZXZlbnQsIGRhdGEsIGluYm91bmQgPSBmYWxzZSkge1xuICAgIGNvbnN0IGV2ZW50cyA9IGluYm91bmQgPyBzZXJ2ZXJFdmVudHMgOiBjbGllbnRFdmVudHNcbiAgICBpZiAoIWV2ZW50cy5zb21lKGUgPT4gZSA9PT0gZXZlbnQpKSByZXR1cm5cbiAgICBBZG1pbi5icm9hZGNhc3QoZXZlbnQsIGRhdGEpXG4gIH1cblxuICBzdGF0aWMgYnJvYWRjYXN0KGV2ZW50LCBkYXRhKSB7XG4gICAgQWRtaW4uYWxsLmZvckVhY2goc29ja2V0ID0+IHNvY2tldC5zZW5kKHsgZXZlbnQsIGRhdGEgfSkpXG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "admin.js"
      ],
      "names": [
        "clientEvents",
        "Socket",
        "NEW_USER",
        "PROFILE_UPDATE",
        "UPDATE_USER_STATE",
        "serverEvents",
        "Admin",
        "constructor",
        "props",
        "handler",
        "all",
        "push",
        "onInit",
        "send",
        "event",
        "ALL_ADJUSTMENTS",
        "data",
        "Adjustments",
        "ALL_USERS",
        "User",
        "transmit",
        "inbound",
        "events",
        "some",
        "e",
        "broadcast",
        "forEach",
        "socket"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,MAAMA,YAAY,GAAG,CACnBC,gBAAOC,QADY,EAEnBD,gBAAOE,cAFY,EAGnBF,gBAAOG,iBAHY,CAArB;AAMA,MAAMC,YAAY,GAAG,EAArB;;AAGe,MAAMC,KAAN,SAAoBL,eAApB,CAA2B;AACxCM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,OAAL,GAAeA,gBAAf;AACAH,IAAAA,KAAK,CAACI,GAAN,CAAUC,IAAV,CAAe,IAAf;AACA,SAAKC,MAAL;AACD;;AAEDA,EAAAA,MAAM,GAAG;AACP,SAAKC,IAAL,CAAU;AAAEC,MAAAA,KAAK,EAAEb,gBAAOc,eAAhB;AAAiCC,MAAAA,IAAI,EAAEC;AAAvC,KAAV;AACA,SAAKJ,IAAL,CAAU;AAAEC,MAAAA,KAAK,EAAEb,gBAAOiB,SAAhB;AAA2BF,MAAAA,IAAI,EAAEG,cAAKT;AAAtC,KAAV;AACD;;AAMD,SAAOU,QAAP,CAAgBN,KAAhB,EAAuBE,IAAvB,EAA6BK,OAAO,GAAG,KAAvC,EAA8C;AAC5C,UAAMC,MAAM,GAAGD,OAAO,GAAGhB,YAAH,GAAkBL,YAAxC;AACA,QAAI,CAACsB,MAAM,CAACC,IAAP,CAAYC,CAAC,IAAIA,CAAC,KAAKV,KAAvB,CAAL,EAAoC;AACpCR,IAAAA,KAAK,CAACmB,SAAN,CAAgBX,KAAhB,EAAuBE,IAAvB;AACD;;AAED,SAAOS,SAAP,CAAiBX,KAAjB,EAAwBE,IAAxB,EAA8B;AAC5BV,IAAAA,KAAK,CAACI,GAAN,CAAUgB,OAAV,CAAkBC,MAAM,IAAIA,MAAM,CAACd,IAAP,CAAY;AAAEC,MAAAA,KAAF;AAASE,MAAAA;AAAT,KAAZ,CAA5B;AACD;;AAzBuC;;;;gBAArBV,K,SAaN,E;;gBAbMA,K,cAeD,E",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
      "sourcesContent": [
        "import Client from '../client'\nimport Socket from '../socket'\nimport User from '../../models/user'\nimport handler from './handler'\nimport Adjustments from '../../libs/adjustments'\n\nconst clientEvents = [\n  Socket.NEW_USER,\n  Socket.PROFILE_UPDATE,\n  Socket.UPDATE_USER_STATE,\n]\n\nconst serverEvents = [\n]\n\nexport default class Admin extends Socket {\n  constructor(props) {\n    super(props)\n    this.handler = handler\n    Admin.all.push(this)\n    this.onInit()\n  }\n\n  onInit() {\n    this.send({ event: Socket.ALL_ADJUSTMENTS, data: Adjustments })\n    this.send({ event: Socket.ALL_USERS, data: User.all })\n  }\n\n  static all = []\n\n  static channels = {}\n\n  static transmit(event, data, inbound = false) {\n    const events = inbound ? serverEvents : clientEvents\n    if (!events.some(e => e === event)) return\n    Admin.broadcast(event, data)\n  }\n\n  static broadcast(event, data) {\n    Admin.all.forEach(socket => socket.send({ event, data }))\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _client.default;\n  }\n});\nexports.Sender = void 0;\n\nvar Sender = _interopRequireWildcard(require(\"./sender\"));\n\nexports.Sender = Sender;\n\nvar _client = _interopRequireDefault(require(\"./client\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9zb2NrZXQvY2xpZW50LyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFNlbmRlciBmcm9tICcuL3NlbmRlcidcblxuZXhwb3J0IHsgU2VuZGVyIH1cbmV4cG9ydCBkZWZhdWx0IGZyb20gJy4vY2xpZW50J1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;AAAA",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/",
      "sourcesContent": [
        "import * as Sender from './sender'\n\nexport { Sender }\nexport default from './client'\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/sender.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/sender.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/sender.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/sender.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/",
        "sourceFileName": "sender.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.adjustments = exports.closeWindow = exports.notify = exports.makeRelay = exports.langbLineCall = exports.oratorLineCall = exports.loungeLineCall = exports.floorLineCall = exports.secondLineCall = exports.firstLineCall = exports.updateMember = exports.delMember = exports.addMember = exports.changeMembers = exports.updateProfile = exports.newUser = void 0;\n\nvar _ = _interopRequireDefault(require(\".\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst newUser = (channel, data) => {\n  _.default.broadcast(channel, _.default.NEW_USER, data);\n};\n\nexports.newUser = newUser;\n\nconst updateProfile = (channel, data) => {\n  _.default.broadcast(channel, _.default.PROFILE_UPDATE, data);\n};\n\nexports.updateProfile = updateProfile;\n\nconst changeMembers = (channel, data) => {\n  _.default.broadcast(channel, _.default.MEMBERS_CHANGE, data);\n};\n\nexports.changeMembers = changeMembers;\n\nconst addMember = (channel, data) => {\n  _.default.broadcast(channel, _.default.MEMBER_ADD, data);\n};\n\nexports.addMember = addMember;\n\nconst delMember = (channel, data) => {\n  _.default.broadcast(channel, _.default.MEMBER_DEL, data);\n};\n\nexports.delMember = delMember;\n\nconst updateMember = (channel, data) => {\n  _.default.broadcast(channel, _.default.MEMBER_UPDATE, data);\n};\n\nexports.updateMember = updateMember;\n\nconst firstLineCall = (channel, data) => {\n  _.default.broadcast(channel, _.default.FIRST_LINE_CALL, data);\n};\n\nexports.firstLineCall = firstLineCall;\n\nconst secondLineCall = (channel, data) => {\n  _.default.broadcast(channel, _.default.SECOND_LINE_CALL, data);\n};\n\nexports.secondLineCall = secondLineCall;\n\nconst floorLineCall = (channel, data) => {\n  _.default.broadcast(channel, _.default.FLOOR_LINE_CALL, data);\n};\n\nexports.floorLineCall = floorLineCall;\n\nconst loungeLineCall = (channel, data) => {\n  _.default.broadcast(channel, _.default.LOUNGE_LINE_CALL, data);\n};\n\nexports.loungeLineCall = loungeLineCall;\n\nconst oratorLineCall = (channel, data) => {\n  _.default.broadcast(channel, _.default.ORATOR_LINE_CALL, data);\n};\n\nexports.oratorLineCall = oratorLineCall;\n\nconst langbLineCall = (channel, data) => {\n  _.default.broadcast(channel, _.default.LANGB_LINE_CALL, data);\n};\n\nexports.langbLineCall = langbLineCall;\n\nconst makeRelay = (channel, data) => {\n  _.default.broadcast(channel, _.default.MAKE_RELAY, data);\n};\n\nexports.makeRelay = makeRelay;\n\nconst notify = (channel, data) => {\n  _.default.broadcast(channel, _.default.NOTIFY, data);\n};\n\nexports.notify = notify;\n\nconst closeWindow = channel => {\n  _.default.broadcast(channel, _.default.CLOSE_WINDOW);\n};\n\nexports.closeWindow = closeWindow;\n\nconst adjustments = (channel, data) => {\n  _.default.broadcast(channel, _.default.ALL_ADJUSTMENTS, data);\n};\n\nexports.adjustments = adjustments;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlbmRlci5qcyJdLCJuYW1lcyI6WyJuZXdVc2VyIiwiY2hhbm5lbCIsImRhdGEiLCJTb2NrZXQiLCJicm9hZGNhc3QiLCJORVdfVVNFUiIsInVwZGF0ZVByb2ZpbGUiLCJQUk9GSUxFX1VQREFURSIsImNoYW5nZU1lbWJlcnMiLCJNRU1CRVJTX0NIQU5HRSIsImFkZE1lbWJlciIsIk1FTUJFUl9BREQiLCJkZWxNZW1iZXIiLCJNRU1CRVJfREVMIiwidXBkYXRlTWVtYmVyIiwiTUVNQkVSX1VQREFURSIsImZpcnN0TGluZUNhbGwiLCJGSVJTVF9MSU5FX0NBTEwiLCJzZWNvbmRMaW5lQ2FsbCIsIlNFQ09ORF9MSU5FX0NBTEwiLCJmbG9vckxpbmVDYWxsIiwiRkxPT1JfTElORV9DQUxMIiwibG91bmdlTGluZUNhbGwiLCJMT1VOR0VfTElORV9DQUxMIiwib3JhdG9yTGluZUNhbGwiLCJPUkFUT1JfTElORV9DQUxMIiwibGFuZ2JMaW5lQ2FsbCIsIkxBTkdCX0xJTkVfQ0FMTCIsIm1ha2VSZWxheSIsIk1BS0VfUkVMQVkiLCJub3RpZnkiLCJOT1RJRlkiLCJjbG9zZVdpbmRvdyIsIkNMT1NFX1dJTkRPVyIsImFkanVzdG1lbnRzIiwiQUxMX0FESlVTVE1FTlRTIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFTyxNQUFNQSxPQUFPLEdBQUcsQ0FBQ0MsT0FBRCxFQUFVQyxJQUFWLEtBQW1CO0FBQ3hDQyxZQUFPQyxTQUFQLENBQWlCSCxPQUFqQixFQUEwQkUsVUFBT0UsUUFBakMsRUFBMkNILElBQTNDO0FBQ0QsQ0FGTTs7OztBQUlBLE1BQU1JLGFBQWEsR0FBRyxDQUFDTCxPQUFELEVBQVVDLElBQVYsS0FBbUI7QUFDOUNDLFlBQU9DLFNBQVAsQ0FBaUJILE9BQWpCLEVBQTBCRSxVQUFPSSxjQUFqQyxFQUFpREwsSUFBakQ7QUFDRCxDQUZNOzs7O0FBSUEsTUFBTU0sYUFBYSxHQUFHLENBQUNQLE9BQUQsRUFBVUMsSUFBVixLQUFtQjtBQUM5Q0MsWUFBT0MsU0FBUCxDQUFpQkgsT0FBakIsRUFBMEJFLFVBQU9NLGNBQWpDLEVBQWlEUCxJQUFqRDtBQUNELENBRk07Ozs7QUFJQSxNQUFNUSxTQUFTLEdBQUcsQ0FBQ1QsT0FBRCxFQUFVQyxJQUFWLEtBQW1CO0FBQzFDQyxZQUFPQyxTQUFQLENBQWlCSCxPQUFqQixFQUEwQkUsVUFBT1EsVUFBakMsRUFBNkNULElBQTdDO0FBQ0QsQ0FGTTs7OztBQUlBLE1BQU1VLFNBQVMsR0FBRyxDQUFDWCxPQUFELEVBQVVDLElBQVYsS0FBbUI7QUFDMUNDLFlBQU9DLFNBQVAsQ0FBaUJILE9BQWpCLEVBQTBCRSxVQUFPVSxVQUFqQyxFQUE2Q1gsSUFBN0M7QUFDRCxDQUZNOzs7O0FBSUEsTUFBTVksWUFBWSxHQUFHLENBQUNiLE9BQUQsRUFBVUMsSUFBVixLQUFtQjtBQUM3Q0MsWUFBT0MsU0FBUCxDQUFpQkgsT0FBakIsRUFBMEJFLFVBQU9ZLGFBQWpDLEVBQWdEYixJQUFoRDtBQUNELENBRk07Ozs7QUFJQSxNQUFNYyxhQUFhLEdBQUcsQ0FBQ2YsT0FBRCxFQUFVQyxJQUFWLEtBQW1CO0FBQzlDQyxZQUFPQyxTQUFQLENBQWlCSCxPQUFqQixFQUEwQkUsVUFBT2MsZUFBakMsRUFBa0RmLElBQWxEO0FBQ0QsQ0FGTTs7OztBQUlBLE1BQU1nQixjQUFjLEdBQUcsQ0FBQ2pCLE9BQUQsRUFBVUMsSUFBVixLQUFtQjtBQUMvQ0MsWUFBT0MsU0FBUCxDQUFpQkgsT0FBakIsRUFBMEJFLFVBQU9nQixnQkFBakMsRUFBbURqQixJQUFuRDtBQUNELENBRk07Ozs7QUFJQSxNQUFNa0IsYUFBYSxHQUFHLENBQUNuQixPQUFELEVBQVVDLElBQVYsS0FBbUI7QUFDOUNDLFlBQU9DLFNBQVAsQ0FBaUJILE9BQWpCLEVBQTBCRSxVQUFPa0IsZUFBakMsRUFBa0RuQixJQUFsRDtBQUNELENBRk07Ozs7QUFJQSxNQUFNb0IsY0FBYyxHQUFHLENBQUNyQixPQUFELEVBQVVDLElBQVYsS0FBbUI7QUFDL0NDLFlBQU9DLFNBQVAsQ0FBaUJILE9BQWpCLEVBQTBCRSxVQUFPb0IsZ0JBQWpDLEVBQW1EckIsSUFBbkQ7QUFDRCxDQUZNOzs7O0FBSUEsTUFBTXNCLGNBQWMsR0FBRyxDQUFDdkIsT0FBRCxFQUFVQyxJQUFWLEtBQW1CO0FBQy9DQyxZQUFPQyxTQUFQLENBQWlCSCxPQUFqQixFQUEwQkUsVUFBT3NCLGdCQUFqQyxFQUFtRHZCLElBQW5EO0FBQ0QsQ0FGTTs7OztBQUlBLE1BQU13QixhQUFhLEdBQUcsQ0FBQ3pCLE9BQUQsRUFBVUMsSUFBVixLQUFtQjtBQUM5Q0MsWUFBT0MsU0FBUCxDQUFpQkgsT0FBakIsRUFBMEJFLFVBQU93QixlQUFqQyxFQUFrRHpCLElBQWxEO0FBQ0QsQ0FGTTs7OztBQUlBLE1BQU0wQixTQUFTLEdBQUcsQ0FBQzNCLE9BQUQsRUFBVUMsSUFBVixLQUFtQjtBQUMxQ0MsWUFBT0MsU0FBUCxDQUFpQkgsT0FBakIsRUFBMEJFLFVBQU8wQixVQUFqQyxFQUE2QzNCLElBQTdDO0FBQ0QsQ0FGTTs7OztBQUlBLE1BQU00QixNQUFNLEdBQUcsQ0FBQzdCLE9BQUQsRUFBVUMsSUFBVixLQUFtQjtBQUN2Q0MsWUFBT0MsU0FBUCxDQUFpQkgsT0FBakIsRUFBMEJFLFVBQU80QixNQUFqQyxFQUF5QzdCLElBQXpDO0FBQ0QsQ0FGTTs7OztBQUlBLE1BQU04QixXQUFXLEdBQUkvQixPQUFELElBQWE7QUFDdENFLFlBQU9DLFNBQVAsQ0FBaUJILE9BQWpCLEVBQTBCRSxVQUFPOEIsWUFBakM7QUFDRCxDQUZNOzs7O0FBSUEsTUFBTUMsV0FBVyxHQUFHLENBQUNqQyxPQUFELEVBQVVDLElBQVYsS0FBbUI7QUFDNUNDLFlBQU9DLFNBQVAsQ0FBaUJILE9BQWpCLEVBQTBCRSxVQUFPZ0MsZUFBakMsRUFBa0RqQyxJQUFsRDtBQUNELENBRk0iLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvd2VicGhvbmUtbm9kZS9zcmMvc29ja2V0L2NsaWVudC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU29ja2V0IGZyb20gJy4nXG5cbmV4cG9ydCBjb25zdCBuZXdVc2VyID0gKGNoYW5uZWwsIGRhdGEpID0+IHtcbiAgU29ja2V0LmJyb2FkY2FzdChjaGFubmVsLCBTb2NrZXQuTkVXX1VTRVIsIGRhdGEpXG59XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9maWxlID0gKGNoYW5uZWwsIGRhdGEpID0+IHtcbiAgU29ja2V0LmJyb2FkY2FzdChjaGFubmVsLCBTb2NrZXQuUFJPRklMRV9VUERBVEUsIGRhdGEpXG59XG5cbmV4cG9ydCBjb25zdCBjaGFuZ2VNZW1iZXJzID0gKGNoYW5uZWwsIGRhdGEpID0+IHtcbiAgU29ja2V0LmJyb2FkY2FzdChjaGFubmVsLCBTb2NrZXQuTUVNQkVSU19DSEFOR0UsIGRhdGEpXG59XG5cbmV4cG9ydCBjb25zdCBhZGRNZW1iZXIgPSAoY2hhbm5lbCwgZGF0YSkgPT4ge1xuICBTb2NrZXQuYnJvYWRjYXN0KGNoYW5uZWwsIFNvY2tldC5NRU1CRVJfQURELCBkYXRhKVxufVxuXG5leHBvcnQgY29uc3QgZGVsTWVtYmVyID0gKGNoYW5uZWwsIGRhdGEpID0+IHtcbiAgU29ja2V0LmJyb2FkY2FzdChjaGFubmVsLCBTb2NrZXQuTUVNQkVSX0RFTCwgZGF0YSlcbn1cblxuZXhwb3J0IGNvbnN0IHVwZGF0ZU1lbWJlciA9IChjaGFubmVsLCBkYXRhKSA9PiB7XG4gIFNvY2tldC5icm9hZGNhc3QoY2hhbm5lbCwgU29ja2V0Lk1FTUJFUl9VUERBVEUsIGRhdGEpXG59XG5cbmV4cG9ydCBjb25zdCBmaXJzdExpbmVDYWxsID0gKGNoYW5uZWwsIGRhdGEpID0+IHtcbiAgU29ja2V0LmJyb2FkY2FzdChjaGFubmVsLCBTb2NrZXQuRklSU1RfTElORV9DQUxMLCBkYXRhKVxufVxuXG5leHBvcnQgY29uc3Qgc2Vjb25kTGluZUNhbGwgPSAoY2hhbm5lbCwgZGF0YSkgPT4ge1xuICBTb2NrZXQuYnJvYWRjYXN0KGNoYW5uZWwsIFNvY2tldC5TRUNPTkRfTElORV9DQUxMLCBkYXRhKVxufVxuXG5leHBvcnQgY29uc3QgZmxvb3JMaW5lQ2FsbCA9IChjaGFubmVsLCBkYXRhKSA9PiB7XG4gIFNvY2tldC5icm9hZGNhc3QoY2hhbm5lbCwgU29ja2V0LkZMT09SX0xJTkVfQ0FMTCwgZGF0YSlcbn1cblxuZXhwb3J0IGNvbnN0IGxvdW5nZUxpbmVDYWxsID0gKGNoYW5uZWwsIGRhdGEpID0+IHtcbiAgU29ja2V0LmJyb2FkY2FzdChjaGFubmVsLCBTb2NrZXQuTE9VTkdFX0xJTkVfQ0FMTCwgZGF0YSlcbn1cblxuZXhwb3J0IGNvbnN0IG9yYXRvckxpbmVDYWxsID0gKGNoYW5uZWwsIGRhdGEpID0+IHtcbiAgU29ja2V0LmJyb2FkY2FzdChjaGFubmVsLCBTb2NrZXQuT1JBVE9SX0xJTkVfQ0FMTCwgZGF0YSlcbn1cblxuZXhwb3J0IGNvbnN0IGxhbmdiTGluZUNhbGwgPSAoY2hhbm5lbCwgZGF0YSkgPT4ge1xuICBTb2NrZXQuYnJvYWRjYXN0KGNoYW5uZWwsIFNvY2tldC5MQU5HQl9MSU5FX0NBTEwsIGRhdGEpXG59XG5cbmV4cG9ydCBjb25zdCBtYWtlUmVsYXkgPSAoY2hhbm5lbCwgZGF0YSkgPT4ge1xuICBTb2NrZXQuYnJvYWRjYXN0KGNoYW5uZWwsIFNvY2tldC5NQUtFX1JFTEFZLCBkYXRhKVxufVxuXG5leHBvcnQgY29uc3Qgbm90aWZ5ID0gKGNoYW5uZWwsIGRhdGEpID0+IHtcbiAgU29ja2V0LmJyb2FkY2FzdChjaGFubmVsLCBTb2NrZXQuTk9USUZZLCBkYXRhKVxufVxuXG5leHBvcnQgY29uc3QgY2xvc2VXaW5kb3cgPSAoY2hhbm5lbCkgPT4ge1xuICBTb2NrZXQuYnJvYWRjYXN0KGNoYW5uZWwsIFNvY2tldC5DTE9TRV9XSU5ET1cpXG59XG5cbmV4cG9ydCBjb25zdCBhZGp1c3RtZW50cyA9IChjaGFubmVsLCBkYXRhKSA9PiB7XG4gIFNvY2tldC5icm9hZGNhc3QoY2hhbm5lbCwgU29ja2V0LkFMTF9BREpVU1RNRU5UUywgZGF0YSlcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "sender.js"
      ],
      "names": [
        "newUser",
        "channel",
        "data",
        "Socket",
        "broadcast",
        "NEW_USER",
        "updateProfile",
        "PROFILE_UPDATE",
        "changeMembers",
        "MEMBERS_CHANGE",
        "addMember",
        "MEMBER_ADD",
        "delMember",
        "MEMBER_DEL",
        "updateMember",
        "MEMBER_UPDATE",
        "firstLineCall",
        "FIRST_LINE_CALL",
        "secondLineCall",
        "SECOND_LINE_CALL",
        "floorLineCall",
        "FLOOR_LINE_CALL",
        "loungeLineCall",
        "LOUNGE_LINE_CALL",
        "oratorLineCall",
        "ORATOR_LINE_CALL",
        "langbLineCall",
        "LANGB_LINE_CALL",
        "makeRelay",
        "MAKE_RELAY",
        "notify",
        "NOTIFY",
        "closeWindow",
        "CLOSE_WINDOW",
        "adjustments",
        "ALL_ADJUSTMENTS"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/",
      "sourcesContent": [
        "import Socket from '.'\n\nexport const newUser = (channel, data) => {\n  Socket.broadcast(channel, Socket.NEW_USER, data)\n}\n\nexport const updateProfile = (channel, data) => {\n  Socket.broadcast(channel, Socket.PROFILE_UPDATE, data)\n}\n\nexport const changeMembers = (channel, data) => {\n  Socket.broadcast(channel, Socket.MEMBERS_CHANGE, data)\n}\n\nexport const addMember = (channel, data) => {\n  Socket.broadcast(channel, Socket.MEMBER_ADD, data)\n}\n\nexport const delMember = (channel, data) => {\n  Socket.broadcast(channel, Socket.MEMBER_DEL, data)\n}\n\nexport const updateMember = (channel, data) => {\n  Socket.broadcast(channel, Socket.MEMBER_UPDATE, data)\n}\n\nexport const firstLineCall = (channel, data) => {\n  Socket.broadcast(channel, Socket.FIRST_LINE_CALL, data)\n}\n\nexport const secondLineCall = (channel, data) => {\n  Socket.broadcast(channel, Socket.SECOND_LINE_CALL, data)\n}\n\nexport const floorLineCall = (channel, data) => {\n  Socket.broadcast(channel, Socket.FLOOR_LINE_CALL, data)\n}\n\nexport const loungeLineCall = (channel, data) => {\n  Socket.broadcast(channel, Socket.LOUNGE_LINE_CALL, data)\n}\n\nexport const oratorLineCall = (channel, data) => {\n  Socket.broadcast(channel, Socket.ORATOR_LINE_CALL, data)\n}\n\nexport const langbLineCall = (channel, data) => {\n  Socket.broadcast(channel, Socket.LANGB_LINE_CALL, data)\n}\n\nexport const makeRelay = (channel, data) => {\n  Socket.broadcast(channel, Socket.MAKE_RELAY, data)\n}\n\nexport const notify = (channel, data) => {\n  Socket.broadcast(channel, Socket.NOTIFY, data)\n}\n\nexport const closeWindow = (channel) => {\n  Socket.broadcast(channel, Socket.CLOSE_WINDOW)\n}\n\nexport const adjustments = (channel, data) => {\n  Socket.broadcast(channel, Socket.ALL_ADJUSTMENTS, data)\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/client.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/client.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/client.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/client.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/",
        "sourceFileName": "client.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _socket = _interopRequireDefault(require(\"../socket\"));\n\nvar _handler = _interopRequireDefault(require(\"./handler\"));\n\nvar _admin = _interopRequireDefault(require(\"../admin\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass Client extends _socket.default {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onMessageCallback\", (event, data) => {\n      _admin.default.transmit(event, data, true);\n    });\n\n    this.handler = _handler.default;\n    Client.all.push(this);\n  }\n\n  static onBroadcastCallback(event, data) {\n    _admin.default.transmit(event, data);\n  }\n\n}\n\nexports.default = Client;\n\n_defineProperty(Client, \"all\", []);\n\n_defineProperty(Client, \"channels\", {});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsaWVudC5qcyJdLCJuYW1lcyI6WyJDbGllbnQiLCJTb2NrZXQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwiZXZlbnQiLCJkYXRhIiwiQWRtaW4iLCJ0cmFuc21pdCIsImhhbmRsZXIiLCJhbGwiLCJwdXNoIiwib25Ccm9hZGNhc3RDYWxsYmFjayJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7Ozs7QUFFZSxNQUFNQSxNQUFOLFNBQXFCQyxlQUFyQixDQUE0QjtBQUN6Q0MsRUFBQUEsV0FBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjs7QUFEaUIsK0NBTUMsQ0FBQ0MsS0FBRCxFQUFRQyxJQUFSLEtBQWlCO0FBQ25DQyxxQkFBTUMsUUFBTixDQUFlSCxLQUFmLEVBQXNCQyxJQUF0QixFQUE0QixJQUE1QjtBQUNELEtBUmtCOztBQUVqQixTQUFLRyxPQUFMLEdBQWVBLGdCQUFmO0FBQ0FSLElBQUFBLE1BQU0sQ0FBQ1MsR0FBUCxDQUFXQyxJQUFYLENBQWdCLElBQWhCO0FBQ0Q7O0FBVUQsU0FBT0MsbUJBQVAsQ0FBMkJQLEtBQTNCLEVBQWtDQyxJQUFsQyxFQUF3QztBQUN0Q0MsbUJBQU1DLFFBQU4sQ0FBZUgsS0FBZixFQUFzQkMsSUFBdEI7QUFDRDs7QUFqQndDOzs7O2dCQUF0QkwsTSxTQVdOLEU7O2dCQVhNQSxNLGNBYUQsRSIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9zb2NrZXQvY2xpZW50LyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTb2NrZXQgZnJvbSAnLi4vc29ja2V0J1xuaW1wb3J0IGhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyJ1xuaW1wb3J0IEFkbWluIGZyb20gJy4uL2FkbWluJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDbGllbnQgZXh0ZW5kcyBTb2NrZXQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXJcbiAgICBDbGllbnQuYWxsLnB1c2godGhpcylcbiAgfVxuXG4gIG9uTWVzc2FnZUNhbGxiYWNrID0gKGV2ZW50LCBkYXRhKSA9PiB7XG4gICAgQWRtaW4udHJhbnNtaXQoZXZlbnQsIGRhdGEsIHRydWUpXG4gIH1cblxuICBzdGF0aWMgYWxsID0gW11cblxuICBzdGF0aWMgY2hhbm5lbHMgPSB7fVxuXG4gIHN0YXRpYyBvbkJyb2FkY2FzdENhbGxiYWNrKGV2ZW50LCBkYXRhKSB7XG4gICAgQWRtaW4udHJhbnNtaXQoZXZlbnQsIGRhdGEpXG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "client.js"
      ],
      "names": [
        "Client",
        "Socket",
        "constructor",
        "props",
        "event",
        "data",
        "Admin",
        "transmit",
        "handler",
        "all",
        "push",
        "onBroadcastCallback"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;;;AAEe,MAAMA,MAAN,SAAqBC,eAArB,CAA4B;AACzCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,+CAMC,CAACC,KAAD,EAAQC,IAAR,KAAiB;AACnCC,qBAAMC,QAAN,CAAeH,KAAf,EAAsBC,IAAtB,EAA4B,IAA5B;AACD,KARkB;;AAEjB,SAAKG,OAAL,GAAeA,gBAAf;AACAR,IAAAA,MAAM,CAACS,GAAP,CAAWC,IAAX,CAAgB,IAAhB;AACD;;AAUD,SAAOC,mBAAP,CAA2BP,KAA3B,EAAkCC,IAAlC,EAAwC;AACtCC,mBAAMC,QAAN,CAAeH,KAAf,EAAsBC,IAAtB;AACD;;AAjBwC;;;;gBAAtBL,M,SAWN,E;;gBAXMA,M,cAaD,E",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/",
      "sourcesContent": [
        "import Socket from '../socket'\nimport handler from './handler'\nimport Admin from '../admin'\n\nexport default class Client extends Socket {\n  constructor(props) {\n    super(props)\n    this.handler = handler\n    Client.all.push(this)\n  }\n\n  onMessageCallback = (event, data) => {\n    Admin.transmit(event, data, true)\n  }\n\n  static all = []\n\n  static channels = {}\n\n  static onBroadcastCallback(event, data) {\n    Admin.transmit(event, data)\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/socket.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/socket.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/socket.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/socket.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/",
        "sourceFileName": "socket.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar _config = _interopRequireDefault(require(\"../../config\"));\n\nvar _socket = _interopRequireDefault(require(\"../serializers/socket\"));\n\nvar constants = _interopRequireWildcard(require(\"./constants\"));\n\nvar _admin = _interopRequireDefault(require(\"./admin\"));\n\nvar _client = _interopRequireDefault(require(\"./client\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nlet id = 0;\n\nclass Socket extends _events.default {\n  constructor(connection) {\n    super();\n\n    _defineProperty(this, \"trigger\", (event, data) => {\n      this.observer.add(event);\n      this.emit(event, data);\n    });\n\n    _defineProperty(this, \"onMessage\", message => {\n      try {\n        const msg = JSON.parse(message.utf8Data);\n        this.handler(msg.event, this, msg.data);\n        this.onMessageCallback(msg.event, msg.data);\n      } catch (e) {\n        console.error(`Error receiving message: ${e}`);\n      }\n    });\n\n    _defineProperty(this, \"onClose\", () => {\n      this.cleanUpSocket();\n      this.trigger(Socket.CLOSED); // Let time for socket to trigger the event and delete the user before removing listeners\n\n      setTimeout(this.removeAllListeners, 5000);\n    });\n\n    this.id = ++id;\n    this.connection = connection;\n    this.channels = new Set();\n    this.user = null;\n    this.observer = new Set();\n    this.connection.on('message', this.onMessage);\n    this.connection.on('close', this.onClose);\n  }\n\n  addCallback(event, callback) {\n    if (this.observer.has(event)) return callback.call();\n    this.once(event, callback);\n  }\n\n  onMessageCallback(event, data) {//callback\n  }\n\n  send(data) {\n    try {\n      this.connection.sendUTF(JSON.stringify(data));\n    } catch (e) {\n      console.error(`Error sending message: ${e}`);\n    }\n  }\n\n  close() {\n    console.log('Closing socket');\n    this.onClose();\n\n    if (this.connection) {\n      this.connection.close();\n      this.connection = null;\n    }\n  }\n\n  cleanUpSocket() {\n    let socketIds;\n    const Class = this.constructor;\n    const index = Class.all.indexOf(this);\n    if (index !== -1) Class.all.splice(index, 1); // remove from sockets list\n\n    this.channels.forEach(item => {\n      // remove id from channels obj\n      socketIds = Class.channels[item];\n      if (!socketIds) return;\n      socketIds.delete(this.id);\n      if (!socketIds.size) delete Class.channels[item];\n    });\n  }\n\n  addChannel(...channel) {\n    const Class = this.constructor;\n\n    const add = channel => {\n      if (channel instanceof Array || channel instanceof Set) {\n        channel.forEach(item => add(item));\n        return;\n      }\n\n      Class.channels[channel] || (Class.channels[channel] = new Set());\n      Class.channels[channel].add(this.id);\n      this.channels.add(channel);\n    };\n\n    add(channel);\n  }\n\n  toJSON() {\n    return (0, _socket.default)(this);\n  }\n\n  static broadcast(channel, event, data) {\n    let socket;\n    let ids;\n    const socketIds = new Set();\n\n    const bc = channel => {\n      if (Array.isArray(channel)) return channel.forEach(item => bc(item));\n      ids = this.channels[channel];\n      if (!ids) return;\n      ids.forEach(id => socketIds.add(id));\n    };\n\n    bc(channel);\n    socketIds.forEach(id => {\n      socket = this.find(id);\n      if (socket) socket.send({\n        event,\n        data\n      });\n    });\n    this.onBroadcastCallback(event, data);\n  }\n\n  static onBroadcastCallback(event, data) {//callback\n  }\n\n  static find(id) {\n    return this.all.find(socket => socket.id === id);\n  }\n\n  static byUser(userId) {\n    return this.all.find(socket => socket.user && socket.user.id === userId);\n  }\n\n  static create(connection, options = {}) {\n    let Class = _client.default;\n    const {\n      secretToken\n    } = options.query || {};\n\n    if (secretToken) {\n      if (secretToken !== _config.default.secretToken) return connection.close();\n      Class = _admin.default;\n    }\n\n    return new Class(connection, options);\n  }\n\n}\n\nexports.default = Socket;\n\nfor (const c in constants) Socket[c] = constants[c];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldC5qcyJdLCJuYW1lcyI6WyJpZCIsIlNvY2tldCIsIkV2ZW50RW1pdHRlciIsImNvbnN0cnVjdG9yIiwiY29ubmVjdGlvbiIsImV2ZW50IiwiZGF0YSIsIm9ic2VydmVyIiwiYWRkIiwiZW1pdCIsIm1lc3NhZ2UiLCJtc2ciLCJKU09OIiwicGFyc2UiLCJ1dGY4RGF0YSIsImhhbmRsZXIiLCJvbk1lc3NhZ2VDYWxsYmFjayIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJjbGVhblVwU29ja2V0IiwidHJpZ2dlciIsIkNMT1NFRCIsInNldFRpbWVvdXQiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJjaGFubmVscyIsIlNldCIsInVzZXIiLCJvbiIsIm9uTWVzc2FnZSIsIm9uQ2xvc2UiLCJhZGRDYWxsYmFjayIsImNhbGxiYWNrIiwiaGFzIiwiY2FsbCIsIm9uY2UiLCJzZW5kIiwic2VuZFVURiIsInN0cmluZ2lmeSIsImNsb3NlIiwibG9nIiwic29ja2V0SWRzIiwiQ2xhc3MiLCJpbmRleCIsImFsbCIsImluZGV4T2YiLCJzcGxpY2UiLCJmb3JFYWNoIiwiaXRlbSIsImRlbGV0ZSIsInNpemUiLCJhZGRDaGFubmVsIiwiY2hhbm5lbCIsIkFycmF5IiwidG9KU09OIiwiYnJvYWRjYXN0Iiwic29ja2V0IiwiaWRzIiwiYmMiLCJpc0FycmF5IiwiZmluZCIsIm9uQnJvYWRjYXN0Q2FsbGJhY2siLCJieVVzZXIiLCJ1c2VySWQiLCJjcmVhdGUiLCJvcHRpb25zIiwiQ2xpZW50Iiwic2VjcmV0VG9rZW4iLCJxdWVyeSIsImNvbmZpZyIsIkFkbWluIiwiYyIsImNvbnN0YW50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7O0FBRUEsSUFBSUEsRUFBRSxHQUFHLENBQVQ7O0FBRWUsTUFBTUMsTUFBTixTQUFxQkMsZUFBckIsQ0FBa0M7QUFDL0NDLEVBQUFBLFdBQVcsQ0FBQ0MsVUFBRCxFQUFh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QUFQLENBQWNDLE1BQWQsRUFBc0I7QUFDcEIsV0FBTyxLQUFLbkIsR0FBTCxDQUFTZ0IsSUFBVCxDQUFjSixNQUFNLElBQUlBLE1BQU0sQ0FBQzdCLElBQVAsSUFBZTZCLE1BQU0sQ0FBQzdCLElBQVAsQ0FBWTNCLEVBQVosS0FBbUIrRCxNQUExRCxDQUFQO0FBQ0Q7O0FBRUQsU0FBT0MsTUFBUCxDQUFjNUQsVUFBZCxFQUEwQjZELE9BQU8sR0FBRyxFQUFwQyxFQUF3QztBQUN0QyxRQUFJdkIsS0FBSyxHQUFHd0IsZUFBWjtBQUNBLFVBQU07QUFBRUMsTUFBQUE7QUFBRixRQUFrQkYsT0FBTyxDQUFDRyxLQUFSLElBQWlCLEVBQXpDOztBQUNBLFFBQUlELFdBQUosRUFBaUI7QUFDZixVQUFJQSxXQUFXLEtBQUtFLGdCQUFPRixXQUEzQixFQUF3QyxPQUFPL0QsVUFBVSxDQUFDbUMsS0FBWCxFQUFQO0FBQ3hDRyxNQUFBQSxLQUFLLEdBQUc0QixjQUFSO0FBQ0Q7O0FBQ0QsV0FBTyxJQUFJNUIsS0FBSixDQUFVdEMsVUFBVixFQUFzQjZELE9BQXRCLENBQVA7QUFDRDs7QUF0SThDOzs7O0FBeUlqRCxLQUFLLE1BQU1NLENBQVgsSUFBZ0JDLFNBQWhCLEVBQTJCdkUsTUFBTSxDQUFDc0UsQ0FBRCxDQUFOLEdBQVlDLFNBQVMsQ0FBQ0QsQ0FBRCxDQUFyQiIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9zb2NrZXQvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uLy4uL2NvbmZpZydcbmltcG9ydCBTb2NrZXRTZXJpYWxpemVyIGZyb20gJy4uL3NlcmlhbGl6ZXJzL3NvY2tldCdcbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cydcbmltcG9ydCBBZG1pbiBmcm9tICcuL2FkbWluJ1xuaW1wb3J0IENsaWVudCBmcm9tICcuL2NsaWVudCdcblxubGV0IGlkID0gMFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb2NrZXQgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuaWQgPSArK2lkXG4gICAgdGhpcy5jb25uZWN0aW9uID0gY29ubmVjdGlvblxuICAgIHRoaXMuY2hhbm5lbHMgPSBuZXcgU2V0KClcbiAgICB0aGlzLnVzZXIgPSBudWxsXG4gICAgdGhpcy5vYnNlcnZlciA9IG5ldyBTZXQoKVxuICAgIHRoaXMuY29ubmVjdGlvbi5vbignbWVzc2FnZScsIHRoaXMub25NZXNzYWdlKVxuICAgIHRoaXMuY29ubmVjdGlvbi5vbignY2xvc2UnLCB0aGlzLm9uQ2xvc2UpXG4gIH1cblxuICB0cmlnZ2VyID0gKGV2ZW50LCBkYXRhKSA9PiB7XG4gICAgdGhpcy5vYnNlcnZlci5hZGQoZXZlbnQpXG4gICAgdGhpcy5lbWl0KGV2ZW50LCBkYXRhKVxuICB9XG5cbiAgYWRkQ2FsbGJhY2soZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMub2JzZXJ2ZXIuaGFzKGV2ZW50KSkgcmV0dXJuIGNhbGxiYWNrLmNhbGwoKVxuICAgIHRoaXMub25jZShldmVudCwgY2FsbGJhY2spXG4gIH1cblxuICBvbk1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtc2cgPSBKU09OLnBhcnNlKG1lc3NhZ2UudXRmOERhdGEpXG4gICAgICB0aGlzLmhhbmRsZXIobXNnLmV2ZW50LCB0aGlzLCBtc2cuZGF0YSlcbiAgICAgIHRoaXMub25NZXNzYWdlQ2FsbGJhY2sobXNnLmV2ZW50LCBtc2cuZGF0YSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciByZWNlaXZpbmcgbWVzc2FnZTogJHtlfWApXG4gICAgfVxuICB9XG5cbiAgb25NZXNzYWdlQ2FsbGJhY2soZXZlbnQsIGRhdGEpIHtcbiAgICAvL2NhbGxiYWNrXG4gIH1cblxuICBvbkNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuY2xlYW5VcFNvY2tldCgpXG4gICAgdGhpcy50cmlnZ2VyKFNvY2tldC5DTE9TRUQpXG4gICAgLy8gTGV0IHRpbWUgZm9yIHNvY2tldCB0byB0cmlnZ2VyIHRoZSBldmVudCBhbmQgZGVsZXRlIHRoZSB1c2VyIGJlZm9yZSByZW1vdmluZyBsaXN0ZW5lcnNcbiAgICBzZXRUaW1lb3V0KHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzLCA1MDAwKVxuICB9XG5cbiAgc2VuZChkYXRhKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuY29ubmVjdGlvbi5zZW5kVVRGKEpTT04uc3RyaW5naWZ5KGRhdGEpKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHNlbmRpbmcgbWVzc2FnZTogJHtlfWApXG4gICAgfVxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgY29uc29sZS5sb2coJ0Nsb3Npbmcgc29ja2V0JylcbiAgICB0aGlzLm9uQ2xvc2UoKVxuICAgIGlmICh0aGlzLmNvbm5lY3Rpb24pIHtcbiAgICAgIHRoaXMuY29ubmVjdGlvbi5jbG9zZSgpXG4gICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsXG4gICAgfVxuICB9XG5cbiAgY2xlYW5VcFNvY2tldCgpIHtcbiAgICBsZXQgc29ja2V0SWRzXG4gICAgY29uc3QgQ2xhc3MgPSB0aGlzLmNvbnN0cnVjdG9yXG4gICAgY29uc3QgaW5kZXggPSBDbGFzcy5hbGwuaW5kZXhPZih0aGlzKVxuICAgIGlmIChpbmRleCAhPT0gLTEpIENsYXNzLmFsbC5zcGxpY2UoaW5kZXgsIDEpIC8vIHJlbW92ZSBmcm9tIHNvY2tldHMgbGlzdFxuXG4gICAgdGhpcy5jaGFubmVscy5mb3JFYWNoKChpdGVtKSA9PiB7IC8vIHJlbW92ZSBpZCBmcm9tIGNoYW5uZWxzIG9ialxuICAgICAgc29ja2V0SWRzID0gQ2xhc3MuY2hhbm5lbHNbaXRlbV1cbiAgICAgIGlmICghc29ja2V0SWRzKSByZXR1cm5cbiAgICAgIHNvY2tldElkcy5kZWxldGUodGhpcy5pZClcbiAgICAgIGlmICghc29ja2V0SWRzLnNpemUpIGRlbGV0ZSBDbGFzcy5jaGFubmVsc1tpdGVtXVxuICAgIH0pXG4gIH1cblxuICBhZGRDaGFubmVsKC4uLmNoYW5uZWwpIHtcbiAgICBjb25zdCBDbGFzcyA9IHRoaXMuY29uc3RydWN0b3JcbiAgICBjb25zdCBhZGQgPSAoY2hhbm5lbCkgPT4ge1xuICAgICAgaWYgKGNoYW5uZWwgaW5zdGFuY2VvZiBBcnJheSB8fCBjaGFubmVsIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgIGNoYW5uZWwuZm9yRWFjaChpdGVtID0+IGFkZChpdGVtKSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBDbGFzcy5jaGFubmVsc1tjaGFubmVsXSB8fCAoQ2xhc3MuY2hhbm5lbHNbY2hhbm5lbF0gPSBuZXcgU2V0KCkpXG4gICAgICBDbGFzcy5jaGFubmVsc1tjaGFubmVsXS5hZGQodGhpcy5pZClcbiAgICAgIHRoaXMuY2hhbm5lbHMuYWRkKGNoYW5uZWwpXG4gICAgfVxuICAgIGFkZChjaGFubmVsKVxuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiBTb2NrZXRTZXJpYWxpemVyKHRoaXMpXG4gIH1cblxuICBzdGF0aWMgYnJvYWRjYXN0KGNoYW5uZWwsIGV2ZW50LCBkYXRhKSB7XG4gICAgbGV0IHNvY2tldFxuICAgIGxldCBpZHNcbiAgICBjb25zdCBzb2NrZXRJZHMgPSBuZXcgU2V0KClcblxuICAgIGNvbnN0IGJjID0gKGNoYW5uZWwpID0+IHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoYW5uZWwpKSByZXR1cm4gY2hhbm5lbC5mb3JFYWNoKGl0ZW0gPT4gYmMoaXRlbSkpXG4gICAgICBpZHMgPSB0aGlzLmNoYW5uZWxzW2NoYW5uZWxdXG4gICAgICBpZiAoIWlkcykgcmV0dXJuXG4gICAgICBpZHMuZm9yRWFjaChpZCA9PiBzb2NrZXRJZHMuYWRkKGlkKSlcbiAgICB9XG5cbiAgICBiYyhjaGFubmVsKVxuXG4gICAgc29ja2V0SWRzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICBzb2NrZXQgPSB0aGlzLmZpbmQoaWQpXG4gICAgICBpZiAoc29ja2V0KSBzb2NrZXQuc2VuZCh7IGV2ZW50LCBkYXRhIH0pXG4gICAgfSlcblxuICAgIHRoaXMub25Ccm9hZGNhc3RDYWxsYmFjayhldmVudCwgZGF0YSlcbiAgfVxuXG4gIHN0YXRpYyBvbkJyb2FkY2FzdENhbGxiYWNrKGV2ZW50LCBkYXRhKSB7XG4gICAgLy9jYWxsYmFja1xuICB9XG5cbiAgc3RhdGljIGZpbmQoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5hbGwuZmluZChzb2NrZXQgPT4gc29ja2V0LmlkID09PSBpZClcbiAgfVxuXG4gIHN0YXRpYyBieVVzZXIodXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMuYWxsLmZpbmQoc29ja2V0ID0+IHNvY2tldC51c2VyICYmIHNvY2tldC51c2VyLmlkID09PSB1c2VySWQpXG4gIH1cblxuICBzdGF0aWMgY3JlYXRlKGNvbm5lY3Rpb24sIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBDbGFzcyA9IENsaWVudFxuICAgIGNvbnN0IHsgc2VjcmV0VG9rZW4gfSA9IG9wdGlvbnMucXVlcnkgfHwge31cbiAgICBpZiAoc2VjcmV0VG9rZW4pIHtcbiAgICAgIGlmIChzZWNyZXRUb2tlbiAhPT0gY29uZmlnLnNlY3JldFRva2VuKSByZXR1cm4gY29ubmVjdGlvbi5jbG9zZSgpXG4gICAgICBDbGFzcyA9IEFkbWluXG4gICAgfVxuICAgIHJldHVybiBuZXcgQ2xhc3MoY29ubmVjdGlvbiwgb3B0aW9ucylcbiAgfVxufVxuXG5mb3IgKGNvbnN0IGMgaW4gY29uc3RhbnRzKSBTb2NrZXRbY10gPSBjb25zdGFudHNbY11cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "socket.js"
      ],
      "names": [
        "id",
        "Socket",
        "EventEmitter",
        "constructor",
        "connection",
        "event",
        "data",
        "observer",
        "add",
        "emit",
        "message",
        "msg",
        "JSON",
        "parse",
        "utf8Data",
        "handler",
        "onMessageCallback",
        "e",
        "console",
        "error",
        "cleanUpSocket",
        "trigger",
        "CLOSED",
        "setTimeout",
        "removeAllListeners",
        "channels",
        "Set",
        "user",
        "on",
        "onMessage",
        "onClose",
        "addCallback",
        "callback",
        "has",
        "call",
        "once",
        "send",
        "sendUTF",
        "stringify",
        "close",
        "log",
        "socketIds",
        "Class",
        "index",
        "all",
        "indexOf",
        "splice",
        "forEach",
        "item",
        "delete",
        "size",
        "addChannel",
        "channel",
        "Array",
        "toJSON",
        "broadcast",
        "socket",
        "ids",
        "bc",
        "isArray",
        "find",
        "onBroadcastCallback",
        "byUser",
        "userId",
        "create",
        "options",
        "Client",
        "secretToken",
        "query",
        "config",
        "Admin",
        "c",
        "constants"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/",
      "sourcesContent": [
        "import EventEmitter from 'events'\nimport config from '../../config'\nimport SocketSerializer from '../serializers/socket'\nimport * as constants from './constants'\nimport Admin from './admin'\nimport Client from './client'\n\nlet id = 0\n\nexport default class Socket extends EventEmitter {\n  constructor(connection) {\n    super()\n    this.id = ++id\n    this.connection = connection\n    this.channels = new Set()\n    this.user = null\n    this.observer = new Set()\n    this.connection.on('message', this.onMessage)\n    this.connection.on('close', this.onClose)\n  }\n\n  trigger = (event, data) => {\n    this.observer.add(event)\n    this.emit(event, data)\n  }\n\n  addCallback(event, callback) {\n    if (this.observer.has(event)) return callback.call()\n    this.once(event, callback)\n  }\n\n  onMessage = (message) => {\n    try {\n      const msg = JSON.parse(message.utf8Data)\n      this.handler(msg.event, this, msg.data)\n      this.onMessageCallback(msg.event, msg.data)\n    } catch (e) {\n      console.error(`Error receiving message: ${e}`)\n    }\n  }\n\n  onMessageCallback(event, data) {\n    //callback\n  }\n\n  onClose = () => {\n    this.cleanUpSocket()\n    this.trigger(Socket.CLOSED)\n    // Let time for socket to trigger the event and delete the user before removing listeners\n    setTimeout(this.removeAllListeners, 5000)\n  }\n\n  send(data) {\n    try {\n      this.connection.sendUTF(JSON.stringify(data))\n    } catch (e) {\n      console.error(`Error sending message: ${e}`)\n    }\n  }\n\n  close() {\n    console.log('Closing socket')\n    this.onClose()\n    if (this.connection) {\n      this.connection.close()\n      this.connection = null\n    }\n  }\n\n  cleanUpSocket() {\n    let socketIds\n    const Class = this.constructor\n    const index = Class.all.indexOf(this)\n    if (index !== -1) Class.all.splice(index, 1) // remove from sockets list\n\n    this.channels.forEach((item) => { // remove id from channels obj\n      socketIds = Class.channels[item]\n      if (!socketIds) return\n      socketIds.delete(this.id)\n      if (!socketIds.size) delete Class.channels[item]\n    })\n  }\n\n  addChannel(...channel) {\n    const Class = this.constructor\n    const add = (channel) => {\n      if (channel instanceof Array || channel instanceof Set) {\n        channel.forEach(item => add(item))\n        return\n      }\n      Class.channels[channel] || (Class.channels[channel] = new Set())\n      Class.channels[channel].add(this.id)\n      this.channels.add(channel)\n    }\n    add(channel)\n  }\n\n  toJSON() {\n    return SocketSerializer(this)\n  }\n\n  static broadcast(channel, event, data) {\n    let socket\n    let ids\n    const socketIds = new Set()\n\n    const bc = (channel) => {\n      if (Array.isArray(channel)) return channel.forEach(item => bc(item))\n      ids = this.channels[channel]\n      if (!ids) return\n      ids.forEach(id => socketIds.add(id))\n    }\n\n    bc(channel)\n\n    socketIds.forEach((id) => {\n      socket = this.find(id)\n      if (socket) socket.send({ event, data })\n    })\n\n    this.onBroadcastCallback(event, data)\n  }\n\n  static onBroadcastCallback(event, data) {\n    //callback\n  }\n\n  static find(id) {\n    return this.all.find(socket => socket.id === id)\n  }\n\n  static byUser(userId) {\n    return this.all.find(socket => socket.user && socket.user.id === userId)\n  }\n\n  static create(connection, options = {}) {\n    let Class = Client\n    const { secretToken } = options.query || {}\n    if (secretToken) {\n      if (secretToken !== config.secretToken) return connection.close()\n      Class = Admin\n    }\n    return new Class(connection, options)\n  }\n}\n\nfor (const c in constants) Socket[c] = constants[c]\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/socket.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/socket.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/socket.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/socket.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/",
        "sourceFileName": "socket.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = socket => ({\n  id: socket.id,\n  user: socket.user.id,\n  channels: [...socket.channels]\n});\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldC5qcyJdLCJuYW1lcyI6WyJzb2NrZXQiLCJpZCIsInVzZXIiLCJjaGFubmVscyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztlQUFlQSxNQUFNLEtBQUs7QUFDeEJDLEVBQUFBLEVBQUUsRUFBRUQsTUFBTSxDQUFDQyxFQURhO0FBRXhCQyxFQUFBQSxJQUFJLEVBQUVGLE1BQU0sQ0FBQ0UsSUFBUCxDQUFZRCxFQUZNO0FBR3hCRSxFQUFBQSxRQUFRLEVBQUUsQ0FBQyxHQUFHSCxNQUFNLENBQUNHLFFBQVg7QUFIYyxDQUFMLEMiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvd2VicGhvbmUtbm9kZS9zcmMvc2VyaWFsaXplcnMvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgc29ja2V0ID0+ICh7XG4gIGlkOiBzb2NrZXQuaWQsXG4gIHVzZXI6IHNvY2tldC51c2VyLmlkLFxuICBjaGFubmVsczogWy4uLnNvY2tldC5jaGFubmVsc11cbn0pXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "socket.js"
      ],
      "names": [
        "socket",
        "id",
        "user",
        "channels"
      ],
      "mappings": ";;;;;;;eAAeA,MAAM,KAAK;AACxBC,EAAAA,EAAE,EAAED,MAAM,CAACC,EADa;AAExBC,EAAAA,IAAI,EAAEF,MAAM,CAACE,IAAP,CAAYD,EAFM;AAGxBE,EAAAA,QAAQ,EAAE,CAAC,GAAGH,MAAM,CAACG,QAAX;AAHc,CAAL,C",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/",
      "sourcesContent": [
        "export default socket => ({\n  id: socket.id,\n  user: socket.user.id,\n  channels: [...socket.channels]\n})\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/constants.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/constants.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/constants.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/constants.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/",
        "sourceFileName": "constants.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TOGGLE_CONTROL_MIKE = exports.CLOSED = exports.MEDIASETTINGS_CHANGE = exports.BBB_OFF = exports.BBB_ON = exports.ALL_ADJUSTMENTS = exports.CLOSE_WINDOW = exports.NOTIFY = exports.MAKE_RELAY = exports.LANGB_LINE_CALL = exports.ORATOR_LINE_CALL = exports.LOUNGE_LINE_CALL = exports.FLOOR_LINE_CALL = exports.SECOND_LINE_CALL = exports.FIRST_LINE_CALL = exports.MEMBER_UPDATE = exports.MEMBER_DEL = exports.MEMBER_ADD = exports.MEMBERS_CHANGE = exports.DISCONNECT_USER = exports.ALL_USERS = exports.PROFILE_UPDATE = exports.NEW_USER = exports.RECONNECT_USER = exports.DISABLE_RECONNECT = exports.ADMIN_SET_USER_STATE = exports.ADMIN_REMOVE_USER = exports.SLOW_SPEAK = exports.CONTROL_MIKES = exports.START_HANDRAISED_USER = exports.UPDATE_USER_STATE = exports.TOGGLE_MEETING_ADJUSTMENTS = exports.TOGGLE_RAISE_HAND = exports.TOGGLE_ADJUSTMENTS = exports.SET_VOLUME_IN = exports.START_TIME_USER = exports.RELAY_USER = exports.PICK_LANGB = exports.PICK_ORATOR = exports.PICK_FLOOR = exports.PICK_RELAY = exports.LEAVE_LOUNGE = exports.JOIN_LOUNGE = exports.SWITCH_ROOMS = exports.CHANGE_CURRENT_ROOM = exports.TOGGLE_HEAR_MEMBER = exports.TOGGLE_SPEAK_MEMBER = exports.TOGGLE_HEAR_SELF = exports.TOGGLE_SPEAK_SELF = exports.UNMUTE_HEAR = exports.MUTE_HEAR = exports.UNMUTE_SPEAK = exports.MUTE_SPEAK = exports.ADMIN_NOTIFY_USER = exports.ADMIN_GET_USER_STATE = exports.ADMIN_RECONNECT_USER = exports.ADMIN_DISCONNECT_USER = exports.PUBLIC_CHANNEL = void 0;\nconst PUBLIC_CHANNEL = 'PUBLIC_CHANNEL'; // inbound events\n\nexports.PUBLIC_CHANNEL = PUBLIC_CHANNEL;\nconst ADMIN_DISCONNECT_USER = 'ADMIN_DISCONNECT_USER';\nexports.ADMIN_DISCONNECT_USER = ADMIN_DISCONNECT_USER;\nconst ADMIN_RECONNECT_USER = 'ADMIN_RECONNECT_USER';\nexports.ADMIN_RECONNECT_USER = ADMIN_RECONNECT_USER;\nconst ADMIN_GET_USER_STATE = 'ADMIN_GET_USER_STATE';\nexports.ADMIN_GET_USER_STATE = ADMIN_GET_USER_STATE;\nconst ADMIN_NOTIFY_USER = 'ADMIN_NOTIFY_USER';\nexports.ADMIN_NOTIFY_USER = ADMIN_NOTIFY_USER;\nconst MUTE_SPEAK = 'MUTE_SPEAK';\nexports.MUTE_SPEAK = MUTE_SPEAK;\nconst UNMUTE_SPEAK = 'UNMUTE_SPEAK';\nexports.UNMUTE_SPEAK = UNMUTE_SPEAK;\nconst MUTE_HEAR = 'MUTE_HEAR';\nexports.MUTE_HEAR = MUTE_HEAR;\nconst UNMUTE_HEAR = 'UNMUTE_HEAR';\nexports.UNMUTE_HEAR = UNMUTE_HEAR;\nconst TOGGLE_SPEAK_SELF = 'TOGGLE_SPEAK_SELF';\nexports.TOGGLE_SPEAK_SELF = TOGGLE_SPEAK_SELF;\nconst TOGGLE_HEAR_SELF = 'TOGGLE_HEAR_SELF';\nexports.TOGGLE_HEAR_SELF = TOGGLE_HEAR_SELF;\nconst TOGGLE_SPEAK_MEMBER = 'TOGGLE_SPEAK_PARTICIPANT';\nexports.TOGGLE_SPEAK_MEMBER = TOGGLE_SPEAK_MEMBER;\nconst TOGGLE_HEAR_MEMBER = 'TOGGLE_HEAR_PARTICIPANT';\nexports.TOGGLE_HEAR_MEMBER = TOGGLE_HEAR_MEMBER;\nconst CHANGE_CURRENT_ROOM = 'CHANGE_CURRENT_ROOM';\nexports.CHANGE_CURRENT_ROOM = CHANGE_CURRENT_ROOM;\nconst SWITCH_ROOMS = 'SWITCH_ROOMS';\nexports.SWITCH_ROOMS = SWITCH_ROOMS;\nconst JOIN_LOUNGE = 'JOIN_LOUNGE';\nexports.JOIN_LOUNGE = JOIN_LOUNGE;\nconst LEAVE_LOUNGE = 'LEAVE_LOUNGE';\nexports.LEAVE_LOUNGE = LEAVE_LOUNGE;\nconst PICK_RELAY = 'PICK_RELAY';\nexports.PICK_RELAY = PICK_RELAY;\nconst PICK_FLOOR = 'PICK_FLOOR';\nexports.PICK_FLOOR = PICK_FLOOR;\nconst PICK_ORATOR = 'PICK_ORATOR';\nexports.PICK_ORATOR = PICK_ORATOR;\nconst PICK_LANGB = 'PICK_LANGB';\nexports.PICK_LANGB = PICK_LANGB;\nconst RELAY_USER = 'RELAY_USER';\nexports.RELAY_USER = RELAY_USER;\nconst START_TIME_USER = 'START_TIME_USER';\nexports.START_TIME_USER = START_TIME_USER;\nconst SET_VOLUME_IN = 'SET_VOLUME_IN';\nexports.SET_VOLUME_IN = SET_VOLUME_IN;\nconst TOGGLE_ADJUSTMENTS = 'TOGGLE_ADJUSTMENTS';\nexports.TOGGLE_ADJUSTMENTS = TOGGLE_ADJUSTMENTS;\nconst TOGGLE_RAISE_HAND = 'TOGGLE_RAISE_HAND';\nexports.TOGGLE_RAISE_HAND = TOGGLE_RAISE_HAND;\nconst TOGGLE_MEETING_ADJUSTMENTS = 'TOGGLE_MEETING_ADJUSTMENTS';\nexports.TOGGLE_MEETING_ADJUSTMENTS = TOGGLE_MEETING_ADJUSTMENTS;\nconst UPDATE_USER_STATE = 'UPDATE_USER_STATE';\nexports.UPDATE_USER_STATE = UPDATE_USER_STATE;\nconst START_HANDRAISED_USER = 'START_HANDRAISED_USER';\nexports.START_HANDRAISED_USER = START_HANDRAISED_USER;\nconst CONTROL_MIKES = 'CONTROL_MIKES';\nexports.CONTROL_MIKES = CONTROL_MIKES;\nconst SLOW_SPEAK = \"SLOW_SPEAK\"; // outbound events\n\nexports.SLOW_SPEAK = SLOW_SPEAK;\nconst ADMIN_REMOVE_USER = 'ADMIN_REMOVE_USER';\nexports.ADMIN_REMOVE_USER = ADMIN_REMOVE_USER;\nconst ADMIN_SET_USER_STATE = 'ADMIN_SET_USER_STATE';\nexports.ADMIN_SET_USER_STATE = ADMIN_SET_USER_STATE;\nconst DISABLE_RECONNECT = 'DISABLE_RECONNECT';\nexports.DISABLE_RECONNECT = DISABLE_RECONNECT;\nconst RECONNECT_USER = 'RECONNECT_USER';\nexports.RECONNECT_USER = RECONNECT_USER;\nconst NEW_USER = 'NEW_USER';\nexports.NEW_USER = NEW_USER;\nconst PROFILE_UPDATE = 'PROFILE_UPDATE';\nexports.PROFILE_UPDATE = PROFILE_UPDATE;\nconst ALL_USERS = 'ALL_USERS';\nexports.ALL_USERS = ALL_USERS;\nconst DISCONNECT_USER = 'DISCONNECT_USER';\nexports.DISCONNECT_USER = DISCONNECT_USER;\nconst MEMBERS_CHANGE = 'MEMBERS_CHANGE';\nexports.MEMBERS_CHANGE = MEMBERS_CHANGE;\nconst MEMBER_ADD = 'MEMBER_ADD';\nexports.MEMBER_ADD = MEMBER_ADD;\nconst MEMBER_DEL = 'MEMBER_DEL';\nexports.MEMBER_DEL = MEMBER_DEL;\nconst MEMBER_UPDATE = 'MEMBER_UPDATE';\nexports.MEMBER_UPDATE = MEMBER_UPDATE;\nconst FIRST_LINE_CALL = 'FIRST_LINE_CALL';\nexports.FIRST_LINE_CALL = FIRST_LINE_CALL;\nconst SECOND_LINE_CALL = 'SECOND_LINE_CALL';\nexports.SECOND_LINE_CALL = SECOND_LINE_CALL;\nconst FLOOR_LINE_CALL = 'FLOOR_LINE_CALL';\nexports.FLOOR_LINE_CALL = FLOOR_LINE_CALL;\nconst LOUNGE_LINE_CALL = 'LOUNGE_LINE_CALL';\nexports.LOUNGE_LINE_CALL = LOUNGE_LINE_CALL;\nconst ORATOR_LINE_CALL = 'ORATOR_LINE_CALL';\nexports.ORATOR_LINE_CALL = ORATOR_LINE_CALL;\nconst LANGB_LINE_CALL = 'LANGB_LINE_CALL';\nexports.LANGB_LINE_CALL = LANGB_LINE_CALL;\nconst MAKE_RELAY = 'MAKE_RELAY';\nexports.MAKE_RELAY = MAKE_RELAY;\nconst NOTIFY = 'NOTIFY';\nexports.NOTIFY = NOTIFY;\nconst CLOSE_WINDOW = 'CLOSE_WINDOW';\nexports.CLOSE_WINDOW = CLOSE_WINDOW;\nconst ALL_ADJUSTMENTS = 'ALL_ADJUSTMENTS';\nexports.ALL_ADJUSTMENTS = ALL_ADJUSTMENTS;\nconst BBB_ON = 'BBB_ON';\nexports.BBB_ON = BBB_ON;\nconst BBB_OFF = 'BBB_OFF';\nexports.BBB_OFF = BBB_OFF;\nconst MEDIASETTINGS_CHANGE = \"MEDIASETTINGS_CHANGE\"; // socket connection events\n\nexports.MEDIASETTINGS_CHANGE = MEDIASETTINGS_CHANGE;\nconst CLOSED = 'SOCKET:CLOSED';\nexports.CLOSED = CLOSED;\nconst TOGGLE_CONTROL_MIKE = 'TOGGLE_CONTROL_MIKE';\nexports.TOGGLE_CONTROL_MIKE = TOGGLE_CONTROL_MIKE;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnN0YW50cy5qcyJdLCJuYW1lcyI6WyJQVUJMSUNfQ0hBTk5FTCIsIkFETUlOX0RJU0NPTk5FQ1RfVVNFUiIsIkFETUlOX1JFQ09OTkVDVF9VU0VSIiwiQURNSU5fR0VUX1VTRVJfU1RBVEUiLCJBRE1JTl9OT1RJRllfVVNFUiIsIk1VVEVfU1BFQUsiLCJVTk1VVEVfU1BFQUsiLCJNVVRFX0hFQVIiLCJVTk1VVEVfSEVBUiIsIlRPR0dMRV9TUEVBS19TRUxGIiwiVE9HR0xFX0hFQVJfU0VMRiIsIlRPR0dMRV9TUEVBS19NRU1CRVIiLCJUT0dHTEVfSEVBUl9NRU1CRVIiLCJDSEFOR0VfQ1VSUkVOVF9ST09NIiwiU1dJVENIX1JPT01TIiwiSk9JTl9MT1VOR0UiLCJMRUFWRV9MT1VOR0UiLCJQSUNLX1JFTEFZIiwiUElDS19GTE9PUiIsIlBJQ0tfT1JBVE9SIiwiUElDS19MQU5HQiIsIlJFTEFZX1VTRVIiLCJTVEFSVF9USU1FX1VTRVIiLCJTRVRfVk9MVU1FX0lOIiwiVE9HR0xFX0FESlVTVE1FTlRTIiwiVE9HR0xFX1JBSVNFX0hBTkQiLCJUT0dHTEVfTUVFVElOR19BREpVU1RNRU5UUyIsIlVQREFURV9VU0VSX1NUQVRFIiwiU1RBUlRfSEFORFJBSVNFRF9VU0VSIiwiQ09OVFJPTF9NSUtFUyIsIlNMT1dfU1BFQUsiLCJBRE1JTl9SRU1PVkVfVVNFUiIsIkFETUlOX1NFVF9VU0VSX1NUQVRFIiwiRElTQUJMRV9SRUNPTk5FQ1QiLCJSRUNPTk5FQ1RfVVNFUiIsIk5FV19VU0VSIiwiUFJPRklMRV9VUERBVEUiLCJBTExfVVNFUlMiLCJESVNDT05ORUNUX1VTRVIiLCJNRU1CRVJTX0NIQU5HRSIsIk1FTUJFUl9BREQiLCJNRU1CRVJfREVMIiwiTUVNQkVSX1VQREFURSIsIkZJUlNUX0xJTkVfQ0FMTCIsIlNFQ09ORF9MSU5FX0NBTEwiLCJGTE9PUl9MSU5FX0NBTEwiLCJMT1VOR0VfTElORV9DQUxMIiwiT1JBVE9SX0xJTkVfQ0FMTCIsIkxBTkdCX0xJTkVfQ0FMTCIsIk1BS0VfUkVMQVkiLCJOT1RJRlkiLCJDTE9TRV9XSU5ET1ciLCJBTExfQURKVVNUTUVOVFMiLCJCQkJfT04iLCJCQkJfT0ZGIiwiTUVESUFTRVRUSU5HU19DSEFOR0UiLCJDTE9TRUQiLCJUT0dHTEVfQ09OVFJPTF9NSUtFIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBTyxNQUFNQSxjQUFjLEdBQUcsZ0JBQXZCLEMsQ0FFUDs7O0FBQ08sTUFBTUMscUJBQXFCLEdBQUcsdUJBQTlCOztBQUNBLE1BQU1DLG9CQUFvQixHQUFHLHNCQUE3Qjs7QUFDQSxNQUFNQyxvQkFBb0IsR0FBRyxzQkFBN0I7O0FBQ0EsTUFBTUMsaUJBQWlCLEdBQUcsbUJBQTFCOztBQUNBLE1BQU1DLFVBQVUsR0FBRyxZQUFuQjs7QUFDQSxNQUFNQyxZQUFZLEdBQUcsY0FBckI7O0FBQ0EsTUFBTUMsU0FBUyxHQUFHLFdBQWxCOztBQUNBLE1BQU1DLFdBQVcsR0FBRyxhQUFwQjs7QUFDQSxNQUFNQyxpQkFBaUIsR0FBRyxtQkFBMUI7O0FBQ0EsTUFBTUMsZ0JBQWdCLEdBQUcsa0JBQXpCOztBQUNBLE1BQU1DLG1CQUFtQixHQUFHLDBCQUE1Qjs7QUFDQSxNQUFNQyxrQkFBa0IsR0FBRyx5QkFBM0I7O0FBQ0EsTUFBTUMsbUJBQW1CLEdBQUcscUJBQTVCOztBQUNBLE1BQU1DLFlBQVksR0FBRyxjQUFyQjs7QUFDQSxNQUFNQyxXQUFXLEdBQUcsYUFBcEI7O0FBQ0EsTUFBTUMsWUFBWSxHQUFHLGNBQXJCOztBQUNBLE1BQU1DLFVBQVUsR0FBRyxZQUFuQjs7QUFDQSxNQUFNQyxVQUFVLEdBQUcsWUFBbkI7O0FBQ0EsTUFBTUMsV0FBVyxHQUFHLGFBQXBCOztBQUNBLE1BQU1DLFVBQVUsR0FBRyxZQUFuQjs7QUFDQSxNQUFNQyxVQUFVLEdBQUcsWUFBbkI7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHLGlCQUF4Qjs7QUFDQSxNQUFNQyxhQUFhLEdBQUcsZUFBdEI7O0FBQ0EsTUFBTUMsa0JBQWtCLEdBQUcsb0JBQTNCOztBQUNBLE1BQU1DLGlCQUFpQixHQUFHLG1CQUExQjs7QUFDQSxNQUFNQywwQkFBMEIsR0FBRyw0QkFBbkM7O0FBQ0EsTUFBTUMsaUJBQWlCLEdBQUcsbUJBQTFCOztBQUNBLE1BQU1DLHFCQUFxQixHQUFHLHVCQUE5Qjs7QUFDQSxNQUFNQyxhQUFhLEdBQUcsZUFBdEI7O0FBQ0EsTUFBTUMsVUFBVSxHQUFHLFlBQW5CLEMsQ0FFUDs7O0FBQ08sTUFBTUMsaUJBQWlCLEdBQUcsbUJBQTFCOztBQUNBLE1BQU1DLG9CQUFvQixHQUFHLHNCQUE3Qjs7QUFDQSxNQUFNQyxpQkFBaUIsR0FBRyxtQkFBMUI7O0FBQ0EsTUFBTUMsY0FBYyxHQUFHLGdCQUF2Qjs7QUFDQSxNQUFNQyxRQUFRLEdBQUcsVUFBakI7O0FBQ0EsTUFBTUMsY0FBYyxHQUFHLGdCQUF2Qjs7QUFDQSxNQUFNQyxTQUFTLEdBQUcsV0FBbEI7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHLGlCQUF4Qjs7QUFDQSxNQUFNQyxjQUFjLEdBQUcsZ0JBQXZCOztBQUNBLE1BQU1DLFVBQVUsR0FBRyxZQUFuQjs7QUFDQSxNQUFNQyxVQUFVLEdBQUcsWUFBbkI7O0FBQ0EsTUFBTUMsYUFBYSxHQUFHLGVBQXRCOztBQUNBLE1BQU1DLGVBQWUsR0FBRyxpQkFBeEI7O0FBQ0EsTUFBTUMsZ0JBQWdCLEdBQUcsa0JBQXpCOztBQUNBLE1BQU1DLGVBQWUsR0FBRyxpQkFBeEI7O0FBQ0EsTUFBTUMsZ0JBQWdCLEdBQUcsa0JBQXpCOztBQUNBLE1BQU1DLGdCQUFnQixHQUFHLGtCQUF6Qjs7QUFDQSxNQUFNQyxlQUFlLEdBQUcsaUJBQXhCOztBQUNBLE1BQU1DLFVBQVUsR0FBRyxZQUFuQjs7QUFDQSxNQUFNQyxNQUFNLEdBQUcsUUFBZjs7QUFDQSxNQUFNQyxZQUFZLEdBQUcsY0FBckI7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHLGlCQUF4Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUcsUUFBZjs7QUFDQSxNQUFNQyxPQUFPLEdBQUcsU0FBaEI7O0FBQ0EsTUFBTUMsb0JBQW9CLEdBQUcsc0JBQTdCLEMsQ0FFUDs7O0FBQ08sTUFBTUMsTUFBTSxHQUFHLGVBQWY7O0FBRUEsTUFBTUMsbUJBQW1CLEdBQUcscUJBQTVCIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3dlYnBob25lLW5vZGUvc3JjL3NvY2tldC8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgUFVCTElDX0NIQU5ORUwgPSAnUFVCTElDX0NIQU5ORUwnXG5cbi8vIGluYm91bmQgZXZlbnRzXG5leHBvcnQgY29uc3QgQURNSU5fRElTQ09OTkVDVF9VU0VSID0gJ0FETUlOX0RJU0NPTk5FQ1RfVVNFUidcbmV4cG9ydCBjb25zdCBBRE1JTl9SRUNPTk5FQ1RfVVNFUiA9ICdBRE1JTl9SRUNPTk5FQ1RfVVNFUidcbmV4cG9ydCBjb25zdCBBRE1JTl9HRVRfVVNFUl9TVEFURSA9ICdBRE1JTl9HRVRfVVNFUl9TVEFURSdcbmV4cG9ydCBjb25zdCBBRE1JTl9OT1RJRllfVVNFUiA9ICdBRE1JTl9OT1RJRllfVVNFUidcbmV4cG9ydCBjb25zdCBNVVRFX1NQRUFLID0gJ01VVEVfU1BFQUsnXG5leHBvcnQgY29uc3QgVU5NVVRFX1NQRUFLID0gJ1VOTVVURV9TUEVBSydcbmV4cG9ydCBjb25zdCBNVVRFX0hFQVIgPSAnTVVURV9IRUFSJ1xuZXhwb3J0IGNvbnN0IFVOTVVURV9IRUFSID0gJ1VOTVVURV9IRUFSJ1xuZXhwb3J0IGNvbnN0IFRPR0dMRV9TUEVBS19TRUxGID0gJ1RPR0dMRV9TUEVBS19TRUxGJ1xuZXhwb3J0IGNvbnN0IFRPR0dMRV9IRUFSX1NFTEYgPSAnVE9HR0xFX0hFQVJfU0VMRidcbmV4cG9ydCBjb25zdCBUT0dHTEVfU1BFQUtfTUVNQkVSID0gJ1RPR0dMRV9TUEVBS19QQVJUSUNJUEFOVCdcbmV4cG9ydCBjb25zdCBUT0dHTEVfSEVBUl9NRU1CRVIgPSAnVE9HR0xFX0hFQVJfUEFSVElDSVBBTlQnXG5leHBvcnQgY29uc3QgQ0hBTkdFX0NVUlJFTlRfUk9PTSA9ICdDSEFOR0VfQ1VSUkVOVF9ST09NJ1xuZXhwb3J0IGNvbnN0IFNXSVRDSF9ST09NUyA9ICdTV0lUQ0hfUk9PTVMnXG5leHBvcnQgY29uc3QgSk9JTl9MT1VOR0UgPSAnSk9JTl9MT1VOR0UnXG5leHBvcnQgY29uc3QgTEVBVkVfTE9VTkdFID0gJ0xFQVZFX0xPVU5HRSdcbmV4cG9ydCBjb25zdCBQSUNLX1JFTEFZID0gJ1BJQ0tfUkVMQVknXG5leHBvcnQgY29uc3QgUElDS19GTE9PUiA9ICdQSUNLX0ZMT09SJ1xuZXhwb3J0IGNvbnN0IFBJQ0tfT1JBVE9SID0gJ1BJQ0tfT1JBVE9SJ1xuZXhwb3J0IGNvbnN0IFBJQ0tfTEFOR0IgPSAnUElDS19MQU5HQidcbmV4cG9ydCBjb25zdCBSRUxBWV9VU0VSID0gJ1JFTEFZX1VTRVInXG5leHBvcnQgY29uc3QgU1RBUlRfVElNRV9VU0VSID0gJ1NUQVJUX1RJTUVfVVNFUidcbmV4cG9ydCBjb25zdCBTRVRfVk9MVU1FX0lOID0gJ1NFVF9WT0xVTUVfSU4nXG5leHBvcnQgY29uc3QgVE9HR0xFX0FESlVTVE1FTlRTID0gJ1RPR0dMRV9BREpVU1RNRU5UUydcbmV4cG9ydCBjb25zdCBUT0dHTEVfUkFJU0VfSEFORCA9ICdUT0dHTEVfUkFJU0VfSEFORCdcbmV4cG9ydCBjb25zdCBUT0dHTEVfTUVFVElOR19BREpVU1RNRU5UUyA9ICdUT0dHTEVfTUVFVElOR19BREpVU1RNRU5UUydcbmV4cG9ydCBjb25zdCBVUERBVEVfVVNFUl9TVEFURSA9ICdVUERBVEVfVVNFUl9TVEFURSdcbmV4cG9ydCBjb25zdCBTVEFSVF9IQU5EUkFJU0VEX1VTRVIgPSAnU1RBUlRfSEFORFJBSVNFRF9VU0VSJ1xuZXhwb3J0IGNvbnN0IENPTlRST0xfTUlLRVMgPSAnQ09OVFJPTF9NSUtFUydcbmV4cG9ydCBjb25zdCBTTE9XX1NQRUFLID0gXCJTTE9XX1NQRUFLXCJcblxuLy8gb3V0Ym91bmQgZXZlbnRzXG5leHBvcnQgY29uc3QgQURNSU5fUkVNT1ZFX1VTRVIgPSAnQURNSU5fUkVNT1ZFX1VTRVInXG5leHBvcnQgY29uc3QgQURNSU5fU0VUX1VTRVJfU1RBVEUgPSAnQURNSU5fU0VUX1VTRVJfU1RBVEUnXG5leHBvcnQgY29uc3QgRElTQUJMRV9SRUNPTk5FQ1QgPSAnRElTQUJMRV9SRUNPTk5FQ1QnXG5leHBvcnQgY29uc3QgUkVDT05ORUNUX1VTRVIgPSAnUkVDT05ORUNUX1VTRVInXG5leHBvcnQgY29uc3QgTkVXX1VTRVIgPSAnTkVXX1VTRVInXG5leHBvcnQgY29uc3QgUFJPRklMRV9VUERBVEUgPSAnUFJPRklMRV9VUERBVEUnXG5leHBvcnQgY29uc3QgQUxMX1VTRVJTID0gJ0FMTF9VU0VSUydcbmV4cG9ydCBjb25zdCBESVNDT05ORUNUX1VTRVIgPSAnRElTQ09OTkVDVF9VU0VSJ1xuZXhwb3J0IGNvbnN0IE1FTUJFUlNfQ0hBTkdFID0gJ01FTUJFUlNfQ0hBTkdFJ1xuZXhwb3J0IGNvbnN0IE1FTUJFUl9BREQgPSAnTUVNQkVSX0FERCdcbmV4cG9ydCBjb25zdCBNRU1CRVJfREVMID0gJ01FTUJFUl9ERUwnXG5leHBvcnQgY29uc3QgTUVNQkVSX1VQREFURSA9ICdNRU1CRVJfVVBEQVRFJ1xuZXhwb3J0IGNvbnN0IEZJUlNUX0xJTkVfQ0FMTCA9ICdGSVJTVF9MSU5FX0NBTEwnXG5leHBvcnQgY29uc3QgU0VDT05EX0xJTkVfQ0FMTCA9ICdTRUNPTkRfTElORV9DQUxMJ1xuZXhwb3J0IGNvbnN0IEZMT09SX0xJTkVfQ0FMTCA9ICdGTE9PUl9MSU5FX0NBTEwnXG5leHBvcnQgY29uc3QgTE9VTkdFX0xJTkVfQ0FMTCA9ICdMT1VOR0VfTElORV9DQUxMJ1xuZXhwb3J0IGNvbnN0IE9SQVRPUl9MSU5FX0NBTEwgPSAnT1JBVE9SX0xJTkVfQ0FMTCdcbmV4cG9ydCBjb25zdCBMQU5HQl9MSU5FX0NBTEwgPSAnTEFOR0JfTElORV9DQUxMJ1xuZXhwb3J0IGNvbnN0IE1BS0VfUkVMQVkgPSAnTUFLRV9SRUxBWSdcbmV4cG9ydCBjb25zdCBOT1RJRlkgPSAnTk9USUZZJ1xuZXhwb3J0IGNvbnN0IENMT1NFX1dJTkRPVyA9ICdDTE9TRV9XSU5ET1cnXG5leHBvcnQgY29uc3QgQUxMX0FESlVTVE1FTlRTID0gJ0FMTF9BREpVU1RNRU5UUydcbmV4cG9ydCBjb25zdCBCQkJfT04gPSAnQkJCX09OJ1xuZXhwb3J0IGNvbnN0IEJCQl9PRkYgPSAnQkJCX09GRidcbmV4cG9ydCBjb25zdCBNRURJQVNFVFRJTkdTX0NIQU5HRSA9IFwiTUVESUFTRVRUSU5HU19DSEFOR0VcIlxuXG4vLyBzb2NrZXQgY29ubmVjdGlvbiBldmVudHNcbmV4cG9ydCBjb25zdCBDTE9TRUQgPSAnU09DS0VUOkNMT1NFRCdcblxuZXhwb3J0IGNvbnN0IFRPR0dMRV9DT05UUk9MX01JS0UgPSAnVE9HR0xFX0NPTlRST0xfTUlLRSdcblxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "constants.js"
      ],
      "names": [
        "PUBLIC_CHANNEL",
        "ADMIN_DISCONNECT_USER",
        "ADMIN_RECONNECT_USER",
        "ADMIN_GET_USER_STATE",
        "ADMIN_NOTIFY_USER",
        "MUTE_SPEAK",
        "UNMUTE_SPEAK",
        "MUTE_HEAR",
        "UNMUTE_HEAR",
        "TOGGLE_SPEAK_SELF",
        "TOGGLE_HEAR_SELF",
        "TOGGLE_SPEAK_MEMBER",
        "TOGGLE_HEAR_MEMBER",
        "CHANGE_CURRENT_ROOM",
        "SWITCH_ROOMS",
        "JOIN_LOUNGE",
        "LEAVE_LOUNGE",
        "PICK_RELAY",
        "PICK_FLOOR",
        "PICK_ORATOR",
        "PICK_LANGB",
        "RELAY_USER",
        "START_TIME_USER",
        "SET_VOLUME_IN",
        "TOGGLE_ADJUSTMENTS",
        "TOGGLE_RAISE_HAND",
        "TOGGLE_MEETING_ADJUSTMENTS",
        "UPDATE_USER_STATE",
        "START_HANDRAISED_USER",
        "CONTROL_MIKES",
        "SLOW_SPEAK",
        "ADMIN_REMOVE_USER",
        "ADMIN_SET_USER_STATE",
        "DISABLE_RECONNECT",
        "RECONNECT_USER",
        "NEW_USER",
        "PROFILE_UPDATE",
        "ALL_USERS",
        "DISCONNECT_USER",
        "MEMBERS_CHANGE",
        "MEMBER_ADD",
        "MEMBER_DEL",
        "MEMBER_UPDATE",
        "FIRST_LINE_CALL",
        "SECOND_LINE_CALL",
        "FLOOR_LINE_CALL",
        "LOUNGE_LINE_CALL",
        "ORATOR_LINE_CALL",
        "LANGB_LINE_CALL",
        "MAKE_RELAY",
        "NOTIFY",
        "CLOSE_WINDOW",
        "ALL_ADJUSTMENTS",
        "BBB_ON",
        "BBB_OFF",
        "MEDIASETTINGS_CHANGE",
        "CLOSED",
        "TOGGLE_CONTROL_MIKE"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,cAAc,GAAG,gBAAvB,C,CAEP;;;AACO,MAAMC,qBAAqB,GAAG,uBAA9B;;AACA,MAAMC,oBAAoB,GAAG,sBAA7B;;AACA,MAAMC,oBAAoB,GAAG,sBAA7B;;AACA,MAAMC,iBAAiB,GAAG,mBAA1B;;AACA,MAAMC,UAAU,GAAG,YAAnB;;AACA,MAAMC,YAAY,GAAG,cAArB;;AACA,MAAMC,SAAS,GAAG,WAAlB;;AACA,MAAMC,WAAW,GAAG,aAApB;;AACA,MAAMC,iBAAiB,GAAG,mBAA1B;;AACA,MAAMC,gBAAgB,GAAG,kBAAzB;;AACA,MAAMC,mBAAmB,GAAG,0BAA5B;;AACA,MAAMC,kBAAkB,GAAG,yBAA3B;;AACA,MAAMC,mBAAmB,GAAG,qBAA5B;;AACA,MAAMC,YAAY,GAAG,cAArB;;AACA,MAAMC,WAAW,GAAG,aAApB;;AACA,MAAMC,YAAY,GAAG,cAArB;;AACA,MAAMC,UAAU,GAAG,YAAnB;;AACA,MAAMC,UAAU,GAAG,YAAnB;;AACA,MAAMC,WAAW,GAAG,aAApB;;AACA,MAAMC,UAAU,GAAG,YAAnB;;AACA,MAAMC,UAAU,GAAG,YAAnB;;AACA,MAAMC,eAAe,GAAG,iBAAxB;;AACA,MAAMC,aAAa,GAAG,eAAtB;;AACA,MAAMC,kBAAkB,GAAG,oBAA3B;;AACA,MAAMC,iBAAiB,GAAG,mBAA1B;;AACA,MAAMC,0BAA0B,GAAG,4BAAnC;;AACA,MAAMC,iBAAiB,GAAG,mBAA1B;;AACA,MAAMC,qBAAqB,GAAG,uBAA9B;;AACA,MAAMC,aAAa,GAAG,eAAtB;;AACA,MAAMC,UAAU,GAAG,YAAnB,C,CAEP;;;AACO,MAAMC,iBAAiB,GAAG,mBAA1B;;AACA,MAAMC,oBAAoB,GAAG,sBAA7B;;AACA,MAAMC,iBAAiB,GAAG,mBAA1B;;AACA,MAAMC,cAAc,GAAG,gBAAvB;;AACA,MAAMC,QAAQ,GAAG,UAAjB;;AACA,MAAMC,cAAc,GAAG,gBAAvB;;AACA,MAAMC,SAAS,GAAG,WAAlB;;AACA,MAAMC,eAAe,GAAG,iBAAxB;;AACA,MAAMC,cAAc,GAAG,gBAAvB;;AACA,MAAMC,UAAU,GAAG,YAAnB;;AACA,MAAMC,UAAU,GAAG,YAAnB;;AACA,MAAMC,aAAa,GAAG,eAAtB;;AACA,MAAMC,eAAe,GAAG,iBAAxB;;AACA,MAAMC,gBAAgB,GAAG,kBAAzB;;AACA,MAAMC,eAAe,GAAG,iBAAxB;;AACA,MAAMC,gBAAgB,GAAG,kBAAzB;;AACA,MAAMC,gBAAgB,GAAG,kBAAzB;;AACA,MAAMC,eAAe,GAAG,iBAAxB;;AACA,MAAMC,UAAU,GAAG,YAAnB;;AACA,MAAMC,MAAM,GAAG,QAAf;;AACA,MAAMC,YAAY,GAAG,cAArB;;AACA,MAAMC,eAAe,GAAG,iBAAxB;;AACA,MAAMC,MAAM,GAAG,QAAf;;AACA,MAAMC,OAAO,GAAG,SAAhB;;AACA,MAAMC,oBAAoB,GAAG,sBAA7B,C,CAEP;;;AACO,MAAMC,MAAM,GAAG,eAAf;;AAEA,MAAMC,mBAAmB,GAAG,qBAA5B",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/",
      "sourcesContent": [
        "export const PUBLIC_CHANNEL = 'PUBLIC_CHANNEL'\n\n// inbound events\nexport const ADMIN_DISCONNECT_USER = 'ADMIN_DISCONNECT_USER'\nexport const ADMIN_RECONNECT_USER = 'ADMIN_RECONNECT_USER'\nexport const ADMIN_GET_USER_STATE = 'ADMIN_GET_USER_STATE'\nexport const ADMIN_NOTIFY_USER = 'ADMIN_NOTIFY_USER'\nexport const MUTE_SPEAK = 'MUTE_SPEAK'\nexport const UNMUTE_SPEAK = 'UNMUTE_SPEAK'\nexport const MUTE_HEAR = 'MUTE_HEAR'\nexport const UNMUTE_HEAR = 'UNMUTE_HEAR'\nexport const TOGGLE_SPEAK_SELF = 'TOGGLE_SPEAK_SELF'\nexport const TOGGLE_HEAR_SELF = 'TOGGLE_HEAR_SELF'\nexport const TOGGLE_SPEAK_MEMBER = 'TOGGLE_SPEAK_PARTICIPANT'\nexport const TOGGLE_HEAR_MEMBER = 'TOGGLE_HEAR_PARTICIPANT'\nexport const CHANGE_CURRENT_ROOM = 'CHANGE_CURRENT_ROOM'\nexport const SWITCH_ROOMS = 'SWITCH_ROOMS'\nexport const JOIN_LOUNGE = 'JOIN_LOUNGE'\nexport const LEAVE_LOUNGE = 'LEAVE_LOUNGE'\nexport const PICK_RELAY = 'PICK_RELAY'\nexport const PICK_FLOOR = 'PICK_FLOOR'\nexport const PICK_ORATOR = 'PICK_ORATOR'\nexport const PICK_LANGB = 'PICK_LANGB'\nexport const RELAY_USER = 'RELAY_USER'\nexport const START_TIME_USER = 'START_TIME_USER'\nexport const SET_VOLUME_IN = 'SET_VOLUME_IN'\nexport const TOGGLE_ADJUSTMENTS = 'TOGGLE_ADJUSTMENTS'\nexport const TOGGLE_RAISE_HAND = 'TOGGLE_RAISE_HAND'\nexport const TOGGLE_MEETING_ADJUSTMENTS = 'TOGGLE_MEETING_ADJUSTMENTS'\nexport const UPDATE_USER_STATE = 'UPDATE_USER_STATE'\nexport const START_HANDRAISED_USER = 'START_HANDRAISED_USER'\nexport const CONTROL_MIKES = 'CONTROL_MIKES'\nexport const SLOW_SPEAK = \"SLOW_SPEAK\"\n\n// outbound events\nexport const ADMIN_REMOVE_USER = 'ADMIN_REMOVE_USER'\nexport const ADMIN_SET_USER_STATE = 'ADMIN_SET_USER_STATE'\nexport const DISABLE_RECONNECT = 'DISABLE_RECONNECT'\nexport const RECONNECT_USER = 'RECONNECT_USER'\nexport const NEW_USER = 'NEW_USER'\nexport const PROFILE_UPDATE = 'PROFILE_UPDATE'\nexport const ALL_USERS = 'ALL_USERS'\nexport const DISCONNECT_USER = 'DISCONNECT_USER'\nexport const MEMBERS_CHANGE = 'MEMBERS_CHANGE'\nexport const MEMBER_ADD = 'MEMBER_ADD'\nexport const MEMBER_DEL = 'MEMBER_DEL'\nexport const MEMBER_UPDATE = 'MEMBER_UPDATE'\nexport const FIRST_LINE_CALL = 'FIRST_LINE_CALL'\nexport const SECOND_LINE_CALL = 'SECOND_LINE_CALL'\nexport const FLOOR_LINE_CALL = 'FLOOR_LINE_CALL'\nexport const LOUNGE_LINE_CALL = 'LOUNGE_LINE_CALL'\nexport const ORATOR_LINE_CALL = 'ORATOR_LINE_CALL'\nexport const LANGB_LINE_CALL = 'LANGB_LINE_CALL'\nexport const MAKE_RELAY = 'MAKE_RELAY'\nexport const NOTIFY = 'NOTIFY'\nexport const CLOSE_WINDOW = 'CLOSE_WINDOW'\nexport const ALL_ADJUSTMENTS = 'ALL_ADJUSTMENTS'\nexport const BBB_ON = 'BBB_ON'\nexport const BBB_OFF = 'BBB_OFF'\nexport const MEDIASETTINGS_CHANGE = \"MEDIASETTINGS_CHANGE\"\n\n// socket connection events\nexport const CLOSED = 'SOCKET:CLOSED'\n\nexport const TOGGLE_CONTROL_MIKE = 'TOGGLE_CONTROL_MIKE'\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/handler.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/handler.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/handler.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/handler.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/",
        "sourceFileName": "handler.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _ = _interopRequireDefault(require(\".\"));\n\nvar _user = _interopRequireDefault(require(\"../../models/user\"));\n\nvar _users = _interopRequireDefault(require(\"../../services/users\"));\n\nvar _freeswitch = _interopRequireDefault(require(\"../../services/freeswitch\"));\n\nvar _esl = _interopRequireDefault(require(\"../../esl\"));\n\nvar Sender = _interopRequireWildcard(require(\"../admin/sender\"));\n\nvar _member = _interopRequireDefault(require(\"../../models/member\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = (event, client, data) => {\n  // TODO add pundut style authorization\n  try {\n    switch (event) {\n      case _.default.NEW_USER:\n        _user.default.add(client, data);\n\n        break;\n\n      case _.default.MUTE_SPEAK:\n        {\n          const {\n            memberId,\n            roomId\n          } = data;\n\n          _esl.default.muteSpeak(memberId, roomId);\n\n          break;\n        }\n\n      case _.default.UNMUTE_SPEAK:\n        {\n          const {\n            memberId,\n            roomId\n          } = data;\n\n          _esl.default.unmuteSpeak(memberId, roomId);\n\n          break;\n        }\n\n      case _.default.MUTE_HEAR:\n        {\n          const {\n            memberId,\n            roomId\n          } = data;\n\n          _esl.default.muteHear(memberId, roomId);\n\n          break;\n        }\n\n      case _.default.UNMUTE_HEAR:\n        {\n          const {\n            memberId,\n            roomId\n          } = data;\n\n          _esl.default.unmuteHear(memberId, roomId);\n\n          break;\n        }\n\n      case _.default.TOGGLE_SPEAK_SELF:\n        _freeswitch.default.toggleSpeakSelf(data);\n\n        break;\n\n      case _.default.TOGGLE_HEAR_SELF:\n        _freeswitch.default.toggleHearSelf(data);\n\n        break;\n\n      case _.default.TOGGLE_SPEAK_MEMBER:\n        _freeswitch.default.toggleSpeakMember(data);\n\n        break;\n\n      case _.default.TOGGLE_HEAR_MEMBER:\n        _freeswitch.default.toggleHearMember(data);\n\n        break;\n\n      case _.default.CHANGE_CURRENT_ROOM:\n        _freeswitch.default.changeRegularRoom(data);\n\n        break;\n\n      case _.default.SWITCH_ROOMS:\n        _freeswitch.default.switchRooms(data);\n\n        break;\n\n      case _.default.JOIN_LOUNGE:\n        _freeswitch.default.joinLounge(data);\n\n        break;\n\n      case _.default.LEAVE_LOUNGE:\n        _freeswitch.default.leaveLounge(data);\n\n        break;\n\n      case _.default.PICK_RELAY:\n        _freeswitch.default.pickRelay(data);\n\n        break;\n\n      case _.default.PICK_FLOOR:\n        _freeswitch.default.pickFloor(data);\n\n        break;\n\n      case _.default.PICK_LANGB:\n        _freeswitch.default.pickLangb(data);\n\n        break;\n\n      case _.default.PICK_ORATOR:\n        _freeswitch.default.pickOrator(data);\n\n        break;\n\n      case _.default.RELAY_USER:\n        _users.default.relayUser(data);\n\n        break;\n\n      case _.default.START_TIME_USER:\n        _member.default.updateIsStartTime(data);\n\n        break;\n\n      case _.default.START_HANDRAISED_USER:\n        _member.default.uploadHandRaised(data);\n\n        break;\n\n      case _.default.CONTROL_MIKES:\n        _member.default.uploadControlMikes(data);\n\n      case _.default.SLOW_SPEAK:\n        _member.default.slowSpeak(data);\n\n        break;\n\n      case _.default.BBB_ON:\n        Sender.bbbOn(data);\n        break;\n\n      case _.default.BBB_OFF:\n        Sender.bbbOff(data);\n        break;\n\n      case _.default.SET_VOLUME_IN:\n        _freeswitch.default.setVolumeIn(data);\n\n        break;\n\n      case _.default.UPDATE_USER_STATE:\n        {\n          const user = _user.default.find(client.user.id);\n\n          user.updateUserState(data);\n          const {\n            prop\n          } = data;\n\n          switch (prop) {\n            case 'mediaSettings':\n              Sender.informChangeOnMediaSettings(user.id, user.userState.mediaSettings);\n              break;\n          }\n\n          break;\n        }\n\n      case _.default.TOGGLE_RAISE_HAND:\n        {\n          const user = _user.default.find(client.user.id);\n\n          user.toggleRaiseHand(data);\n          break;\n        }\n\n      case _.default.TOGGLE_CONTROL_MIKE:\n        {\n          const user = _user.default.find(client.user.id);\n\n          user.toggleControlMike();\n          break;\n        }\n\n      default:\n        console.log(`Socket: no such event: ${event}`);\n    }\n  } catch (e) {\n    console.error(`Error: ${e}`);\n  }\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhhbmRsZXIuanMiXSwibmFtZXMiOlsiZXZlbnQiLCJjbGllbnQiLCJkYXRhIiwiU29ja2V0IiwiTkVXX1VTRVIiLCJVc2VyIiwiYWRkIiwiTVVURV9TUEVBSyIsIm1lbWJlcklkIiwicm9vbUlkIiwiRXNsIiwibXV0ZVNwZWFrIiwiVU5NVVRFX1NQRUFLIiwidW5tdXRlU3BlYWsiLCJNVVRFX0hFQVIiLCJtdXRlSGVhciIsIlVOTVVURV9IRUFSIiwidW5tdXRlSGVhciIsIlRPR0dMRV9TUEVBS19TRUxGIiwiRnJlZXN3aXRjaCIsInRvZ2dsZVNwZWFrU2VsZiIsIlRPR0dMRV9IRUFSX1NFTEYiLCJ0b2dnbGVIZWFyU2VsZiIsIlRPR0dMRV9TUEVBS19NRU1CRVIiLCJ0b2dnbGVTcGVha01lbWJlciIsIlRPR0dMRV9IRUFSX01FTUJFUiIsInRvZ2dsZUhlYXJNZW1iZXIiLCJDSEFOR0VfQ1VSUkVOVF9ST09NIiwiY2hhbmdlUmVndWxhclJvb20iLCJTV0lUQ0hfUk9PTVMiLCJzd2l0Y2hSb29tcyIsIkpPSU5fTE9VTkdFIiwiam9pbkxvdW5nZSIsIkxFQVZFX0xPVU5HRSIsImxlYXZlTG91bmdlIiwiUElDS19SRUxBWSIsInBpY2tSZWxheSIsIlBJQ0tfRkxPT1IiLCJwaWNrRmxvb3IiLCJQSUNLX0xBTkdCIiwicGlja0xhbmdiIiwiUElDS19PUkFUT1IiLCJwaWNrT3JhdG9yIiwiUkVMQVlfVVNFUiIsIlVzZXJTZXJ2aWNlIiwicmVsYXlVc2VyIiwiU1RBUlRfVElNRV9VU0VSIiwiTWVtYmVyIiwidXBkYXRlSXNTdGFydFRpbWUiLCJTVEFSVF9IQU5EUkFJU0VEX1VTRVIiLCJ1cGxvYWRIYW5kUmFpc2VkIiwiQ09OVFJPTF9NSUtFUyIsInVwbG9hZENvbnRyb2xNaWtlcyIsIlNMT1dfU1BFQUsiLCJzbG93U3BlYWsiLCJCQkJfT04iLCJTZW5kZXIiLCJiYmJPbiIsIkJCQl9PRkYiLCJiYmJPZmYiLCJTRVRfVk9MVU1FX0lOIiwic2V0Vm9sdW1lSW4iLCJVUERBVEVfVVNFUl9TVEFURSIsInVzZXIiLCJmaW5kIiwiaWQiLCJ1cGRhdGVVc2VyU3RhdGUiLCJwcm9wIiwiaW5mb3JtQ2hhbmdlT25NZWRpYVNldHRpbmdzIiwidXNlclN0YXRlIiwibWVkaWFTZXR0aW5ncyIsIlRPR0dMRV9SQUlTRV9IQU5EIiwidG9nZ2xlUmFpc2VIYW5kIiwiVE9HR0xFX0NPTlRST0xfTUlLRSIsInRvZ2dsZUNvbnRyb2xNaWtlIiwiY29uc29sZSIsImxvZyIsImUiLCJlcnJvciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7OztlQUVlLENBQUNBLEtBQUQsRUFBUUMsTUFBUixFQUFnQkMsSUFBaEIsS0FBeUI7QUFDdEM7QUFDQSxNQUFJO0FBQ0YsWUFBUUYsS0FBUjtBQUNFLFdBQUtHLFVBQU9DLFFBQVo7QUFDRUMsc0JBQUtDLEdBQUwsQ0FBU0wsTUFBVCxFQUFpQkMsSUFBakI7O0FBQ0E7O0FBQ0YsV0FBS0MsVUFBT0ksVUFBWjtBQUF3QjtBQUN0QixnQkFBTTtBQUFFQyxZQUFBQSxRQUFGO0FBQVlDLFlBQUFBO0FBQVosY0FBdUJQLElBQTdCOztBQUNBUSx1QkFBSUMsU0FBSixDQUFjSCxRQUFkLEVBQXdCQyxNQUF4Qjs7QUFDQTtBQUNEOztBQUNELFdBQUtOLFVBQU9TLFlBQVo7QUFBMEI7QUFDeEIsZ0JBQU07QUFBRUosWUFBQUEsUUFBRjtBQUFZQyxZQUFBQTtBQUFaLGNBQXVCUCxJQUE3Qjs7QUFDQVEsdUJBQUlHLFdBQUosQ0FBZ0JMLFFBQWhCLEVBQTBCQyxNQUExQjs7QUFDQTtBQUNEOztBQUNELFdBQUtOLFVBQU9XLFNBQVo7QUFBdUI7QUFDckIsZ0JBQU07QUFBRU4sWUFBQUEsUUFBRjtBQUFZQyxZQUFBQTtBQUFaLGNBQXVCUCxJQUE3Qjs7QUFDQVEsdUJBQUlLLFFBQUosQ0FBYVAsUUFBYixFQUF1QkMsTUFBdkI7O0FBQ0E7QUFDRDs7QUFDRCxXQUFLTixVQUFPYSxXQUFaO0FBQXlCO0FBQ3ZCLGdCQUFNO0FBQUVSLFlBQUFBLFFBQUY7QUFBWUMsWUFBQUE7QUFBWixjQUF1QlAsSUFBN0I7O0FBQ0FRLHVCQUFJTyxVQUFKLENBQWVULFFBQWYsRUFBeUJDLE1BQXpCOztBQUNBO0FBQ0Q7O0FBQ0QsV0FBS04sVUFBT2UsaUJBQVo7QUFDRUMsNEJBQVdDLGVBQVgsQ0FBMkJsQixJQUEzQjs7QUFDQTs7QUFDRixXQUFLQyxVQUFPa0IsZ0JBQVo7QUFDRUYsNEJBQVdHLGNBQVgsQ0FBMEJwQixJQUExQjs7QUFDQTs7QUFDRixXQUFLQyxVQUFPb0IsbUJBQVo7QUFDRUosNEJBQVdLLGlCQUFYLENBQTZCdEIsSUFBN0I7O0FBQ0E7O0FBQ0YsV0FBS0MsVUFBT3NCLGtCQUFaO0FBQ0VOLDRCQUFXTyxnQkFBWCxDQUE0QnhCLElBQTVCOztBQUNBOztBQUNGLFdBQUtDLFVBQU93QixtQkFBWjtBQUNFUiw0QkFBV1MsaUJBQVgsQ0FBNkIxQixJQUE3Qjs7QUFDQTs7QUFDRixXQUFLQyxVQUFPMEIsWUFBWjtBQUNFViw0QkFBV1csV0FBWCxDQUF1QjVCLElBQXZCOztBQUNBOztBQUNGLFdBQUtDLFVBQU80QixXQUFaO0FBQ0VaLDRCQUFXYSxVQUFYLENBQXNCOUIsSUFBdEI7O0FBQ0E7O0FBQ0YsV0FBS0MsVUFBTzhCLFlBQVo7QUFDRWQsNEJBQVdlLFdBQVgsQ0FBdUJoQyxJQUF2Qjs7QUFDQTs7QUFDRixXQUFLQyxVQUFPZ0MsVUFBWjtBQUNFaEIsNEJBQVdpQixTQUFYLENBQXFCbEMsSUFBckI7O0FBQ0E7O0FBQ0YsV0FBS0MsVUFBT2tDLFVBQVo7QUFDRWxCLDRCQUFXbUIsU0FBWCxDQUFxQnBDLElBQXJCOztBQUNBOztBQUNGLFdBQUtDLFVBQU9vQyxVQUFaO0FBQ0VwQiw0QkFBV3FCLFNBQVgsQ0FBcUJ0QyxJQUFyQjs7QUFDQTs7QUFDRixXQUFLQyxVQUFPc0MsV0FBWjtBQUNFdEIsNEJBQVd1QixVQUFYLENBQXNCeEMsSUFBdEI7O0FBQ0E7O0FBQ0YsV0FBS0MsVUFBT3dDLFVBQVo7QUFDRUMsdUJBQVlDLFNBQVosQ0FBc0IzQyxJQUF0Qjs7QUFDQTs7QUFDRixXQUFLQyxVQUFPMkMsZUFBWjtBQUNFQyx3QkFBT0MsaUJBQVAsQ0FBeUI5QyxJQUF6Qjs7QUFDQTs7QUFDRixXQUFLQyxVQUFPOEMscUJBQVo7QUFDRUYsd0JBQU9HLGdCQUFQLENBQXdCaEQsSUFBeEI7O0FBQ0E7O0FBQ0YsV0FBS0MsVUFBT2dELGFBQVo7QUFDRUosd0JBQU9LLGtCQUFQLENBQTBCbEQsSUFBMUI7O0FBQ0YsV0FBS0MsVUFBT2tELFVBQVo7QUFDRU4sd0JBQU9PLFNBQVAsQ0FBaUJwRCxJQUFqQjs7QUFDQTs7QUFDRixXQUFLQyxVQUFPb0QsTUFBWjtBQUNFQyxRQUFBQSxNQUFNLENBQUNDLEtBQVAsQ0FBYXZELElBQWI7QUFDQTs7QUFDRixXQUFLQyxVQUFPdUQsT0FBWjtBQUNFRixRQUFBQSxNQUFNLENBQUNHLE1BQVAsQ0FBY3pELElBQWQ7QUFDQTs7QUFDRixXQUFLQyxVQUFPeUQsYUFBWjtBQUNFekMsNEJBQVcwQyxXQUFYLENBQXVCM0QsSUFBdkI7O0FBQ0E7O0FBQ0YsV0FBS0MsVUFBTzJELGlCQUFaO0FBQStCO0FBQzdCLGdCQUFNQyxJQUFJLEdBQUcxRCxjQUFLMkQsSUFBTCxDQUFVL0QsTUFBTSxDQUFDOEQsSUFBUCxDQUFZRSxFQUF0QixDQUFiOztBQUNBRixVQUFBQSxJQUFJLENBQUNHLGVBQUwsQ0FBcUJoRSxJQUFyQjtBQUNBLGdCQUFNO0FBQUVpRSxZQUFBQTtBQUFGLGNBQVdqRSxJQUFqQjs7QUFDQSxrQkFBUWlFLElBQVI7QUFDRSxpQkFBSyxlQUFMO0FBQ0VYLGNBQUFBLE1BQU0sQ0FBQ1ksMkJBQVAsQ0FBbUNMLElBQUksQ0FBQ0UsRUFBeEMsRUFBNENGLElBQUksQ0FBQ00sU0FBTCxDQUFlQyxhQUEzRDtBQUNBO0FBSEo7O0FBS0E7QUFDRDs7QUFDRCxXQUFLbkUsVUFBT29FLGlCQUFaO0FBQStCO0FBQzdCLGdCQUFNUixJQUFJLEdBQUcxRCxjQUFLMkQsSUFBTCxDQUFVL0QsTUFBTSxDQUFDOEQsSUFBUCxDQUFZRSxFQUF0QixDQUFiOztBQUNBRixVQUFBQSxJQUFJLENBQUNTLGVBQUwsQ0FBcUJ0RSxJQUFyQjtBQUNBO0FBQ0Q7O0FBQ0QsV0FBS0MsVUFBT3NFLG1CQUFaO0FBQWlDO0FBQy9CLGdCQUFNVixJQUFJLEdBQUcxRCxjQUFLMkQsSUFBTCxDQUFVL0QsTUFBTSxDQUFDOEQsSUFBUCxDQUFZRSxFQUF0QixDQUFiOztBQUNBRixVQUFBQSxJQUFJLENBQUNXLGlCQUFMO0FBQ0E7QUFDRDs7QUFDRDtBQUNFQyxRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBYSwwQkFBeUI1RSxLQUFNLEVBQTVDO0FBekdKO0FBMkdELEdBNUdELENBNEdFLE9BQU82RSxDQUFQLEVBQVU7QUFDVkYsSUFBQUEsT0FBTyxDQUFDRyxLQUFSLENBQWUsVUFBU0QsQ0FBRSxFQUExQjtBQUNEO0FBQ0YsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9zb2NrZXQvY2xpZW50LyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTb2NrZXQgZnJvbSAnLidcbmltcG9ydCBVc2VyIGZyb20gJy4uLy4uL21vZGVscy91c2VyJ1xuaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gJy4uLy4uL3NlcnZpY2VzL3VzZXJzJ1xuaW1wb3J0IEZyZWVzd2l0Y2ggZnJvbSAnLi4vLi4vc2VydmljZXMvZnJlZXN3aXRjaCdcbmltcG9ydCBFc2wgZnJvbSAnLi4vLi4vZXNsJ1xuaW1wb3J0ICogYXMgU2VuZGVyIGZyb20gJy4uL2FkbWluL3NlbmRlcidcbmltcG9ydCBNZW1iZXIgZnJvbSAnLi4vLi4vbW9kZWxzL21lbWJlcidcblxuZXhwb3J0IGRlZmF1bHQgKGV2ZW50LCBjbGllbnQsIGRhdGEpID0+IHtcbiAgLy8gVE9ETyBhZGQgcHVuZHV0IHN0eWxlIGF1dGhvcml6YXRpb25cbiAgdHJ5IHtcbiAgICBzd2l0Y2ggKGV2ZW50KSB7XG4gICAgICBjYXNlIFNvY2tldC5ORVdfVVNFUjpcbiAgICAgICAgVXNlci5hZGQoY2xpZW50LCBkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBTb2NrZXQuTVVURV9TUEVBSzoge1xuICAgICAgICBjb25zdCB7IG1lbWJlcklkLCByb29tSWQgfSA9IGRhdGFcbiAgICAgICAgRXNsLm11dGVTcGVhayhtZW1iZXJJZCwgcm9vbUlkKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSBTb2NrZXQuVU5NVVRFX1NQRUFLOiB7XG4gICAgICAgIGNvbnN0IHsgbWVtYmVySWQsIHJvb21JZCB9ID0gZGF0YVxuICAgICAgICBFc2wudW5tdXRlU3BlYWsobWVtYmVySWQsIHJvb21JZClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgU29ja2V0Lk1VVEVfSEVBUjoge1xuICAgICAgICBjb25zdCB7IG1lbWJlcklkLCByb29tSWQgfSA9IGRhdGFcbiAgICAgICAgRXNsLm11dGVIZWFyKG1lbWJlcklkLCByb29tSWQpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlIFNvY2tldC5VTk1VVEVfSEVBUjoge1xuICAgICAgICBjb25zdCB7IG1lbWJlcklkLCByb29tSWQgfSA9IGRhdGFcbiAgICAgICAgRXNsLnVubXV0ZUhlYXIobWVtYmVySWQsIHJvb21JZClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgU29ja2V0LlRPR0dMRV9TUEVBS19TRUxGOlxuICAgICAgICBGcmVlc3dpdGNoLnRvZ2dsZVNwZWFrU2VsZihkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBTb2NrZXQuVE9HR0xFX0hFQVJfU0VMRjpcbiAgICAgICAgRnJlZXN3aXRjaC50b2dnbGVIZWFyU2VsZihkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBTb2NrZXQuVE9HR0xFX1NQRUFLX01FTUJFUjpcbiAgICAgICAgRnJlZXN3aXRjaC50b2dnbGVTcGVha01lbWJlcihkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBTb2NrZXQuVE9HR0xFX0hFQVJfTUVNQkVSOlxuICAgICAgICBGcmVlc3dpdGNoLnRvZ2dsZUhlYXJNZW1iZXIoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgU29ja2V0LkNIQU5HRV9DVVJSRU5UX1JPT006XG4gICAgICAgIEZyZWVzd2l0Y2guY2hhbmdlUmVndWxhclJvb20oZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgU29ja2V0LlNXSVRDSF9ST09NUzpcbiAgICAgICAgRnJlZXN3aXRjaC5zd2l0Y2hSb29tcyhkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBTb2NrZXQuSk9JTl9MT1VOR0U6XG4gICAgICAgIEZyZWVzd2l0Y2guam9pbkxvdW5nZShkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBTb2NrZXQuTEVBVkVfTE9VTkdFOlxuICAgICAgICBGcmVlc3dpdGNoLmxlYXZlTG91bmdlKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIFNvY2tldC5QSUNLX1JFTEFZOlxuICAgICAgICBGcmVlc3dpdGNoLnBpY2tSZWxheShkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBTb2NrZXQuUElDS19GTE9PUjpcbiAgICAgICAgRnJlZXN3aXRjaC5waWNrRmxvb3IoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgU29ja2V0LlBJQ0tfTEFOR0I6XG4gICAgICAgIEZyZWVzd2l0Y2gucGlja0xhbmdiKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIFNvY2tldC5QSUNLX09SQVRPUjpcbiAgICAgICAgRnJlZXN3aXRjaC5waWNrT3JhdG9yKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIFNvY2tldC5SRUxBWV9VU0VSOlxuICAgICAgICBVc2VyU2VydmljZS5yZWxheVVzZXIoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgU29ja2V0LlNUQVJUX1RJTUVfVVNFUjpcbiAgICAgICAgTWVtYmVyLnVwZGF0ZUlzU3RhcnRUaW1lKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIFNvY2tldC5TVEFSVF9IQU5EUkFJU0VEX1VTRVI6XG4gICAgICAgIE1lbWJlci51cGxvYWRIYW5kUmFpc2VkKGRhdGEpXG4gICAgICAgIGJyZWFrICBcbiAgICAgIGNhc2UgU29ja2V0LkNPTlRST0xfTUlLRVM6XG4gICAgICAgIE1lbWJlci51cGxvYWRDb250cm9sTWlrZXMoZGF0YSlcbiAgICAgIGNhc2UgU29ja2V0LlNMT1dfU1BFQUs6XG4gICAgICAgIE1lbWJlci5zbG93U3BlYWsoZGF0YSlcbiAgICAgICAgYnJlYWsgIFxuICAgICAgY2FzZSBTb2NrZXQuQkJCX09OOlxuICAgICAgICBTZW5kZXIuYmJiT24oZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgU29ja2V0LkJCQl9PRkY6XG4gICAgICAgIFNlbmRlci5iYmJPZmYoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgU29ja2V0LlNFVF9WT0xVTUVfSU46XG4gICAgICAgIEZyZWVzd2l0Y2guc2V0Vm9sdW1lSW4oZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgU29ja2V0LlVQREFURV9VU0VSX1NUQVRFOiB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBVc2VyLmZpbmQoY2xpZW50LnVzZXIuaWQpXG4gICAgICAgIHVzZXIudXBkYXRlVXNlclN0YXRlKGRhdGEpXG4gICAgICAgIGNvbnN0IHsgcHJvcCB9ID0gZGF0YVxuICAgICAgICBzd2l0Y2ggKHByb3ApIHtcbiAgICAgICAgICBjYXNlICdtZWRpYVNldHRpbmdzJzpcbiAgICAgICAgICAgIFNlbmRlci5pbmZvcm1DaGFuZ2VPbk1lZGlhU2V0dGluZ3ModXNlci5pZCwgdXNlci51c2VyU3RhdGUubWVkaWFTZXR0aW5ncylcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlIFNvY2tldC5UT0dHTEVfUkFJU0VfSEFORDoge1xuICAgICAgICBjb25zdCB1c2VyID0gVXNlci5maW5kKGNsaWVudC51c2VyLmlkKVxuICAgICAgICB1c2VyLnRvZ2dsZVJhaXNlSGFuZChkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSBTb2NrZXQuVE9HR0xFX0NPTlRST0xfTUlLRToge1xuICAgICAgICBjb25zdCB1c2VyID0gVXNlci5maW5kKGNsaWVudC51c2VyLmlkKVxuICAgICAgICB1c2VyLnRvZ2dsZUNvbnRyb2xNaWtlKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUubG9nKGBTb2NrZXQ6IG5vIHN1Y2ggZXZlbnQ6ICR7ZXZlbnR9YClcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvcjogJHtlfWApXG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "handler.js"
      ],
      "names": [
        "event",
        "client",
        "data",
        "Socket",
        "NEW_USER",
        "User",
        "add",
        "MUTE_SPEAK",
        "memberId",
        "roomId",
        "Esl",
        "muteSpeak",
        "UNMUTE_SPEAK",
        "unmuteSpeak",
        "MUTE_HEAR",
        "muteHear",
        "UNMUTE_HEAR",
        "unmuteHear",
        "TOGGLE_SPEAK_SELF",
        "Freeswitch",
        "toggleSpeakSelf",
        "TOGGLE_HEAR_SELF",
        "toggleHearSelf",
        "TOGGLE_SPEAK_MEMBER",
        "toggleSpeakMember",
        "TOGGLE_HEAR_MEMBER",
        "toggleHearMember",
        "CHANGE_CURRENT_ROOM",
        "changeRegularRoom",
        "SWITCH_ROOMS",
        "switchRooms",
        "JOIN_LOUNGE",
        "joinLounge",
        "LEAVE_LOUNGE",
        "leaveLounge",
        "PICK_RELAY",
        "pickRelay",
        "PICK_FLOOR",
        "pickFloor",
        "PICK_LANGB",
        "pickLangb",
        "PICK_ORATOR",
        "pickOrator",
        "RELAY_USER",
        "UserService",
        "relayUser",
        "START_TIME_USER",
        "Member",
        "updateIsStartTime",
        "START_HANDRAISED_USER",
        "uploadHandRaised",
        "CONTROL_MIKES",
        "uploadControlMikes",
        "SLOW_SPEAK",
        "slowSpeak",
        "BBB_ON",
        "Sender",
        "bbbOn",
        "BBB_OFF",
        "bbbOff",
        "SET_VOLUME_IN",
        "setVolumeIn",
        "UPDATE_USER_STATE",
        "user",
        "find",
        "id",
        "updateUserState",
        "prop",
        "informChangeOnMediaSettings",
        "userState",
        "mediaSettings",
        "TOGGLE_RAISE_HAND",
        "toggleRaiseHand",
        "TOGGLE_CONTROL_MIKE",
        "toggleControlMike",
        "console",
        "log",
        "e",
        "error"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/client/",
      "sourcesContent": [
        "import Socket from '.'\nimport User from '../../models/user'\nimport UserService from '../../services/users'\nimport Freeswitch from '../../services/freeswitch'\nimport Esl from '../../esl'\nimport * as Sender from '../admin/sender'\nimport Member from '../../models/member'\n\nexport default (event, client, data) => {\n  // TODO add pundut style authorization\n  try {\n    switch (event) {\n      case Socket.NEW_USER:\n        User.add(client, data)\n        break\n      case Socket.MUTE_SPEAK: {\n        const { memberId, roomId } = data\n        Esl.muteSpeak(memberId, roomId)\n        break\n      }\n      case Socket.UNMUTE_SPEAK: {\n        const { memberId, roomId } = data\n        Esl.unmuteSpeak(memberId, roomId)\n        break\n      }\n      case Socket.MUTE_HEAR: {\n        const { memberId, roomId } = data\n        Esl.muteHear(memberId, roomId)\n        break\n      }\n      case Socket.UNMUTE_HEAR: {\n        const { memberId, roomId } = data\n        Esl.unmuteHear(memberId, roomId)\n        break\n      }\n      case Socket.TOGGLE_SPEAK_SELF:\n        Freeswitch.toggleSpeakSelf(data)\n        break\n      case Socket.TOGGLE_HEAR_SELF:\n        Freeswitch.toggleHearSelf(data)\n        break\n      case Socket.TOGGLE_SPEAK_MEMBER:\n        Freeswitch.toggleSpeakMember(data)\n        break\n      case Socket.TOGGLE_HEAR_MEMBER:\n        Freeswitch.toggleHearMember(data)\n        break\n      case Socket.CHANGE_CURRENT_ROOM:\n        Freeswitch.changeRegularRoom(data)\n        break\n      case Socket.SWITCH_ROOMS:\n        Freeswitch.switchRooms(data)\n        break\n      case Socket.JOIN_LOUNGE:\n        Freeswitch.joinLounge(data)\n        break\n      case Socket.LEAVE_LOUNGE:\n        Freeswitch.leaveLounge(data)\n        break\n      case Socket.PICK_RELAY:\n        Freeswitch.pickRelay(data)\n        break\n      case Socket.PICK_FLOOR:\n        Freeswitch.pickFloor(data)\n        break\n      case Socket.PICK_LANGB:\n        Freeswitch.pickLangb(data)\n        break\n      case Socket.PICK_ORATOR:\n        Freeswitch.pickOrator(data)\n        break\n      case Socket.RELAY_USER:\n        UserService.relayUser(data)\n        break\n      case Socket.START_TIME_USER:\n        Member.updateIsStartTime(data)\n        break\n      case Socket.START_HANDRAISED_USER:\n        Member.uploadHandRaised(data)\n        break  \n      case Socket.CONTROL_MIKES:\n        Member.uploadControlMikes(data)\n      case Socket.SLOW_SPEAK:\n        Member.slowSpeak(data)\n        break  \n      case Socket.BBB_ON:\n        Sender.bbbOn(data)\n        break\n      case Socket.BBB_OFF:\n        Sender.bbbOff(data)\n        break\n      case Socket.SET_VOLUME_IN:\n        Freeswitch.setVolumeIn(data)\n        break\n      case Socket.UPDATE_USER_STATE: {\n        const user = User.find(client.user.id)\n        user.updateUserState(data)\n        const { prop } = data\n        switch (prop) {\n          case 'mediaSettings':\n            Sender.informChangeOnMediaSettings(user.id, user.userState.mediaSettings)\n            break;\n        }\n        break\n      }\n      case Socket.TOGGLE_RAISE_HAND: {\n        const user = User.find(client.user.id)\n        user.toggleRaiseHand(data)\n        break\n      }\n      case Socket.TOGGLE_CONTROL_MIKE: {\n        const user = User.find(client.user.id)\n        user.toggleControlMike()\n        break\n      }\n      default:\n        console.log(`Socket: no such event: ${event}`)\n    }\n  } catch (e) {\n    console.error(`Error: ${e}`)\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/services/users.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/users.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/users.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/users.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/",
        "sourceFileName": "users.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _adjustments = _interopRequireDefault(require(\"../libs/adjustments\"));\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nvar _member = _interopRequireDefault(require(\"../models/member\"));\n\nvar _socket = require(\"../socket\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// TODO get rid of class\nclass UsersService {}\n\nexports.default = UsersService;\n\n_defineProperty(UsersService, \"add\", user => {\n  _socket.Sender.newUser(user.channels.self, user);\n\n  _socket.Sender.changeMembers(user.channels.self, _member.default.byRoom(...user.channels.rooms));\n\n  _socket.Sender.adjustments(user.channels.self, _adjustments.default);\n});\n\n_defineProperty(UsersService, \"update\", user => {\n  UsersService.updateProfile(user);\n  user.members.forEach(member => {\n    _socket.Sender.updateMember(member.roomId, member);\n  });\n});\n\n_defineProperty(UsersService, \"updateProfile\", user => {\n  _socket.Sender.updateProfile(user.channels.self, user);\n});\n\n_defineProperty(UsersService, \"relayUser\", ({\n  userId,\n  msg\n}) => {\n  const user = _user.default.find(userId);\n\n  _member.default.all.forEach(m => {\n    if (m.user.id == userId) {\n      m.moderatorStatus = msg;\n    }\n  });\n\n  const {\n    first,\n    second\n  } = user.rooms;\n\n  const list = _user.default.all.filter(u => u.id !== user.id && [u.rooms.first, u.rooms.second].sort().join() === [first, second].sort().join());\n\n  list.forEach(u => {\n    _socket.Sender.makeRelay(u.channels.self);\n\n    _socket.Sender.notify(u.channels.self, {\n      msg,\n      userId\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbIlVzZXJzU2VydmljZSIsInVzZXIiLCJTZW5kZXIiLCJuZXdVc2VyIiwiY2hhbm5lbHMiLCJzZWxmIiwiY2hhbmdlTWVtYmVycyIsIk1lbWJlciIsImJ5Um9vbSIsInJvb21zIiwiYWRqdXN0bWVudHMiLCJBZGp1c3RtZW50cyIsInVwZGF0ZVByb2ZpbGUiLCJtZW1iZXJzIiwiZm9yRWFjaCIsIm1lbWJlciIsInVwZGF0ZU1lbWJlciIsInJvb21JZCIsInVzZXJJZCIsIm1zZyIsIlVzZXIiLCJmaW5kIiwiYWxsIiwibSIsImlkIiwibW9kZXJhdG9yU3RhdHVzIiwiZmlyc3QiLCJzZWNvbmQiLCJsaXN0IiwiZmlsdGVyIiwidSIsInNvcnQiLCJqb2luIiwibWFrZVJlbGF5Iiwibm90aWZ5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVBO0FBQ2UsTUFBTUEsWUFBTixDQUFtQjs7OztnQkFBYkEsWSxTQUNMQyxJQUFELElBQVU7QUFDckJDLGlCQUFPQyxPQUFQLENBQWVGLElBQUksQ0FBQ0csUUFBTCxDQUFjQyxJQUE3QixFQUFtQ0osSUFBbkM7O0FBQ0FDLGlCQUFPSSxhQUFQLENBQXFCTCxJQUFJLENBQUNHLFFBQUwsQ0FBY0MsSUFBbkMsRUFBeUNFLGdCQUFPQyxNQUFQLENBQWMsR0FBR1AsSUFBSSxDQUFDRyxRQUFMLENBQWNLLEtBQS9CLENBQXpDOztBQUNBUCxpQkFBT1EsV0FBUCxDQUFtQlQsSUFBSSxDQUFDRyxRQUFMLENBQWNDLElBQWpDLEVBQXVDTSxvQkFBdkM7QUFDRCxDOztnQkFMa0JYLFksWUFPRkMsSUFBRCxJQUFVO0FBQ3hCRCxFQUFBQSxZQUFZLENBQUNZLGFBQWIsQ0FBMkJYLElBQTNCO0FBQ0FBLEVBQUFBLElBQUksQ0FBQ1ksT0FBTCxDQUFhQyxPQUFiLENBQXNCQyxNQUFELElBQVk7QUFDL0JiLG1CQUFPYyxZQUFQLENBQW9CRCxNQUFNLENBQUNFLE1BQTNCLEVBQW1DRixNQUFuQztBQUNELEdBRkQ7QUFHRCxDOztnQkFaa0JmLFksbUJBY0tDLElBQUQsSUFBVTtBQUMvQkMsaUJBQU9VLGFBQVAsQ0FBcUJYLElBQUksQ0FBQ0csUUFBTCxDQUFjQyxJQUFuQyxFQUF5Q0osSUFBekM7QUFDRCxDOztnQkFoQmtCRCxZLGVBa0JBLENBQUM7QUFBRWtCLEVBQUFBLE1BQUY7QUFBVUMsRUFBQUE7QUFBVixDQUFELEtBQXFCO0FBQ3RDLFFBQU1sQixJQUFJLEdBQUdtQixjQUFLQyxJQUFMLENBQVVILE1BQVYsQ0FBYjs7QUFDQVgsa0JBQU9lLEdBQVAsQ0FBV1IsT0FBWCxDQUFtQlMsQ0FBQyxJQUFJO0FBQ3RCLFFBQUlBLENBQUMsQ0FBQ3RCLElBQUYsQ0FBT3VCLEVBQVAsSUFBYU4sTUFBakIsRUFBeUI7QUFDdkJLLE1BQUFBLENBQUMsQ0FBQ0UsZUFBRixHQUFvQk4sR0FBcEI7QUFDRDtBQUNGLEdBSkQ7O0FBS0EsUUFBTTtBQUFFTyxJQUFBQSxLQUFGO0FBQVNDLElBQUFBO0FBQVQsTUFBb0IxQixJQUFJLENBQUNRLEtBQS9COztBQUNBLFFBQU1tQixJQUFJLEdBQUdSLGNBQUtFLEdBQUwsQ0FBU08sTUFBVCxDQUFnQkMsQ0FBQyxJQUFJQSxDQUFDLENBQUNOLEVBQUYsS0FBU3ZCLElBQUksQ0FBQ3VCLEVBQWQsSUFDNUIsQ0FBQ00sQ0FBQyxDQUFDckIsS0FBRixDQUFRaUIsS0FBVCxFQUFnQkksQ0FBQyxDQUFDckIsS0FBRixDQUFRa0IsTUFBeEIsRUFBZ0NJLElBQWhDLEdBQXVDQyxJQUF2QyxPQUFrRCxDQUFDTixLQUFELEVBQVFDLE1BQVIsRUFBZ0JJLElBQWhCLEdBQXVCQyxJQUF2QixFQUQzQyxDQUFiOztBQUVBSixFQUFBQSxJQUFJLENBQUNkLE9BQUwsQ0FBY2dCLENBQUQsSUFBTztBQUNsQjVCLG1CQUFPK0IsU0FBUCxDQUFpQkgsQ0FBQyxDQUFDMUIsUUFBRixDQUFXQyxJQUE1Qjs7QUFDQUgsbUJBQU9nQyxNQUFQLENBQWNKLENBQUMsQ0FBQzFCLFFBQUYsQ0FBV0MsSUFBekIsRUFBK0I7QUFBQ2MsTUFBQUEsR0FBRDtBQUFNRCxNQUFBQTtBQUFOLEtBQS9CO0FBQ0QsR0FIRDtBQUlELEMiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvd2VicGhvbmUtbm9kZS9zcmMvc2VydmljZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFkanVzdG1lbnRzIGZyb20gJy4uL2xpYnMvYWRqdXN0bWVudHMnXG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbHMvdXNlcidcbmltcG9ydCBNZW1iZXIgZnJvbSAnLi4vbW9kZWxzL21lbWJlcidcbmltcG9ydCB7IFNlbmRlciB9IGZyb20gJy4uL3NvY2tldCdcblxuLy8gVE9ETyBnZXQgcmlkIG9mIGNsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2Vyc1NlcnZpY2Uge1xuICBzdGF0aWMgYWRkID0gKHVzZXIpID0+IHtcbiAgICBTZW5kZXIubmV3VXNlcih1c2VyLmNoYW5uZWxzLnNlbGYsIHVzZXIpXG4gICAgU2VuZGVyLmNoYW5nZU1lbWJlcnModXNlci5jaGFubmVscy5zZWxmLCBNZW1iZXIuYnlSb29tKC4uLnVzZXIuY2hhbm5lbHMucm9vbXMpKVxuICAgIFNlbmRlci5hZGp1c3RtZW50cyh1c2VyLmNoYW5uZWxzLnNlbGYsIEFkanVzdG1lbnRzKVxuICB9XG5cbiAgc3RhdGljIHVwZGF0ZSA9ICh1c2VyKSA9PiB7XG4gICAgVXNlcnNTZXJ2aWNlLnVwZGF0ZVByb2ZpbGUodXNlcilcbiAgICB1c2VyLm1lbWJlcnMuZm9yRWFjaCgobWVtYmVyKSA9PiB7XG4gICAgICBTZW5kZXIudXBkYXRlTWVtYmVyKG1lbWJlci5yb29tSWQsIG1lbWJlcilcbiAgICB9KVxuICB9XG5cbiAgc3RhdGljIHVwZGF0ZVByb2ZpbGUgPSAodXNlcikgPT4ge1xuICAgIFNlbmRlci51cGRhdGVQcm9maWxlKHVzZXIuY2hhbm5lbHMuc2VsZiwgdXNlcilcbiAgfVxuXG4gIHN0YXRpYyByZWxheVVzZXIgPSAoeyB1c2VySWQsIG1zZyB9KSA9PiB7XG4gICAgY29uc3QgdXNlciA9IFVzZXIuZmluZCh1c2VySWQpXG4gICAgTWVtYmVyLmFsbC5mb3JFYWNoKG0gPT4ge1xuICAgICAgaWYgKG0udXNlci5pZCA9PSB1c2VySWQpIHtcbiAgICAgICAgbS5tb2RlcmF0b3JTdGF0dXMgPSBtc2dcbiAgICAgIH1cbiAgICB9KVxuICAgIGNvbnN0IHsgZmlyc3QsIHNlY29uZCB9ID0gdXNlci5yb29tc1xuICAgIGNvbnN0IGxpc3QgPSBVc2VyLmFsbC5maWx0ZXIodSA9PiB1LmlkICE9PSB1c2VyLmlkXG4gICAgICAmJiAoW3Uucm9vbXMuZmlyc3QsIHUucm9vbXMuc2Vjb25kXS5zb3J0KCkuam9pbigpID09PSBbZmlyc3QsIHNlY29uZF0uc29ydCgpLmpvaW4oKSkpXG4gICAgbGlzdC5mb3JFYWNoKCh1KSA9PiB7XG4gICAgICBTZW5kZXIubWFrZVJlbGF5KHUuY2hhbm5lbHMuc2VsZilcbiAgICAgIFNlbmRlci5ub3RpZnkodS5jaGFubmVscy5zZWxmLCB7bXNnLCB1c2VySWQgfSlcbiAgICB9KVxuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "UsersService",
        "user",
        "Sender",
        "newUser",
        "channels",
        "self",
        "changeMembers",
        "Member",
        "byRoom",
        "rooms",
        "adjustments",
        "Adjustments",
        "updateProfile",
        "members",
        "forEach",
        "member",
        "updateMember",
        "roomId",
        "userId",
        "msg",
        "User",
        "find",
        "all",
        "m",
        "id",
        "moderatorStatus",
        "first",
        "second",
        "list",
        "filter",
        "u",
        "sort",
        "join",
        "makeRelay",
        "notify"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;AAEA;AACe,MAAMA,YAAN,CAAmB;;;;gBAAbA,Y,SACLC,IAAD,IAAU;AACrBC,iBAAOC,OAAP,CAAeF,IAAI,CAACG,QAAL,CAAcC,IAA7B,EAAmCJ,IAAnC;;AACAC,iBAAOI,aAAP,CAAqBL,IAAI,CAACG,QAAL,CAAcC,IAAnC,EAAyCE,gBAAOC,MAAP,CAAc,GAAGP,IAAI,CAACG,QAAL,CAAcK,KAA/B,CAAzC;;AACAP,iBAAOQ,WAAP,CAAmBT,IAAI,CAACG,QAAL,CAAcC,IAAjC,EAAuCM,oBAAvC;AACD,C;;gBALkBX,Y,YAOFC,IAAD,IAAU;AACxBD,EAAAA,YAAY,CAACY,aAAb,CAA2BX,IAA3B;AACAA,EAAAA,IAAI,CAACY,OAAL,CAAaC,OAAb,CAAsBC,MAAD,IAAY;AAC/Bb,mBAAOc,YAAP,CAAoBD,MAAM,CAACE,MAA3B,EAAmCF,MAAnC;AACD,GAFD;AAGD,C;;gBAZkBf,Y,mBAcKC,IAAD,IAAU;AAC/BC,iBAAOU,aAAP,CAAqBX,IAAI,CAACG,QAAL,CAAcC,IAAnC,EAAyCJ,IAAzC;AACD,C;;gBAhBkBD,Y,eAkBA,CAAC;AAAEkB,EAAAA,MAAF;AAAUC,EAAAA;AAAV,CAAD,KAAqB;AACtC,QAAMlB,IAAI,GAAGmB,cAAKC,IAAL,CAAUH,MAAV,CAAb;;AACAX,kBAAOe,GAAP,CAAWR,OAAX,CAAmBS,CAAC,IAAI;AACtB,QAAIA,CAAC,CAACtB,IAAF,CAAOuB,EAAP,IAAaN,MAAjB,EAAyB;AACvBK,MAAAA,CAAC,CAACE,eAAF,GAAoBN,GAApB;AACD;AACF,GAJD;;AAKA,QAAM;AAAEO,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAoB1B,IAAI,CAACQ,KAA/B;;AACA,QAAMmB,IAAI,GAAGR,cAAKE,GAAL,CAASO,MAAT,CAAgBC,CAAC,IAAIA,CAAC,CAACN,EAAF,KAASvB,IAAI,CAACuB,EAAd,IAC5B,CAACM,CAAC,CAACrB,KAAF,CAAQiB,KAAT,EAAgBI,CAAC,CAACrB,KAAF,CAAQkB,MAAxB,EAAgCI,IAAhC,GAAuCC,IAAvC,OAAkD,CAACN,KAAD,EAAQC,MAAR,EAAgBI,IAAhB,GAAuBC,IAAvB,EAD3C,CAAb;;AAEAJ,EAAAA,IAAI,CAACd,OAAL,CAAcgB,CAAD,IAAO;AAClB5B,mBAAO+B,SAAP,CAAiBH,CAAC,CAAC1B,QAAF,CAAWC,IAA5B;;AACAH,mBAAOgC,MAAP,CAAcJ,CAAC,CAAC1B,QAAF,CAAWC,IAAzB,EAA+B;AAACc,MAAAA,GAAD;AAAMD,MAAAA;AAAN,KAA/B;AACD,GAHD;AAID,C",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/",
      "sourcesContent": [
        "import Adjustments from '../libs/adjustments'\nimport User from '../models/user'\nimport Member from '../models/member'\nimport { Sender } from '../socket'\n\n// TODO get rid of class\nexport default class UsersService {\n  static add = (user) => {\n    Sender.newUser(user.channels.self, user)\n    Sender.changeMembers(user.channels.self, Member.byRoom(...user.channels.rooms))\n    Sender.adjustments(user.channels.self, Adjustments)\n  }\n\n  static update = (user) => {\n    UsersService.updateProfile(user)\n    user.members.forEach((member) => {\n      Sender.updateMember(member.roomId, member)\n    })\n  }\n\n  static updateProfile = (user) => {\n    Sender.updateProfile(user.channels.self, user)\n  }\n\n  static relayUser = ({ userId, msg }) => {\n    const user = User.find(userId)\n    Member.all.forEach(m => {\n      if (m.user.id == userId) {\n        m.moderatorStatus = msg\n      }\n    })\n    const { first, second } = user.rooms\n    const list = User.all.filter(u => u.id !== user.id\n      && ([u.rooms.first, u.rooms.second].sort().join() === [first, second].sort().join()))\n    list.forEach((u) => {\n      Sender.makeRelay(u.channels.self)\n      Sender.notify(u.channels.self, {msg, userId })\n    })\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/libs/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/libs/adjustments.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/libs/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/libs/adjustments.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/libs/adjustments.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/libs/adjustments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/libs/",
        "sourceFileName": "adjustments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nvar _freeswitch = _interopRequireDefault(require(\"../services/freeswitch\"));\n\nvar _socket = _interopRequireWildcard(require(\"../socket\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass Adjustments {\n  constructor() {\n    if (Adjustments.instance) {\n      return Adjustments.instance;\n    }\n\n    this.demoMode = false;\n    this.meetings = {};\n    Adjustments.instance = this;\n  }\n\n  toggle(name) {\n    const previous = !!this[name];\n    this[name] = !this[name];\n\n    switch (name) {\n      case 'demoMode':\n        if (!previous) {\n          _user.default.all.filter(user => user.isRegular() && user.isSpeak()).forEach(user => _freeswitch.default.muteSpeakRegular(user));\n        }\n\n        break;\n\n      default:\n        console.log('No Adjustments to toggle');\n        return;\n    }\n\n    this.notify();\n  }\n\n  toggleMeeting(name, meetingId) {\n    if (!this.meetings[meetingId]) this.meetings[meetingId] = {};\n    const meeting = this.meetings[meetingId];\n    const previous = !!meeting[name];\n    meeting[name] = !meeting[name];\n\n    switch (name) {\n      case 'floorDisabled':\n        _user.default.all.filter(user => user.isModerator() && (user.isFloorHear() || user.inOratorRoom())).forEach(user => _freeswitch.default.pickState(user, 'RELAY'));\n\n        _freeswitch.default.handleFloorForMeeting(meetingId);\n\n        break;\n\n      default:\n        console.log('No Adjustments to toggle');\n        return;\n    }\n\n    this.notify();\n  }\n\n  notify() {\n    _socket.Sender.adjustments(_socket.default.PUBLIC_CHANNEL, this);\n\n    _socket.AdminSender.adjustments(this);\n  }\n\n  toJSON() {\n    return {\n      demoMode: this.demoMode,\n      meetings: this.meetings\n    };\n  }\n\n}\n\n_defineProperty(Adjustments, \"instance\", void 0);\n\nvar _default = new Adjustments();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkanVzdG1lbnRzLmpzIl0sIm5hbWVzIjpbIkFkanVzdG1lbnRzIiwiY29uc3RydWN0b3IiLCJpbnN0YW5jZSIsImRlbW9Nb2RlIiwibWVldGluZ3MiLCJ0b2dnbGUiLCJuYW1lIiwicHJldmlvdXMiLCJVc2VyIiwiYWxsIiwiZmlsdGVyIiwidXNlciIsImlzUmVndWxhciIsImlzU3BlYWsiLCJmb3JFYWNoIiwiRnJlZXN3aXRjaCIsIm11dGVTcGVha1JlZ3VsYXIiLCJjb25zb2xlIiwibG9nIiwibm90aWZ5IiwidG9nZ2xlTWVldGluZyIsIm1lZXRpbmdJZCIsIm1lZXRpbmciLCJpc01vZGVyYXRvciIsImlzRmxvb3JIZWFyIiwiaW5PcmF0b3JSb29tIiwicGlja1N0YXRlIiwiaGFuZGxlRmxvb3JGb3JNZWV0aW5nIiwiU2VuZGVyIiwiYWRqdXN0bWVudHMiLCJTb2NrZXQiLCJQVUJMSUNfQ0hBTk5FTCIsIkFkbWluU2VuZGVyIiwidG9KU09OIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7QUFFQSxNQUFNQSxXQUFOLENBQWtCO0FBR2hCQyxFQUFBQSxXQUFXLEdBQUc7QUFDWixRQUFJRCxXQUFXLENBQUNFLFFBQWhCLEVBQTBCO0FBQ3hCLGFBQU9GLFdBQVcsQ0FBQ0UsUUFBbkI7QUFDRDs7QUFDRCxTQUFLQyxRQUFMLEdBQWdCLEtBQWhCO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQixFQUFoQjtBQUNBSixJQUFBQSxXQUFXLENBQUNFLFFBQVosR0FBdUIsSUFBdkI7QUFDRDs7QUFFREcsRUFBQUEsTUFBTSxDQUFDQyxJQUFELEVBQU87QUFDWCxVQUFNQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEtBQUtELElBQUwsQ0FBbkI7QUFDQSxTQUFLQSxJQUFMLElBQWEsQ0FBQyxLQUFLQSxJQUFMLENBQWQ7O0FBQ0EsWUFBUUEsSUFBUjtBQUNFLFdBQUssVUFBTDtBQUNFLFlBQUksQ0FBQ0MsUUFBTCxFQUFlO0FBQ2JDLHdCQUFLQyxHQUFMLENBQ0dDLE1BREgsQ0FDVUMsSUFBSSxJQUFJQSxJQUFJLENBQUNDLFNBQUwsTUFBb0JELElBQUksQ0FBQ0UsT0FBTCxFQUR0QyxFQUVHQyxPQUZILENBRVdILElBQUksSUFBSUksb0JBQVdDLGdCQUFYLENBQTRCTCxJQUE1QixDQUZuQjtBQUdEOztBQUNEOztBQUNGO0FBQ0VNLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDBCQUFaO0FBQ0E7QUFWSjs7QUFZQSxTQUFLQyxNQUFMO0FBQ0Q7O0FBRURDLEVBQUFBLGFBQWEsQ0FBQ2QsSUFBRCxFQUFPZSxTQUFQLEVBQWtCO0FBQzdCLFFBQUcsQ0FBQyxLQUFLakIsUUFBTCxDQUFjaUIsU0FBZCxDQUFKLEVBQThCLEtBQUtqQixRQUFMLENBQWNpQixTQUFkLElBQTJCLEVBQTNCO0FBQzlCLFVBQU1DLE9BQU8sR0FBRyxLQUFLbEIsUUFBTCxDQUFjaUIsU0FBZCxDQUFoQjtBQUNBLFVBQU1kLFFBQVEsR0FBRyxDQUFDLENBQUNlLE9BQU8sQ0FBQ2hCLElBQUQsQ0FBMUI7QUFDQWdCLElBQUFBLE9BQU8sQ0FBQ2hCLElBQUQsQ0FBUCxHQUFnQixDQUFDZ0IsT0FBTyxDQUFDaEIsSUFBRCxDQUF4Qjs7QUFDQSxZQUFRQSxJQUFSO0FBQ0UsV0FBSyxlQUFMO0FBQ0VFLHNCQUFLQyxHQUFMLENBQ0dDLE1BREgsQ0FDVUMsSUFBSSxJQUFJQSxJQUFJLENBQUNZLFdBQUwsT0FBdUJaLElBQUksQ0FBQ2EsV0FBTCxNQUFzQmIsSUFBSSxDQUFDYyxZQUFMLEVBQTdDLENBRGxCLEVBRUdYLE9BRkgsQ0FFV0gsSUFBSSxJQUFJSSxvQkFBV1csU0FBWCxDQUFxQmYsSUFBckIsRUFBMkIsT0FBM0IsQ0FGbkI7O0FBR0FJLDRCQUFXWSxxQkFBWCxDQUFpQ04sU0FBakM7O0FBQ0E7O0FBQ0Y7QUFDRUosUUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksMEJBQVo7QUFDQTtBQVRKOztBQVdBLFNBQUtDLE1BQUw7QUFDRDs7QUFHREEsRUFBQUEsTUFBTSxHQUFHO0FBQ1BTLG1CQUFPQyxXQUFQLENBQW1CQyxnQkFBT0MsY0FBMUIsRUFBMEMsSUFBMUM7O0FBQ0FDLHdCQUFZSCxXQUFaLENBQXdCLElBQXhCO0FBQ0Q7O0FBRURJLEVBQUFBLE1BQU0sR0FBRztBQUNQLFdBQU87QUFDTDlCLE1BQUFBLFFBQVEsRUFBRSxLQUFLQSxRQURWO0FBRUxDLE1BQUFBLFFBQVEsRUFBRSxLQUFLQTtBQUZWLEtBQVA7QUFJRDs7QUE1RGU7O2dCQUFaSixXOztlQStEUyxJQUFJQSxXQUFKLEUiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvd2VicGhvbmUtbm9kZS9zcmMvbGlicy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbHMvdXNlcidcbmltcG9ydCBGcmVlc3dpdGNoIGZyb20gJy4uL3NlcnZpY2VzL2ZyZWVzd2l0Y2gnXG5pbXBvcnQgU29ja2V0LCB7IFNlbmRlciwgQWRtaW5TZW5kZXIgfSBmcm9tICcuLi9zb2NrZXQnXG5cbmNsYXNzIEFkanVzdG1lbnRzIHtcbiAgc3RhdGljIGluc3RhbmNlXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgaWYgKEFkanVzdG1lbnRzLmluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gQWRqdXN0bWVudHMuaW5zdGFuY2VcbiAgICB9XG4gICAgdGhpcy5kZW1vTW9kZSA9IGZhbHNlXG4gICAgdGhpcy5tZWV0aW5ncyA9IHt9XG4gICAgQWRqdXN0bWVudHMuaW5zdGFuY2UgPSB0aGlzXG4gIH1cblxuICB0b2dnbGUobmFtZSkge1xuICAgIGNvbnN0IHByZXZpb3VzID0gISF0aGlzW25hbWVdXG4gICAgdGhpc1tuYW1lXSA9ICF0aGlzW25hbWVdXG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlICdkZW1vTW9kZSc6XG4gICAgICAgIGlmICghcHJldmlvdXMpIHtcbiAgICAgICAgICBVc2VyLmFsbFxuICAgICAgICAgICAgLmZpbHRlcih1c2VyID0+IHVzZXIuaXNSZWd1bGFyKCkgJiYgdXNlci5pc1NwZWFrKCkpXG4gICAgICAgICAgICAuZm9yRWFjaCh1c2VyID0+IEZyZWVzd2l0Y2gubXV0ZVNwZWFrUmVndWxhcih1c2VyKSlcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5sb2coJ05vIEFkanVzdG1lbnRzIHRvIHRvZ2dsZScpXG4gICAgICAgIHJldHVyblxuICAgIH1cbiAgICB0aGlzLm5vdGlmeSgpXG4gIH1cblxuICB0b2dnbGVNZWV0aW5nKG5hbWUsIG1lZXRpbmdJZCkge1xuICAgIGlmKCF0aGlzLm1lZXRpbmdzW21lZXRpbmdJZF0pIHRoaXMubWVldGluZ3NbbWVldGluZ0lkXSA9IHt9O1xuICAgIGNvbnN0IG1lZXRpbmcgPSB0aGlzLm1lZXRpbmdzW21lZXRpbmdJZF1cbiAgICBjb25zdCBwcmV2aW91cyA9ICEhbWVldGluZ1tuYW1lXVxuICAgIG1lZXRpbmdbbmFtZV0gPSAhbWVldGluZ1tuYW1lXVxuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSAnZmxvb3JEaXNhYmxlZCc6XG4gICAgICAgIFVzZXIuYWxsXG4gICAgICAgICAgLmZpbHRlcih1c2VyID0+IHVzZXIuaXNNb2RlcmF0b3IoKSAmJiAodXNlci5pc0Zsb29ySGVhcigpIHx8IHVzZXIuaW5PcmF0b3JSb29tKCkpKVxuICAgICAgICAgIC5mb3JFYWNoKHVzZXIgPT4gRnJlZXN3aXRjaC5waWNrU3RhdGUodXNlciwgJ1JFTEFZJykpXG4gICAgICAgIEZyZWVzd2l0Y2guaGFuZGxlRmxvb3JGb3JNZWV0aW5nKG1lZXRpbmdJZClcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUubG9nKCdObyBBZGp1c3RtZW50cyB0byB0b2dnbGUnKVxuICAgICAgICByZXR1cm5cbiAgICB9XG4gICAgdGhpcy5ub3RpZnkoKVxuICB9XG5cblxuICBub3RpZnkoKSB7XG4gICAgU2VuZGVyLmFkanVzdG1lbnRzKFNvY2tldC5QVUJMSUNfQ0hBTk5FTCwgdGhpcylcbiAgICBBZG1pblNlbmRlci5hZGp1c3RtZW50cyh0aGlzKVxuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBkZW1vTW9kZTogdGhpcy5kZW1vTW9kZSxcbiAgICAgIG1lZXRpbmdzOiB0aGlzLm1lZXRpbmdzXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBBZGp1c3RtZW50cygpXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "adjustments.js"
      ],
      "names": [
        "Adjustments",
        "constructor",
        "instance",
        "demoMode",
        "meetings",
        "toggle",
        "name",
        "previous",
        "User",
        "all",
        "filter",
        "user",
        "isRegular",
        "isSpeak",
        "forEach",
        "Freeswitch",
        "muteSpeakRegular",
        "console",
        "log",
        "notify",
        "toggleMeeting",
        "meetingId",
        "meeting",
        "isModerator",
        "isFloorHear",
        "inOratorRoom",
        "pickState",
        "handleFloorForMeeting",
        "Sender",
        "adjustments",
        "Socket",
        "PUBLIC_CHANNEL",
        "AdminSender",
        "toJSON"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;AAEA,MAAMA,WAAN,CAAkB;AAGhBC,EAAAA,WAAW,GAAG;AACZ,QAAID,WAAW,CAACE,QAAhB,EAA0B;AACxB,aAAOF,WAAW,CAACE,QAAnB;AACD;;AACD,SAAKC,QAAL,GAAgB,KAAhB;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACAJ,IAAAA,WAAW,CAACE,QAAZ,GAAuB,IAAvB;AACD;;AAEDG,EAAAA,MAAM,CAACC,IAAD,EAAO;AACX,UAAMC,QAAQ,GAAG,CAAC,CAAC,KAAKD,IAAL,CAAnB;AACA,SAAKA,IAAL,IAAa,CAAC,KAAKA,IAAL,CAAd;;AACA,YAAQA,IAAR;AACE,WAAK,UAAL;AACE,YAAI,CAACC,QAAL,EAAe;AACbC,wBAAKC,GAAL,CACGC,MADH,CACUC,IAAI,IAAIA,IAAI,CAACC,SAAL,MAAoBD,IAAI,CAACE,OAAL,EADtC,EAEGC,OAFH,CAEWH,IAAI,IAAII,oBAAWC,gBAAX,CAA4BL,IAA5B,CAFnB;AAGD;;AACD;;AACF;AACEM,QAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACA;AAVJ;;AAYA,SAAKC,MAAL;AACD;;AAEDC,EAAAA,aAAa,CAACd,IAAD,EAAOe,SAAP,EAAkB;AAC7B,QAAG,CAAC,KAAKjB,QAAL,CAAciB,SAAd,CAAJ,EAA8B,KAAKjB,QAAL,CAAciB,SAAd,IAA2B,EAA3B;AAC9B,UAAMC,OAAO,GAAG,KAAKlB,QAAL,CAAciB,SAAd,CAAhB;AACA,UAAMd,QAAQ,GAAG,CAAC,CAACe,OAAO,CAAChB,IAAD,CAA1B;AACAgB,IAAAA,OAAO,CAAChB,IAAD,CAAP,GAAgB,CAACgB,OAAO,CAAChB,IAAD,CAAxB;;AACA,YAAQA,IAAR;AACE,WAAK,eAAL;AACEE,sBAAKC,GAAL,CACGC,MADH,CACUC,IAAI,IAAIA,IAAI,CAACY,WAAL,OAAuBZ,IAAI,CAACa,WAAL,MAAsBb,IAAI,CAACc,YAAL,EAA7C,CADlB,EAEGX,OAFH,CAEWH,IAAI,IAAII,oBAAWW,SAAX,CAAqBf,IAArB,EAA2B,OAA3B,CAFnB;;AAGAI,4BAAWY,qBAAX,CAAiCN,SAAjC;;AACA;;AACF;AACEJ,QAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACA;AATJ;;AAWA,SAAKC,MAAL;AACD;;AAGDA,EAAAA,MAAM,GAAG;AACPS,mBAAOC,WAAP,CAAmBC,gBAAOC,cAA1B,EAA0C,IAA1C;;AACAC,wBAAYH,WAAZ,CAAwB,IAAxB;AACD;;AAEDI,EAAAA,MAAM,GAAG;AACP,WAAO;AACL9B,MAAAA,QAAQ,EAAE,KAAKA,QADV;AAELC,MAAAA,QAAQ,EAAE,KAAKA;AAFV,KAAP;AAID;;AA5De;;gBAAZJ,W;;eA+DS,IAAIA,WAAJ,E",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/libs/",
      "sourcesContent": [
        "import User from '../models/user'\nimport Freeswitch from '../services/freeswitch'\nimport Socket, { Sender, AdminSender } from '../socket'\n\nclass Adjustments {\n  static instance\n\n  constructor() {\n    if (Adjustments.instance) {\n      return Adjustments.instance\n    }\n    this.demoMode = false\n    this.meetings = {}\n    Adjustments.instance = this\n  }\n\n  toggle(name) {\n    const previous = !!this[name]\n    this[name] = !this[name]\n    switch (name) {\n      case 'demoMode':\n        if (!previous) {\n          User.all\n            .filter(user => user.isRegular() && user.isSpeak())\n            .forEach(user => Freeswitch.muteSpeakRegular(user))\n        }\n        break\n      default:\n        console.log('No Adjustments to toggle')\n        return\n    }\n    this.notify()\n  }\n\n  toggleMeeting(name, meetingId) {\n    if(!this.meetings[meetingId]) this.meetings[meetingId] = {};\n    const meeting = this.meetings[meetingId]\n    const previous = !!meeting[name]\n    meeting[name] = !meeting[name]\n    switch (name) {\n      case 'floorDisabled':\n        User.all\n          .filter(user => user.isModerator() && (user.isFloorHear() || user.inOratorRoom()))\n          .forEach(user => Freeswitch.pickState(user, 'RELAY'))\n        Freeswitch.handleFloorForMeeting(meetingId)\n        break\n      default:\n        console.log('No Adjustments to toggle')\n        return\n    }\n    this.notify()\n  }\n\n\n  notify() {\n    Sender.adjustments(Socket.PUBLIC_CHANNEL, this)\n    AdminSender.adjustments(this)\n  }\n\n  toJSON() {\n    return {\n      demoMode: this.demoMode,\n      meetings: this.meetings\n    }\n  }\n}\n\nexport default new Adjustments()\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/services/freeswitch.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/freeswitch.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/freeswitch.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/freeswitch.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/",
        "sourceFileName": "freeswitch.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _esl = _interopRequireDefault(require(\"../esl\"));\n\nvar _adjustments = _interopRequireDefault(require(\"../libs/adjustments\"));\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nvar _member = _interopRequireDefault(require(\"../models/member\"));\n\nvar _users = _interopRequireDefault(require(\"./users\"));\n\nvar _socket = require(\"../socket\");\n\nvar Notify = _interopRequireWildcard(require(\"./notify\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst PickState = {\n  NONE: 'NONE',\n  RELAY: 'RELAY',\n  FLOOR: 'FLOOR',\n  ORATOR: 'ORATOR',\n  LANGB: 'LANGB'\n};\n\nclass Freeswitch {\n  static toggleSpeakSelf({\n    userId\n  }) {\n    const user = _user.default.find(userId);\n\n    if (user.isModerator()) return Freeswitch.toggleSpeakModerator(user);\n    return Freeswitch.toggleSpeakRegular(user);\n  }\n\n  static toggleHearSelf({\n    userId\n  }) {\n    const user = _user.default.find(userId);\n\n    if (user.isModerator()) return Freeswitch.toggleHearModerator(user);\n    return Freeswitch.toggleHearRegular(user);\n  }\n\n  static async toggleSpeakRegular(user) {\n    const member = user.memberByRoomId(user.speakRoomId);\n    if (!member.speak && _adjustments.default.demoMode) return;\n\n    if (user.isFloorEnabled() && user.speakRoomId !== user.rooms.babel) {\n      // Toggle speaking to the room and floor\n      const floorMember = user.memberByRoomId(user.rooms.floor);\n\n      if (member.speak) {\n        await _esl.default.muteSpeak(member.id, member.roomId);\n        if (floorMember) await _esl.default.muteSpeak(floorMember.id, floorMember.roomId);\n      } else {\n        await _esl.default.unmuteSpeak(member.id, member.roomId);\n        if (floorMember) await _esl.default.unmuteSpeak(floorMember.id, floorMember.roomId);\n      }\n    } else {\n      // Toggle speaking to the room\n      await _esl.default.toggleSpeak(member.id, member.roomId);\n    }\n  }\n\n  static async toggleHearRegular(user) {\n    if (user.isFloorEnabled() && user.hearRoomId !== user.rooms.babel) {\n      // Toggle on the floor\n      const floorMember = user.memberByRoomId(user.rooms.floor);\n      if (floorMember) await _esl.default.toggleHear(floorMember.id, floorMember.roomId, floorMember.hear);\n    } else {\n      // Toggle on the room\n      const member = user.memberByRoomId(user.hearRoomId);\n      await _esl.default.toggleHear(member.id, member.roomId, member.hear);\n    }\n  }\n\n  static async muteSpeakRegular(user) {\n    const member = user.memberByRoomId(user.speakRoomId);\n    await _esl.default.muteSpeak(member.id, member.roomId);\n\n    if (user.isFloorEnabled()) {\n      // Also toggle speaking to the floor\n      const floorMember = user.memberByRoomId(user.rooms.floor);\n\n      if (floorMember) {\n        await _esl.default.muteSpeak(floorMember.id, floorMember.roomId);\n      }\n    }\n  }\n\n  static async toggleSpeakModerator(user) {\n    if (user.inLoungeRoom()) return Freeswitch.toggleLoungeSpeak(user);\n    const speakRoom = user.speakRoomId;\n    const hearRoom = user.hearRoomId;\n    const speakMember = user.memberByRoomId(speakRoom);\n    const hearMember = user.memberByRoomId(hearRoom);\n    const unmuting = !speakMember.speak;\n\n    if (unmuting && !hearMember.hear && !user.isFloorHear()) {\n      await _esl.default.unmuteHear(hearMember.id, hearMember.roomId);\n    }\n\n    await _esl.default.toggleSpeak(speakMember.id, speakMember.roomId);\n\n    if (!unmuting) {\n      Freeswitch.handleSwitcher(hearMember.roomId);\n      Freeswitch.handleSwitcher(speakMember.roomId);\n      return;\n    }\n\n    if (user.wasHearBoth && !user.isFloorHear()) {\n      await _esl.default.unmuteHear(speakMember.id, speakMember.roomId);\n    } // mute all other moderators with the same rooms\n\n\n    await Freeswitch.muteModeratorsBoothTeam(user);\n    Freeswitch.handleSwitcher(hearMember.roomId);\n    Freeswitch.handleSwitcher(speakMember.roomId);\n  }\n\n  static async toggleHearModerator(user) {\n    const loungeMember = user.memberByRoomId(user.rooms.lounge);\n\n    if (loungeMember) {\n      return _esl.default.toggleHear(loungeMember.id, loungeMember.roomId, loungeMember.hear);\n    }\n\n    const floorMember = user.memberByRoomId(user.rooms.floor);\n\n    if (floorMember && floorMember.hear) {\n      _esl.default.muteHear(floorMember.id, floorMember.roomId);\n    }\n\n    const {\n      hearRoomId,\n      speakRoomId\n    } = user;\n    const speakMember = user.memberByRoomId(speakRoomId);\n    const hearMember = user.memberByRoomId(hearRoomId);\n\n    if (hearMember.hear && speakMember.hear) {\n      _esl.default.muteHear(speakMember.id, speakMember.roomId);\n\n      return;\n    }\n\n    if (hearMember.hear && speakMember.speak) {\n      await _esl.default.muteSpeak(speakMember.id, speakMember.roomId);\n    }\n\n    if (hearMember.hear || speakMember.hear) {\n      user.wasHearBoth = user.hearBoth();\n      await _esl.default.muteHear(hearMember.id, hearMember.roomId);\n      await _esl.default.muteHear(speakMember.id, speakMember.roomId);\n    } else if (!hearMember.hear && !speakMember.hear) {\n      await _esl.default.unmuteHear(hearMember.id, hearMember.roomId);\n\n      if (user.wasHearBoth) {\n        await _esl.default.unmuteHear(speakMember.id, speakMember.roomId);\n      }\n    }\n\n    Freeswitch.handleSwitcher(hearMember.roomId);\n    Freeswitch.handleSwitcher(speakMember.roomId);\n  }\n\n  static toggleLoungeSpeak(user) {\n    const member = user.memberByRoomId(user.rooms.lounge);\n\n    _esl.default.toggleSpeak(member.id, member.roomId);\n\n    console.log('user', user);\n  }\n\n  static muteModeratorsBoothTeam(user) {\n    const promises = [];\n    user.boothTeam().forEach(u => {\n      const speakMember = u.memberByRoomId(u.speakRoomId);\n      if (!speakMember || !speakMember.speak) return;\n      promises.push(_esl.default.muteSpeak(speakMember.id, speakMember.roomId));\n    });\n    return Promise.all(promises);\n  }\n\n  static async toggleSpeakMember({\n    userId,\n    memberId,\n    roomId\n  }) {\n    const user = _user.default.find(userId);\n\n    const member = _member.default.find(memberId);\n\n    if (!member) return;\n    const participant = member.user;\n    if (user.isSwitcher() || participant.isSwitcher()) return;\n\n    if (user.isRegular()) {\n      if (participant.isModerator() || participant.rooms.first !== roomId || _adjustments.default.demoMode) return;\n    }\n\n    if (participant.isModerator() && !participant.inLoungeRoom()) {\n      await Freeswitch.muteModeratorsBoothTeam(member.user);\n    }\n\n    if (participant.isFloorEnabled() && participant.isRegular() && roomId !== participant.rooms.babel) {\n      // Toggle speaking to the room and the floor\n      const floorMember = participant.memberByRoomId(user.rooms.floor);\n\n      if (member.speak) {\n        await _esl.default.muteSpeak(member.id, roomId);\n        if (floorMember) await _esl.default.muteSpeak(floorMember.id, floorMember.roomId);\n      } else {\n        await _esl.default.unmuteSpeak(member.id, roomId);\n        if (floorMember) await _esl.default.unmuteSpeak(floorMember.id, floorMember.roomId);\n      }\n    } else {\n      if (user.rooms.langb) {\n        await _esl.default.toggleHear(member.id, roomId, member.speak);\n      } // Toggle speaking to the room\n\n\n      await _esl.default.toggleSpeak(member.id, roomId);\n    }\n\n    Freeswitch.handleSwitcher(roomId);\n    Notify.toggleSpeak(member, user);\n  }\n\n  static toggleHearMember({\n    memberId,\n    roomId\n  }) {\n    // for debug mode\n    const member = _member.default.find(memberId);\n\n    if (!member) return;\n    if (member.isFloor()) Freeswitch.beforeFloorToggle(member);\n\n    _esl.default.toggleHear(memberId, roomId, member.hear);\n  }\n\n  static handleFloorForMeeting(meetingId) {\n    const rooms = new Set();\n\n    _user.default.byMeeting(meetingId).forEach(u => u.roomsList.forEach(r => rooms.add(r)));\n\n    rooms.forEach(r => Freeswitch.handleFloor(r));\n  }\n\n  static handleFloor(roomId) {\n    const members = _member.default.byRoom(roomId);\n\n    const moderatorSpeaking = members.filter(m => m.user.isModerator() && m.speak).length; // Regular users using the floor hear the floor if no moderator is speaking\n\n    const regularUsers = members.map(m => m.user).filter(u => u.isRegular() && u.useFloor && roomId !== u.rooms.floor);\n\n    for (const user of regularUsers) {\n      const member = user.memberByRoomId(roomId);\n      const floorMember = user.memberByRoomId(user.rooms.floor);\n\n      if (member && floorMember) {\n        if (user.isFloorEnabled()) {\n          // Floor is enabled\n          if (member.hear || floorMember.hear) {\n            // The user must listen to only one room, find which one...\n            if (moderatorSpeaking || member.roomId === user.rooms.babel) {\n              // Listen only to the room\n              if (floorMember.hear) _esl.default.muteHear(floorMember.id, floorMember.roomId);\n              if (!member.hear) _esl.default.unmuteHear(member.id, member.roomId);\n            } else {\n              // Listen only to the floor\n              if (member.hear) _esl.default.muteHear(member.id, member.roomId);\n              if (!floorMember.hear) _esl.default.unmuteHear(floorMember.id, floorMember.roomId);\n            }\n          } // If speaking to the room, speak also to the floor\n\n\n          if (member.speak && !floorMember.speak) _esl.default.unmuteSpeak(floorMember.id, floorMember.roomId);\n        } else {\n          // Floor is disabled\n          if (member.hear || floorMember.hear) {\n            // Listen only to the room\n            if (floorMember.hear) _esl.default.muteHear(floorMember.id, floorMember.roomId);\n            if (!member.hear) _esl.default.unmuteHear(member.id, member.roomId);\n          } // Mute speaking to the floor\n\n\n          if (floorMember.speak) _esl.default.muteSpeak(floorMember.id, floorMember.roomId);\n        }\n      }\n    }\n  }\n\n  static handleSwitcher(roomId) {\n    // The floor implements a similar but distributed mechanism\n    Freeswitch.handleFloor(roomId);\n\n    const switcher = _user.default.all.find(u => u.isSwitcher() && u.roomsList.includes(roomId));\n\n    if (!switcher) return;\n    const swMember = switcher.memberByRoomId(roomId);\n    if (!swMember) return;\n\n    const moderatorSpeaking = _member.default.byRoom(roomId).filter(m => m.user.isModerator() && m.speak).length;\n\n    if (moderatorSpeaking) {\n      _esl.default.muteSpeak(swMember.id, roomId);\n    } else {\n      _esl.default.unmuteSpeak(swMember.id, roomId);\n    }\n  }\n\n  static beforeFloorToggle(floorMember) {\n    const {\n      user\n    } = floorMember;\n    const {\n      hearRoomId,\n      speakRoomId\n    } = user;\n    const hearMember = user.memberByRoomId(hearRoomId);\n    const speakMember = user.memberByRoomId(speakRoomId); // disable floor\n\n    if (floorMember.hear) {\n      if (speakMember.speak) _esl.default.muteSpeak(speakMember.id, speakRoomId);\n      if (hearMember.hear) _esl.default.muteHear(hearMember.id, hearRoomId);\n      return;\n    } // enable floor\n\n\n    if (hearMember.hear) _esl.default.muteHear(hearMember.id, hearRoomId);\n    if (speakMember.hear) _esl.default.muteHear(speakMember.id, speakRoomId);\n  }\n\n  static async changeRegularRoom({\n    userId,\n    newRoomId\n  }) {\n    const user = _user.default.find(userId);\n\n    const member = user.memberByRoomId(user.rooms.first);\n    user.speakRoomId = newRoomId;\n    user.hearRoomId = newRoomId;\n    user.rooms.first = newRoomId;\n\n    if (member) {\n      user.skipReconnect = true;\n      await _esl.default.hupMember(member.id, member.roomId);\n    }\n\n    _socket.Sender.firstLineCall(user.channels.self, newRoomId);\n\n    _socket.Sender.updateProfile(user.channels.self, user);\n  }\n\n  static async switchRooms({\n    userId\n  }) {\n    const user = _user.default.find(userId);\n\n    const {\n      hearRoomId,\n      speakRoomId\n    } = user;\n    user.speakRoomId = hearRoomId;\n    user.hearRoomId = speakRoomId;\n    const newHearMember = user.memberByRoomId(user.hearRoomId);\n    const newSpeakMember = user.memberByRoomId(user.speakRoomId); // If moderator was speaking before, switch deaf/undeaf\n\n    if (newHearMember.speak) {\n      await _esl.default.muteSpeak(newHearMember.id, newHearMember.roomId);\n      await _esl.default.unmuteSpeak(newSpeakMember.id, newSpeakMember.roomId);\n      Freeswitch.handleSwitcher(newSpeakMember.roomId);\n      Freeswitch.handleSwitcher(newHearMember.roomId);\n    }\n\n    if (user.rooms.langb) {\n      await _esl.default.unmuteHear(newSpeakMember.id, newSpeakMember.roomId);\n      await _esl.default.muteHear(newHearMember.id, newHearMember.roomId);\n    }\n\n    _users.default.update(user);\n  }\n\n  static async joinLounge({\n    userId\n  }) {\n    const user = _user.default.find(userId);\n\n    const {\n      rooms\n    } = user;\n    await Freeswitch.pickState(user, PickState.NONE);\n    if (rooms.lounge) _socket.Sender.loungeLineCall(user.channels.self, rooms.lounge);\n    user.speakRoomId = user.rooms.lounge;\n    user.hearRoomId = user.rooms.lounge;\n\n    _users.default.update(user);\n  }\n\n  static async leaveLounge({\n    userId\n  }) {\n    const user = _user.default.find(userId);\n\n    const {\n      rooms\n    } = user;\n    const loungeMember = rooms.lounge ? user.memberByRoomId(rooms.lounge) : undefined;\n    if (loungeMember) await _esl.default.hupMember(loungeMember.id, loungeMember.roomId);\n    user.speakRoomId = user.rooms.second;\n    user.hearRoomId = user.rooms.first;\n    await Freeswitch.pickState(user, PickState.RELAY);\n  }\n\n  static async pickState(user, state, roomId) {\n    const {\n      hearRoomId,\n      speakRoomId,\n      rooms,\n      userState\n    } = user;\n    const mediaSettings = userState.mediaSettings;\n    const speakMember = user.memberByRoomId(speakRoomId);\n    const hearMember = user.memberByRoomId(hearRoomId);\n    const floorMember = rooms.floor ? user.memberByRoomId(rooms.floor) : undefined;\n\n    if (state === PickState.FLOOR) {\n      if (floorMember) await _esl.default.unmuteHear(floorMember.id, floorMember.roomId);\n      if (mediaSettings.outputVolumeLine1 > 0) await _esl.default.unmuteHear(hearMember.id, hearRoomId);\n      if (mediaSettings.outputVolumeLine2 > 0) await _esl.default.unmuteHear(speakMember.id, speakRoomId);\n    } else {\n      if (floorMember) await _esl.default.muteHear(floorMember.id, floorMember.roomId);\n    }\n\n    if (state === PickState.RELAY) {\n      await _esl.default.unmuteHear(hearMember.id, hearRoomId);\n      await _esl.default.unmuteHear(speakMember.id, speakRoomId);\n    } else {\n      await _esl.default.muteHear(hearMember.id, hearRoomId);\n      await _esl.default.muteHear(speakMember.id, speakRoomId);\n    }\n\n    if (state === PickState.ORATOR) {\n      if (roomId && roomId !== rooms.orator) {\n        await Freeswitch.dropOrator(user);\n\n        if (roomId !== user.hearRoomId && roomId !== user.speakRoomId) {\n          rooms.orator = roomId;\n\n          _socket.Sender.oratorLineCall(user.channels.self, roomId);\n        }\n      }\n    } else {\n      await Freeswitch.dropOrator(user);\n    }\n\n    if (state === PickState.LANGB) {\n      if (roomId && roomId !== rooms.langb) {\n        await Freeswitch.dropLangb(user);\n\n        if (roomId !== user.hearRoomId && roomId !== user.speakRoomId) {\n          rooms.langb = roomId;\n\n          _socket.Sender.langbLineCall(user.channels.self, roomId);\n\n          if (speakMember.speak) {\n            _esl.default.unmuteHear(speakMember.id, user.speakRoomId);\n          } else if (hearMember.speak) {\n            _esl.default.unmuteHear(hearMember.id, user.hearMemberId);\n          }\n        }\n      }\n    } else {\n      await Freeswitch.dropLangb(user);\n    }\n\n    _users.default.update(user);\n  }\n\n  static async dropOrator(user) {\n    const {\n      rooms\n    } = user;\n    const oratorMember = rooms.orator ? user.memberByRoomId(rooms.orator) : undefined;\n    if (oratorMember) await _esl.default.hupMember(oratorMember.id, oratorMember.roomId);\n    rooms.orator = null;\n  }\n\n  static async dropLangb(user) {\n    const {\n      rooms\n    } = user;\n    const langbMember = rooms.langb ? user.memberByRoomId(rooms.langb) : undefined;\n    if (langbMember) await _esl.default.hupMember(langbMember.id, langbMember.roomId);\n    rooms.langb = null;\n  }\n\n  static async pickRelay({\n    userId\n  }) {\n    const user = _user.default.find(userId);\n\n    await Freeswitch.pickState(user, PickState.RELAY);\n  }\n\n  static async pickFloor({\n    userId\n  }) {\n    const user = _user.default.find(userId);\n\n    await Freeswitch.pickState(user, PickState.FLOOR);\n  }\n\n  static async pickOrator({\n    userId,\n    roomId\n  }) {\n    const user = _user.default.find(userId);\n\n    if (roomId) await Freeswitch.pickState(user, PickState.ORATOR, roomId);else await Freeswitch.pickState(user, PickState.RELAY);\n  }\n\n  static async pickLangb({\n    userId,\n    roomId\n  }) {\n    const user = _user.default.find(userId);\n\n    if (roomId) await Freeswitch.pickState(user, PickState.LANGB, roomId);else await Freeswitch.pickState(user, PickState.RELAY);\n  }\n\n  static setVolumeIn({\n    userId,\n    level\n  }) {\n    const user = _user.default.find(userId);\n\n    const {\n      echoUuid\n    } = user;\n    user.members.forEach(m => _esl.default.volumeIn(m.id, m.roomId, level));\n\n    if (echoUuid) {\n      _esl.default.uuid_audio(echoUuid, `start write level ${level}`);\n    }\n  }\n\n}\n\nexports.default = Freeswitch;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZyZWVzd2l0Y2guanMiXSwibmFtZXMiOlsiUGlja1N0YXRlIiwiTk9ORSIsIlJFTEFZIiwiRkxPT1IiLCJPUkFUT1IiLCJMQU5HQiIsIkZyZWVzd2l0Y2giLCJ0b2dnbGVTcGVha1NlbGYiLCJ1c2VySWQiLCJ1c2VyIiwiVXNlciIsImZpbmQiLCJpc01vZGVyYXRvciIsInRvZ2dsZVNwZWFrTW9kZXJhdG9yIiwidG9nZ2xlU3BlYWtSZWd1bGFyIiwidG9nZ2xlSGVhclNlbGYiLCJ0b2dnbGVIZWFyTW9kZXJhdG9yIiwidG9nZ2xlSGVhclJlZ3VsYXIiLCJtZW1iZXIiLCJtZW1iZXJCeVJvb21JZCIsInNwZWFrUm9vbUlkIiwic3BlYWsiLCJBZGp1c3RtZW50cyIsImRlbW9Nb2RlIiwiaXNGbG9vckVuYWJsZWQiLCJyb29tcyIsImJhYmVsIiwiZmxvb3JNZW1iZXIiLCJmbG9vciIsIkVzbCIsIm11dGVTcGVhayIsImlkIiwicm9vbUlkIiwidW5tdXRlU3BlYWsiLCJ0b2dnbGVTcGVhayIsImhlYXJSb29tSWQiLCJ0b2dnbGVIZWFyIiwiaGVhciIsIm11dGVTcGVha1JlZ3VsYXIiLCJpbkxvdW5nZVJvb20iLCJ0b2dnbGVMb3VuZ2VTcGVhayIsInNwZWFrUm9vbSIsImhlYXJSb29tIiwic3BlYWtNZW1iZXIiLCJoZWFyTWVtYmVyIiwidW5tdXRpbmciLCJpc0Zsb29ySGVhciIsInVubXV0ZUhlYXIiLCJoYW5kbGVTd2l0Y2hlciIsIndhc0hlYXJCb3RoIiwibXV0ZU1vZGVyYXRvcnNCb290aFRlYW0iLCJsb3VuZ2VNZW1iZXIiLCJsb3VuZ2UiLCJtdXRlSGVhciIsImhlYXJCb3RoIiwiY29uc29sZSIsImxvZyIsInByb21pc2VzIiwiYm9vdGhUZWFtIiwiZm9yRWFjaCIsInUiLCJwdXNoIiwiUHJvbWlzZSIsImFsbCIsInRvZ2dsZVNwZWFrTWVtYmVyIiwibWVtYmVySWQiLCJNZW1iZXIiLCJwYXJ0aWNpcGFudCIsImlzU3dpdGNoZXIiLCJpc1JlZ3VsYXIiLCJmaXJzdCIsImxhbmdiIiwiTm90aWZ5IiwidG9nZ2xlSGVhck1lbWJlciIsImlzRmxvb3IiLCJiZWZvcmVGbG9vclRvZ2dsZSIsImhhbmRsZUZsb29yRm9yTWVldGluZyIsIm1lZXRpbmdJZCIsIlNldCIsImJ5TWVldGluZyIsInJvb21zTGlzdCIsInIiLCJhZGQiLCJoYW5kbGVGbG9vciIsIm1lbWJlcnMiLCJieVJvb20iLCJtb2RlcmF0b3JTcGVha2luZyIsImZpbHRlciIsIm0iLCJsZW5ndGgiLCJyZWd1bGFyVXNlcnMiLCJtYXAiLCJ1c2VGbG9vciIsInN3aXRjaGVyIiwiaW5jbHVkZXMiLCJzd01lbWJlciIsImNoYW5nZVJlZ3VsYXJSb29tIiwibmV3Um9vbUlkIiwic2tpcFJlY29ubmVjdCIsImh1cE1lbWJlciIsIlNlbmRlciIsImZpcnN0TGluZUNhbGwiLCJjaGFubmVscyIsInNlbGYiLCJ1cGRhdGVQcm9maWxlIiwic3dpdGNoUm9vbXMiLCJuZXdIZWFyTWVtYmVyIiwibmV3U3BlYWtNZW1iZXIiLCJVc2VyU2VydmljZSIsInVwZGF0ZSIsImpvaW5Mb3VuZ2UiLCJwaWNrU3RhdGUiLCJsb3VuZ2VMaW5lQ2FsbCIsImxlYXZlTG91bmdlIiwidW5kZWZpbmVkIiwic2Vjb25kIiwic3RhdGUiLCJ1c2VyU3RhdGUiLCJtZWRpYVNldHRpbmdzIiwib3V0cHV0Vm9sdW1lTGluZTEiLCJvdXRwdXRWb2x1bWVMaW5lMiIsIm9yYXRvciIsImRyb3BPcmF0b3IiLCJvcmF0b3JMaW5lQ2FsbCIsImRyb3BMYW5nYiIsImxhbmdiTGluZUNhbGwiLCJoZWFyTWVtYmVySWQiLCJvcmF0b3JNZW1iZXIiLCJsYW5nYk1lbWJlciIsInBpY2tSZWxheSIsInBpY2tGbG9vciIsInBpY2tPcmF0b3IiLCJwaWNrTGFuZ2IiLCJzZXRWb2x1bWVJbiIsImxldmVsIiwiZWNob1V1aWQiLCJ2b2x1bWVJbiIsInV1aWRfYXVkaW8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7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LElBQUkzRCxhQUFJMkcsUUFBSixDQUFhaEQsQ0FBQyxDQUFDekQsRUFBZixFQUFtQnlELENBQUMsQ0FBQ3hELE1BQXJCLEVBQTZCc0csS0FBN0IsQ0FBMUI7O0FBQ0EsUUFBSUMsUUFBSixFQUFjO0FBQ1oxRyxtQkFBSTRHLFVBQUosQ0FBZUYsUUFBZixFQUEwQixxQkFBb0JELEtBQU0sRUFBcEQ7QUFDRDtBQUNGOztBQS9hNkIiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvd2VicGhvbmUtbm9kZS9zcmMvc2VydmljZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEVzbCBmcm9tICcuLi9lc2wnXG5pbXBvcnQgQWRqdXN0bWVudHMgZnJvbSAnLi4vbGlicy9hZGp1c3RtZW50cydcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVscy91c2VyJ1xuaW1wb3J0IE1lbWJlciBmcm9tICcuLi9tb2RlbHMvbWVtYmVyJ1xuaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gJy4vdXNlcnMnXG5pbXBvcnQgeyBTZW5kZXIgfSBmcm9tICcuLi9zb2NrZXQnXG5pbXBvcnQgKiBhcyBOb3RpZnkgZnJvbSAnLi9ub3RpZnknXG5cbmNvbnN0IFBpY2tTdGF0ZSA9IHtcbiAgTk9ORTogJ05PTkUnLFxuICBSRUxBWTogJ1JFTEFZJyxcbiAgRkxPT1I6ICdGTE9PUicsXG4gIE9SQVRPUjogJ09SQVRPUicsXG4gIExBTkdCOiAnTEFOR0InLFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGcmVlc3dpdGNoIHtcbiAgc3RhdGljIHRvZ2dsZVNwZWFrU2VsZih7IHVzZXJJZCB9KSB7XG4gICAgY29uc3QgdXNlciA9IFVzZXIuZmluZCh1c2VySWQpXG4gICAgaWYgKHVzZXIuaXNNb2RlcmF0b3IoKSkgcmV0dXJuIEZyZWVzd2l0Y2gudG9nZ2xlU3BlYWtNb2RlcmF0b3IodXNlcilcbiAgICByZXR1cm4gRnJlZXN3aXRjaC50b2dnbGVTcGVha1JlZ3VsYXIodXNlcilcbiAgfVxuXG4gIHN0YXRpYyB0b2dnbGVIZWFyU2VsZih7IHVzZXJJZCB9KSB7XG4gICAgY29uc3QgdXNlciA9IFVzZXIuZmluZCh1c2VySWQpXG4gICAgaWYgKHVzZXIuaXNNb2RlcmF0b3IoKSkgcmV0dXJuIEZyZWVzd2l0Y2gudG9nZ2xlSGVhck1vZGVyYXRvcih1c2VyKVxuICAgIHJldHVybiBGcmVlc3dpdGNoLnRvZ2dsZUhlYXJSZWd1bGFyKHVzZXIpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdG9nZ2xlU3BlYWtSZWd1bGFyKHVzZXIpIHtcbiAgICBjb25zdCBtZW1iZXIgPSB1c2VyLm1lbWJlckJ5Um9vbUlkKHVzZXIuc3BlYWtSb29tSWQpXG4gICAgaWYgKCFtZW1iZXIuc3BlYWsgJiYgQWRqdXN0bWVudHMuZGVtb01vZGUpIHJldHVyblxuXG4gICAgaWYgKHVzZXIuaXNGbG9vckVuYWJsZWQoKSAmJiB1c2VyLnNwZWFrUm9vbUlkICE9PSB1c2VyLnJvb21zLmJhYmVsKSB7XG4gICAgICAvLyBUb2dnbGUgc3BlYWtpbmcgdG8gdGhlIHJvb20gYW5kIGZsb29yXG4gICAgICBjb25zdCBmbG9vck1lbWJlciA9IHVzZXIubWVtYmVyQnlSb29tSWQodXNlci5yb29tcy5mbG9vcilcbiAgICAgIGlmIChtZW1iZXIuc3BlYWspIHtcbiAgICAgICAgYXdhaXQgRXNsLm11dGVTcGVhayhtZW1iZXIuaWQsIG1lbWJlci5yb29tSWQpXG4gICAgICAgIGlmIChmbG9vck1lbWJlcikgYXdhaXQgRXNsLm11dGVTcGVhayhmbG9vck1lbWJlci5pZCwgZmxvb3JNZW1iZXIucm9vbUlkKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgRXNsLnVubXV0ZVNwZWFrKG1lbWJlci5pZCwgbWVtYmVyLnJvb21JZClcbiAgICAgICAgaWYgKGZsb29yTWVtYmVyKSBhd2FpdCBFc2wudW5tdXRlU3BlYWsoZmxvb3JNZW1iZXIuaWQsIGZsb29yTWVtYmVyLnJvb21JZClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVG9nZ2xlIHNwZWFraW5nIHRvIHRoZSByb29tXG4gICAgICBhd2FpdCBFc2wudG9nZ2xlU3BlYWsobWVtYmVyLmlkLCBtZW1iZXIucm9vbUlkKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB0b2dnbGVIZWFyUmVndWxhcih1c2VyKSB7XG4gICAgaWYgKHVzZXIuaXNGbG9vckVuYWJsZWQoKSAmJiB1c2VyLmhlYXJSb29tSWQgIT09IHVzZXIucm9vbXMuYmFiZWwpIHtcbiAgICAgIC8vIFRvZ2dsZSBvbiB0aGUgZmxvb3JcbiAgICAgIGNvbnN0IGZsb29yTWVtYmVyID0gdXNlci5tZW1iZXJCeVJvb21JZCh1c2VyLnJvb21zLmZsb29yKVxuICAgICAgaWYgKGZsb29yTWVtYmVyKSBhd2FpdCBFc2wudG9nZ2xlSGVhcihmbG9vck1lbWJlci5pZCwgZmxvb3JNZW1iZXIucm9vbUlkLCBmbG9vck1lbWJlci5oZWFyKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUb2dnbGUgb24gdGhlIHJvb21cbiAgICAgIGNvbnN0IG1lbWJlciA9IHVzZXIubWVtYmVyQnlSb29tSWQodXNlci5oZWFyUm9vbUlkKVxuICAgICAgYXdhaXQgRXNsLnRvZ2dsZUhlYXIobWVtYmVyLmlkLCBtZW1iZXIucm9vbUlkLCBtZW1iZXIuaGVhcilcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgbXV0ZVNwZWFrUmVndWxhcih1c2VyKSB7XG4gICAgY29uc3QgbWVtYmVyID0gdXNlci5tZW1iZXJCeVJvb21JZCh1c2VyLnNwZWFrUm9vbUlkKVxuICAgIGF3YWl0IEVzbC5tdXRlU3BlYWsobWVtYmVyLmlkLCBtZW1iZXIucm9vbUlkKVxuXG4gICAgaWYgKHVzZXIuaXNGbG9vckVuYWJsZWQoKSkge1xuICAgICAgLy8gQWxzbyB0b2dnbGUgc3BlYWtpbmcgdG8gdGhlIGZsb29yXG4gICAgICBjb25zdCBmbG9vck1lbWJlciA9IHVzZXIubWVtYmVyQnlSb29tSWQodXNlci5yb29tcy5mbG9vcilcbiAgICAgIGlmIChmbG9vck1lbWJlcikge1xuICAgICAgICBhd2FpdCBFc2wubXV0ZVNwZWFrKGZsb29yTWVtYmVyLmlkLCBmbG9vck1lbWJlci5yb29tSWQpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHRvZ2dsZVNwZWFrTW9kZXJhdG9yKHVzZXIpIHtcbiAgICBpZiAodXNlci5pbkxvdW5nZVJvb20oKSkgcmV0dXJuIEZyZWVzd2l0Y2gudG9nZ2xlTG91bmdlU3BlYWsodXNlcilcblxuICAgIGNvbnN0IHNwZWFrUm9vbSA9IHVzZXIuc3BlYWtSb29tSWRcbiAgICBjb25zdCBoZWFyUm9vbSA9IHVzZXIuaGVhclJvb21JZFxuICAgIGNvbnN0IHNwZWFrTWVtYmVyID0gdXNlci5tZW1iZXJCeVJvb21JZChzcGVha1Jvb20pXG4gICAgY29uc3QgaGVhck1lbWJlciA9IHVzZXIubWVtYmVyQnlSb29tSWQoaGVhclJvb20pXG4gICAgY29uc3QgdW5tdXRpbmcgPSAhc3BlYWtNZW1iZXIuc3BlYWtcblxuICAgIGlmICh1bm11dGluZyAmJiAhaGVhck1lbWJlci5oZWFyICYmICF1c2VyLmlzRmxvb3JIZWFyKCkpIHtcbiAgICAgIGF3YWl0IEVzbC51bm11dGVIZWFyKGhlYXJNZW1iZXIuaWQsIGhlYXJNZW1iZXIucm9vbUlkKVxuICAgIH1cbiAgICBhd2FpdCBFc2wudG9nZ2xlU3BlYWsoc3BlYWtNZW1iZXIuaWQsIHNwZWFrTWVtYmVyLnJvb21JZClcblxuICAgIGlmICghdW5tdXRpbmcpIHtcbiAgICAgIEZyZWVzd2l0Y2guaGFuZGxlU3dpdGNoZXIoaGVhck1lbWJlci5yb29tSWQpXG4gICAgICBGcmVlc3dpdGNoLmhhbmRsZVN3aXRjaGVyKHNwZWFrTWVtYmVyLnJvb21JZClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh1c2VyLndhc0hlYXJCb3RoICYmICF1c2VyLmlzRmxvb3JIZWFyKCkpIHtcbiAgICAgIGF3YWl0IEVzbC51bm11dGVIZWFyKHNwZWFrTWVtYmVyLmlkLCBzcGVha01lbWJlci5yb29tSWQpXG4gICAgfVxuXG4gICAgLy8gbXV0ZSBhbGwgb3RoZXIgbW9kZXJhdG9ycyB3aXRoIHRoZSBzYW1lIHJvb21zXG4gICAgYXdhaXQgRnJlZXN3aXRjaC5tdXRlTW9kZXJhdG9yc0Jvb3RoVGVhbSh1c2VyKVxuXG4gICAgRnJlZXN3aXRjaC5oYW5kbGVTd2l0Y2hlcihoZWFyTWVtYmVyLnJvb21JZClcbiAgICBGcmVlc3dpdGNoLmhhbmRsZVN3aXRjaGVyKHNwZWFrTWVtYmVyLnJvb21JZClcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB0b2dnbGVIZWFyTW9kZXJhdG9yKHVzZXIpIHtcbiAgICBjb25zdCBsb3VuZ2VNZW1iZXIgPSB1c2VyLm1lbWJlckJ5Um9vbUlkKHVzZXIucm9vbXMubG91bmdlKVxuICAgIGlmIChsb3VuZ2VNZW1iZXIpIHtcbiAgICAgIHJldHVybiBFc2wudG9nZ2xlSGVhcihsb3VuZ2VNZW1iZXIuaWQsIGxvdW5nZU1lbWJlci5yb29tSWQsIGxvdW5nZU1lbWJlci5oZWFyKVxuICAgIH1cblxuICAgIGNvbnN0IGZsb29yTWVtYmVyID0gdXNlci5tZW1iZXJCeVJvb21JZCh1c2VyLnJvb21zLmZsb29yKVxuICAgIGlmIChmbG9vck1lbWJlciAmJiBmbG9vck1lbWJlci5oZWFyKSB7XG4gICAgICBFc2wubXV0ZUhlYXIoZmxvb3JNZW1iZXIuaWQsIGZsb29yTWVtYmVyLnJvb21JZClcbiAgICB9XG5cbiAgICBjb25zdCB7IGhlYXJSb29tSWQsIHNwZWFrUm9vbUlkIH0gPSB1c2VyXG4gICAgY29uc3Qgc3BlYWtNZW1iZXIgPSB1c2VyLm1lbWJlckJ5Um9vbUlkKHNwZWFrUm9vbUlkKVxuICAgIGNvbnN0IGhlYXJNZW1iZXIgPSB1c2VyLm1lbWJlckJ5Um9vbUlkKGhlYXJSb29tSWQpXG5cbiAgICBpZiAoaGVhck1lbWJlci5oZWFyICYmIHNwZWFrTWVtYmVyLmhlYXIpIHtcbiAgICAgIEVzbC5tdXRlSGVhcihzcGVha01lbWJlci5pZCwgc3BlYWtNZW1iZXIucm9vbUlkKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKGhlYXJNZW1iZXIuaGVhciAmJiBzcGVha01lbWJlci5zcGVhaykge1xuICAgICAgYXdhaXQgRXNsLm11dGVTcGVhayhzcGVha01lbWJlci5pZCwgc3BlYWtNZW1iZXIucm9vbUlkKVxuICAgIH1cblxuICAgIGlmIChoZWFyTWVtYmVyLmhlYXIgfHwgc3BlYWtNZW1iZXIuaGVhcikge1xuICAgICAgdXNlci53YXNIZWFyQm90aCA9IHVzZXIuaGVhckJvdGgoKVxuICAgICAgYXdhaXQgRXNsLm11dGVIZWFyKGhlYXJNZW1iZXIuaWQsIGhlYXJNZW1iZXIucm9vbUlkKVxuICAgICAgYXdhaXQgRXNsLm11dGVIZWFyKHNwZWFrTWVtYmVyLmlkLCBzcGVha01lbWJlci5yb29tSWQpXG4gICAgfSBlbHNlIGlmICghaGVhck1lbWJlci5oZWFyICYmICFzcGVha01lbWJlci5oZWFyKSB7XG4gICAgICBhd2FpdCBFc2wudW5tdXRlSGVhcihoZWFyTWVtYmVyLmlkLCBoZWFyTWVtYmVyLnJvb21JZClcbiAgICAgIGlmICh1c2VyLndhc0hlYXJCb3RoKSB7XG4gICAgICAgIGF3YWl0IEVzbC51bm11dGVIZWFyKHNwZWFrTWVtYmVyLmlkLCBzcGVha01lbWJlci5yb29tSWQpXG4gICAgICB9XG4gICAgfVxuICAgIEZyZWVzd2l0Y2guaGFuZGxlU3dpdGNoZXIoaGVhck1lbWJlci5yb29tSWQpXG4gICAgRnJlZXN3aXRjaC5oYW5kbGVTd2l0Y2hlcihzcGVha01lbWJlci5yb29tSWQpXG4gIH1cblxuICBzdGF0aWMgdG9nZ2xlTG91bmdlU3BlYWsodXNlcikge1xuICAgIGNvbnN0IG1lbWJlciA9IHVzZXIubWVtYmVyQnlSb29tSWQodXNlci5yb29tcy5sb3VuZ2UpXG4gICAgRXNsLnRvZ2dsZVNwZWFrKG1lbWJlci5pZCwgbWVtYmVyLnJvb21JZClcbiAgICBjb25zb2xlLmxvZygndXNlcicsIHVzZXIpXG4gIH1cblxuICBzdGF0aWMgbXV0ZU1vZGVyYXRvcnNCb290aFRlYW0odXNlcikge1xuICAgIGNvbnN0IHByb21pc2VzID0gW11cbiAgICB1c2VyLmJvb3RoVGVhbSgpLmZvckVhY2godSA9PiB7XG4gICAgICBjb25zdCBzcGVha01lbWJlciA9IHUubWVtYmVyQnlSb29tSWQodS5zcGVha1Jvb21JZClcbiAgICAgIGlmICghc3BlYWtNZW1iZXIgfHwgIXNwZWFrTWVtYmVyLnNwZWFrKSByZXR1cm5cbiAgICAgIHByb21pc2VzLnB1c2goRXNsLm11dGVTcGVhayhzcGVha01lbWJlci5pZCwgc3BlYWtNZW1iZXIucm9vbUlkKSlcbiAgICB9KVxuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB0b2dnbGVTcGVha01lbWJlcih7IHVzZXJJZCwgbWVtYmVySWQsIHJvb21JZCB9KSB7XG4gICAgY29uc3QgdXNlciA9IFVzZXIuZmluZCh1c2VySWQpXG4gICAgY29uc3QgbWVtYmVyID0gTWVtYmVyLmZpbmQobWVtYmVySWQpXG4gICAgaWYgKCFtZW1iZXIpIHJldHVyblxuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gbWVtYmVyLnVzZXJcblxuICAgIGlmICh1c2VyLmlzU3dpdGNoZXIoKSB8fCBwYXJ0aWNpcGFudC5pc1N3aXRjaGVyKCkpIHJldHVyblxuXG4gICAgaWYgKHVzZXIuaXNSZWd1bGFyKCkpIHtcbiAgICAgIGlmIChwYXJ0aWNpcGFudC5pc01vZGVyYXRvcigpIHx8IHBhcnRpY2lwYW50LnJvb21zLmZpcnN0ICE9PSByb29tSWQgfHwgQWRqdXN0bWVudHMuZGVtb01vZGUpIHJldHVyblxuICAgIH1cblxuICAgIGlmIChwYXJ0aWNpcGFudC5pc01vZGVyYXRvcigpICYmICFwYXJ0aWNpcGFudC5pbkxvdW5nZVJvb20oKSkge1xuICAgICAgYXdhaXQgRnJlZXN3aXRjaC5tdXRlTW9kZXJhdG9yc0Jvb3RoVGVhbShtZW1iZXIudXNlcilcbiAgICB9XG5cbiAgICBpZiAocGFydGljaXBhbnQuaXNGbG9vckVuYWJsZWQoKSAmJiBwYXJ0aWNpcGFudC5pc1JlZ3VsYXIoKSAmJiByb29tSWQgIT09IHBhcnRpY2lwYW50LnJvb21zLmJhYmVsKSB7XG4gICAgICAvLyBUb2dnbGUgc3BlYWtpbmcgdG8gdGhlIHJvb20gYW5kIHRoZSBmbG9vclxuICAgICAgY29uc3QgZmxvb3JNZW1iZXIgPSBwYXJ0aWNpcGFudC5tZW1iZXJCeVJvb21JZCh1c2VyLnJvb21zLmZsb29yKVxuICAgICAgaWYgKG1lbWJlci5zcGVhaykge1xuICAgICAgICBhd2FpdCBFc2wubXV0ZVNwZWFrKG1lbWJlci5pZCwgcm9vbUlkKVxuICAgICAgICBpZiAoZmxvb3JNZW1iZXIpIGF3YWl0IEVzbC5tdXRlU3BlYWsoZmxvb3JNZW1iZXIuaWQsIGZsb29yTWVtYmVyLnJvb21JZClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IEVzbC51bm11dGVTcGVhayhtZW1iZXIuaWQsIHJvb21JZClcbiAgICAgICAgaWYgKGZsb29yTWVtYmVyKSBhd2FpdCBFc2wudW5tdXRlU3BlYWsoZmxvb3JNZW1iZXIuaWQsIGZsb29yTWVtYmVyLnJvb21JZClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodXNlci5yb29tcy5sYW5nYikge1xuICAgICAgICAgIGF3YWl0IEVzbC50b2dnbGVIZWFyKG1lbWJlci5pZCwgcm9vbUlkLCBtZW1iZXIuc3BlYWspXG4gICAgICAgIH1cbiAgICAgICAgLy8gVG9nZ2xlIHNwZWFraW5nIHRvIHRoZSByb29tXG4gICAgICAgIGF3YWl0IEVzbC50b2dnbGVTcGVhayhtZW1iZXIuaWQsIHJvb21JZClcbiAgICB9XG5cbiAgICBGcmVlc3dpdGNoLmhhbmRsZVN3aXRjaGVyKHJvb21JZClcbiAgICBOb3RpZnkudG9nZ2xlU3BlYWsobWVtYmVyLCB1c2VyKVxuICB9XG5cbiAgc3RhdGljIHRvZ2dsZUhlYXJNZW1iZXIoeyBtZW1iZXJJZCwgcm9vbUlkIH0pIHsgLy8gZm9yIGRlYnVnIG1vZGVcbiAgICBjb25zdCBtZW1iZXIgPSBNZW1iZXIuZmluZChtZW1iZXJJZClcbiAgICBpZiAoIW1lbWJlcikgcmV0dXJuXG5cbiAgICBpZiAobWVtYmVyLmlzRmxvb3IoKSkgRnJlZXN3aXRjaC5iZWZvcmVGbG9vclRvZ2dsZShtZW1iZXIpXG5cbiAgICBFc2wudG9nZ2xlSGVhcihtZW1iZXJJZCwgcm9vbUlkLCBtZW1iZXIuaGVhcilcbiAgfVxuXG4gIHN0YXRpYyBoYW5kbGVGbG9vckZvck1lZXRpbmcobWVldGluZ0lkKSB7XG4gICAgY29uc3Qgcm9vbXMgPSBuZXcgU2V0KClcbiAgICBVc2VyLmJ5TWVldGluZyhtZWV0aW5nSWQpLmZvckVhY2godSA9PiB1LnJvb21zTGlzdC5mb3JFYWNoKHIgPT4gcm9vbXMuYWRkKHIpKSlcbiAgICByb29tcy5mb3JFYWNoKHIgPT4gRnJlZXN3aXRjaC5oYW5kbGVGbG9vcihyKSlcbiAgfVxuXG4gIHN0YXRpYyBoYW5kbGVGbG9vcihyb29tSWQpIHtcbiAgICBjb25zdCBtZW1iZXJzID0gTWVtYmVyLmJ5Um9vbShyb29tSWQpXG4gICAgY29uc3QgbW9kZXJhdG9yU3BlYWtpbmcgPSBtZW1iZXJzLmZpbHRlcihtID0+IG0udXNlci5pc01vZGVyYXRvcigpICYmIG0uc3BlYWspLmxlbmd0aFxuXG4gICAgLy8gUmVndWxhciB1c2VycyB1c2luZyB0aGUgZmxvb3IgaGVhciB0aGUgZmxvb3IgaWYgbm8gbW9kZXJhdG9yIGlzIHNwZWFraW5nXG4gICAgY29uc3QgcmVndWxhclVzZXJzID0gbWVtYmVycy5tYXAobSA9PiBtLnVzZXIpLmZpbHRlcih1ID0+IHUuaXNSZWd1bGFyKCkgJiYgdS51c2VGbG9vciAmJiByb29tSWQgIT09IHUucm9vbXMuZmxvb3IpXG4gICAgZm9yIChjb25zdCB1c2VyIG9mIHJlZ3VsYXJVc2Vycykge1xuICAgICAgY29uc3QgbWVtYmVyID0gdXNlci5tZW1iZXJCeVJvb21JZChyb29tSWQpXG4gICAgICBjb25zdCBmbG9vck1lbWJlciA9IHVzZXIubWVtYmVyQnlSb29tSWQodXNlci5yb29tcy5mbG9vcilcbiAgICAgIGlmIChtZW1iZXIgJiYgZmxvb3JNZW1iZXIpIHtcbiAgICAgICAgaWYgKHVzZXIuaXNGbG9vckVuYWJsZWQoKSkge1xuICAgICAgICAgIC8vIEZsb29yIGlzIGVuYWJsZWRcbiAgICAgICAgICBpZiAobWVtYmVyLmhlYXIgfHwgZmxvb3JNZW1iZXIuaGVhcikge1xuICAgICAgICAgICAgLy8gVGhlIHVzZXIgbXVzdCBsaXN0ZW4gdG8gb25seSBvbmUgcm9vbSwgZmluZCB3aGljaCBvbmUuLi5cbiAgICAgICAgICAgIGlmIChtb2RlcmF0b3JTcGVha2luZyB8fCBtZW1iZXIucm9vbUlkID09PSB1c2VyLnJvb21zLmJhYmVsKSB7XG4gICAgICAgICAgICAgIC8vIExpc3RlbiBvbmx5IHRvIHRoZSByb29tXG4gICAgICAgICAgICAgIGlmKGZsb29yTWVtYmVyLmhlYXIpIEVzbC5tdXRlSGVhcihmbG9vck1lbWJlci5pZCwgZmxvb3JNZW1iZXIucm9vbUlkKVxuICAgICAgICAgICAgICBpZighbWVtYmVyLmhlYXIpIEVzbC51bm11dGVIZWFyKG1lbWJlci5pZCwgbWVtYmVyLnJvb21JZClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIExpc3RlbiBvbmx5IHRvIHRoZSBmbG9vclxuICAgICAgICAgICAgICBpZihtZW1iZXIuaGVhcikgRXNsLm11dGVIZWFyKG1lbWJlci5pZCwgbWVtYmVyLnJvb21JZClcbiAgICAgICAgICAgICAgaWYoIWZsb29yTWVtYmVyLmhlYXIpIEVzbC51bm11dGVIZWFyKGZsb29yTWVtYmVyLmlkLCBmbG9vck1lbWJlci5yb29tSWQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIHNwZWFraW5nIHRvIHRoZSByb29tLCBzcGVhayBhbHNvIHRvIHRoZSBmbG9vclxuICAgICAgICAgIGlmIChtZW1iZXIuc3BlYWsgJiYgIWZsb29yTWVtYmVyLnNwZWFrKSBFc2wudW5tdXRlU3BlYWsoZmxvb3JNZW1iZXIuaWQsIGZsb29yTWVtYmVyLnJvb21JZClcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEZsb29yIGlzIGRpc2FibGVkXG4gICAgICAgICAgaWYgKG1lbWJlci5oZWFyIHx8IGZsb29yTWVtYmVyLmhlYXIpIHtcbiAgICAgICAgICAgIC8vIExpc3RlbiBvbmx5IHRvIHRoZSByb29tXG4gICAgICAgICAgICBpZihmbG9vck1lbWJlci5oZWFyKSBFc2wubXV0ZUhlYXIoZmxvb3JNZW1iZXIuaWQsIGZsb29yTWVtYmVyLnJvb21JZClcbiAgICAgICAgICAgIGlmKCFtZW1iZXIuaGVhcikgRXNsLnVubXV0ZUhlYXIobWVtYmVyLmlkLCBtZW1iZXIucm9vbUlkKVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBNdXRlIHNwZWFraW5nIHRvIHRoZSBmbG9vclxuICAgICAgICAgIGlmIChmbG9vck1lbWJlci5zcGVhaykgRXNsLm11dGVTcGVhayhmbG9vck1lbWJlci5pZCwgZmxvb3JNZW1iZXIucm9vbUlkKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGhhbmRsZVN3aXRjaGVyKHJvb21JZCkge1xuICAgIC8vIFRoZSBmbG9vciBpbXBsZW1lbnRzIGEgc2ltaWxhciBidXQgZGlzdHJpYnV0ZWQgbWVjaGFuaXNtXG4gICAgRnJlZXN3aXRjaC5oYW5kbGVGbG9vcihyb29tSWQpXG5cbiAgICBjb25zdCBzd2l0Y2hlciA9IFVzZXIuYWxsLmZpbmQodSA9PiB1LmlzU3dpdGNoZXIoKSAmJiB1LnJvb21zTGlzdC5pbmNsdWRlcyhyb29tSWQpKVxuICAgIGlmICghc3dpdGNoZXIpIHJldHVyblxuXG4gICAgY29uc3Qgc3dNZW1iZXIgPSBzd2l0Y2hlci5tZW1iZXJCeVJvb21JZChyb29tSWQpXG4gICAgaWYgKCFzd01lbWJlcikgcmV0dXJuXG5cbiAgICBjb25zdCBtb2RlcmF0b3JTcGVha2luZyA9IE1lbWJlci5ieVJvb20ocm9vbUlkKS5maWx0ZXIobSA9PiBtLnVzZXIuaXNNb2RlcmF0b3IoKSAmJiBtLnNwZWFrKS5sZW5ndGhcbiAgICBpZiAobW9kZXJhdG9yU3BlYWtpbmcpIHtcbiAgICAgIEVzbC5tdXRlU3BlYWsoc3dNZW1iZXIuaWQsIHJvb21JZClcbiAgICB9IGVsc2Uge1xuICAgICAgRXNsLnVubXV0ZVNwZWFrKHN3TWVtYmVyLmlkLCByb29tSWQpXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGJlZm9yZUZsb29yVG9nZ2xlKGZsb29yTWVtYmVyKSB7XG4gICAgY29uc3QgeyB1c2VyIH0gPSBmbG9vck1lbWJlclxuICAgIGNvbnN0IHsgaGVhclJvb21JZCwgc3BlYWtSb29tSWQgfSA9IHVzZXJcbiAgICBjb25zdCBoZWFyTWVtYmVyID0gdXNlci5tZW1iZXJCeVJvb21JZChoZWFyUm9vbUlkKVxuICAgIGNvbnN0IHNwZWFrTWVtYmVyID0gdXNlci5tZW1iZXJCeVJvb21JZChzcGVha1Jvb21JZClcblxuICAgIC8vIGRpc2FibGUgZmxvb3JcbiAgICBpZiAoZmxvb3JNZW1iZXIuaGVhcikge1xuICAgICAgaWYgKHNwZWFrTWVtYmVyLnNwZWFrKSBFc2wubXV0ZVNwZWFrKHNwZWFrTWVtYmVyLmlkLCBzcGVha1Jvb21JZClcbiAgICAgIGlmIChoZWFyTWVtYmVyLmhlYXIpIEVzbC5tdXRlSGVhcihoZWFyTWVtYmVyLmlkLCBoZWFyUm9vbUlkKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gZW5hYmxlIGZsb29yXG4gICAgaWYgKGhlYXJNZW1iZXIuaGVhcikgRXNsLm11dGVIZWFyKGhlYXJNZW1iZXIuaWQsIGhlYXJSb29tSWQpXG4gICAgaWYgKHNwZWFrTWVtYmVyLmhlYXIpIEVzbC5tdXRlSGVhcihzcGVha01lbWJlci5pZCwgc3BlYWtSb29tSWQpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY2hhbmdlUmVndWxhclJvb20oeyB1c2VySWQsIG5ld1Jvb21JZCB9KSB7XG4gICAgY29uc3QgdXNlciA9IFVzZXIuZmluZCh1c2VySWQpXG4gICAgY29uc3QgbWVtYmVyID0gdXNlci5tZW1iZXJCeVJvb21JZCh1c2VyLnJvb21zLmZpcnN0KVxuICAgIHVzZXIuc3BlYWtSb29tSWQgPSBuZXdSb29tSWRcbiAgICB1c2VyLmhlYXJSb29tSWQgPSBuZXdSb29tSWRcbiAgICB1c2VyLnJvb21zLmZpcnN0ID0gbmV3Um9vbUlkXG4gICAgaWYgKG1lbWJlcikge1xuICAgICAgdXNlci5za2lwUmVjb25uZWN0ID0gdHJ1ZVxuICAgICAgYXdhaXQgRXNsLmh1cE1lbWJlcihtZW1iZXIuaWQsIG1lbWJlci5yb29tSWQpXG4gICAgfVxuICAgIFNlbmRlci5maXJzdExpbmVDYWxsKHVzZXIuY2hhbm5lbHMuc2VsZiwgbmV3Um9vbUlkKVxuICAgIFNlbmRlci51cGRhdGVQcm9maWxlKHVzZXIuY2hhbm5lbHMuc2VsZiwgdXNlcilcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBzd2l0Y2hSb29tcyh7IHVzZXJJZCB9KSB7XG4gICAgY29uc3QgdXNlciA9IFVzZXIuZmluZCh1c2VySWQpXG4gICAgY29uc3QgeyBoZWFyUm9vbUlkLCBzcGVha1Jvb21JZCB9ID0gdXNlclxuXG4gICAgdXNlci5zcGVha1Jvb21JZCA9IGhlYXJSb29tSWRcbiAgICB1c2VyLmhlYXJSb29tSWQgPSBzcGVha1Jvb21JZFxuXG4gICAgY29uc3QgbmV3SGVhck1lbWJlciA9IHVzZXIubWVtYmVyQnlSb29tSWQodXNlci5oZWFyUm9vbUlkKVxuICAgIGNvbnN0IG5ld1NwZWFrTWVtYmVyID0gdXNlci5tZW1iZXJCeVJvb21JZCh1c2VyLnNwZWFrUm9vbUlkKVxuXG4gICAgLy8gSWYgbW9kZXJhdG9yIHdhcyBzcGVha2luZyBiZWZvcmUsIHN3aXRjaCBkZWFmL3VuZGVhZlxuICAgIGlmIChuZXdIZWFyTWVtYmVyLnNwZWFrKSB7XG4gICAgICAgIGF3YWl0IEVzbC5tdXRlU3BlYWsobmV3SGVhck1lbWJlci5pZCwgbmV3SGVhck1lbWJlci5yb29tSWQpXG4gICAgICAgIGF3YWl0IEVzbC51bm11dGVTcGVhayhuZXdTcGVha01lbWJlci5pZCwgbmV3U3BlYWtNZW1iZXIucm9vbUlkKVxuICAgICAgICBGcmVlc3dpdGNoLmhhbmRsZVN3aXRjaGVyKG5ld1NwZWFrTWVtYmVyLnJvb21JZClcbiAgICAgICAgRnJlZXN3aXRjaC5oYW5kbGVTd2l0Y2hlcihuZXdIZWFyTWVtYmVyLnJvb21JZClcbiAgICB9XG5cbiAgICBpZiAodXNlci5yb29tcy5sYW5nYikge1xuICAgICAgYXdhaXQgRXNsLnVubXV0ZUhlYXIobmV3U3BlYWtNZW1iZXIuaWQsIG5ld1NwZWFrTWVtYmVyLnJvb21JZClcbiAgICAgIGF3YWl0IEVzbC5tdXRlSGVhcihuZXdIZWFyTWVtYmVyLmlkLCBuZXdIZWFyTWVtYmVyLnJvb21JZClcbiAgICB9XG5cbiAgICBVc2VyU2VydmljZS51cGRhdGUodXNlcilcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBqb2luTG91bmdlKHsgdXNlcklkIH0pIHtcbiAgICBjb25zdCB1c2VyID0gVXNlci5maW5kKHVzZXJJZClcbiAgICBjb25zdCB7IHJvb21zIH0gPSB1c2VyXG4gICAgYXdhaXQgRnJlZXN3aXRjaC5waWNrU3RhdGUodXNlciwgUGlja1N0YXRlLk5PTkUpXG4gICAgaWYgKHJvb21zLmxvdW5nZSkgU2VuZGVyLmxvdW5nZUxpbmVDYWxsKHVzZXIuY2hhbm5lbHMuc2VsZiwgcm9vbXMubG91bmdlKVxuICAgIHVzZXIuc3BlYWtSb29tSWQgPSB1c2VyLnJvb21zLmxvdW5nZVxuICAgIHVzZXIuaGVhclJvb21JZCA9IHVzZXIucm9vbXMubG91bmdlXG4gICAgVXNlclNlcnZpY2UudXBkYXRlKHVzZXIpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgbGVhdmVMb3VuZ2UoeyB1c2VySWQgfSkge1xuICAgIGNvbnN0IHVzZXIgPSBVc2VyLmZpbmQodXNlcklkKVxuICAgIGNvbnN0IHsgcm9vbXMgfSA9IHVzZXJcbiAgICBjb25zdCBsb3VuZ2VNZW1iZXIgPSByb29tcy5sb3VuZ2UgPyB1c2VyLm1lbWJlckJ5Um9vbUlkKHJvb21zLmxvdW5nZSkgOiB1bmRlZmluZWRcbiAgICBpZiAobG91bmdlTWVtYmVyKSBhd2FpdCBFc2wuaHVwTWVtYmVyKGxvdW5nZU1lbWJlci5pZCwgbG91bmdlTWVtYmVyLnJvb21JZClcbiAgICB1c2VyLnNwZWFrUm9vbUlkID0gdXNlci5yb29tcy5zZWNvbmRcbiAgICB1c2VyLmhlYXJSb29tSWQgPSB1c2VyLnJvb21zLmZpcnN0XG4gICAgYXdhaXQgRnJlZXN3aXRjaC5waWNrU3RhdGUodXNlciwgUGlja1N0YXRlLlJFTEFZKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHBpY2tTdGF0ZSh1c2VyLCBzdGF0ZSwgcm9vbUlkKSB7XG4gICAgY29uc3QgeyBoZWFyUm9vbUlkLCBzcGVha1Jvb21JZCwgcm9vbXMsIHVzZXJTdGF0ZSB9ID0gdXNlclxuICAgIGNvbnN0IG1lZGlhU2V0dGluZ3MgPSB1c2VyU3RhdGUubWVkaWFTZXR0aW5nc1xuICAgIGNvbnN0IHNwZWFrTWVtYmVyID0gdXNlci5tZW1iZXJCeVJvb21JZChzcGVha1Jvb21JZClcbiAgICBjb25zdCBoZWFyTWVtYmVyID0gdXNlci5tZW1iZXJCeVJvb21JZChoZWFyUm9vbUlkKVxuICAgIGNvbnN0IGZsb29yTWVtYmVyID0gcm9vbXMuZmxvb3IgPyB1c2VyLm1lbWJlckJ5Um9vbUlkKHJvb21zLmZsb29yKSA6IHVuZGVmaW5lZFxuXG4gICAgaWYgKHN0YXRlID09PSBQaWNrU3RhdGUuRkxPT1IpIHtcbiAgICAgIGlmIChmbG9vck1lbWJlcikgYXdhaXQgRXNsLnVubXV0ZUhlYXIoZmxvb3JNZW1iZXIuaWQsIGZsb29yTWVtYmVyLnJvb21JZClcbiAgICAgIGlmIChtZWRpYVNldHRpbmdzLm91dHB1dFZvbHVtZUxpbmUxID4gMCkgYXdhaXQgRXNsLnVubXV0ZUhlYXIoaGVhck1lbWJlci5pZCwgaGVhclJvb21JZClcbiAgICAgIGlmIChtZWRpYVNldHRpbmdzLm91dHB1dFZvbHVtZUxpbmUyID4gMCkgYXdhaXQgRXNsLnVubXV0ZUhlYXIoc3BlYWtNZW1iZXIuaWQsIHNwZWFrUm9vbUlkKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZmxvb3JNZW1iZXIpIGF3YWl0IEVzbC5tdXRlSGVhcihmbG9vck1lbWJlci5pZCwgZmxvb3JNZW1iZXIucm9vbUlkKVxuICAgIH1cblxuICAgIGlmIChzdGF0ZSA9PT0gUGlja1N0YXRlLlJFTEFZKSB7XG4gICAgICBhd2FpdCBFc2wudW5tdXRlSGVhcihoZWFyTWVtYmVyLmlkLCBoZWFyUm9vbUlkKVxuICAgICAgYXdhaXQgRXNsLnVubXV0ZUhlYXIoc3BlYWtNZW1iZXIuaWQsIHNwZWFrUm9vbUlkKVxuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCBFc2wubXV0ZUhlYXIoaGVhck1lbWJlci5pZCwgaGVhclJvb21JZClcbiAgICAgIGF3YWl0IEVzbC5tdXRlSGVhcihzcGVha01lbWJlci5pZCwgc3BlYWtSb29tSWQpXG4gICAgfVxuXG4gICAgaWYgKHN0YXRlID09PSBQaWNrU3RhdGUuT1JBVE9SKSB7XG4gICAgICAgIGlmIChyb29tSWQgJiYgcm9vbUlkICE9PSByb29tcy5vcmF0b3IpIHtcbiAgICAgICAgICAgIGF3YWl0IEZyZWVzd2l0Y2guZHJvcE9yYXRvcih1c2VyKVxuICAgICAgICAgICAgaWYgKHJvb21JZCAhPT0gdXNlci5oZWFyUm9vbUlkICYmIHJvb21JZCAhPT0gdXNlci5zcGVha1Jvb21JZCkge1xuICAgICAgICAgICAgICAgIHJvb21zLm9yYXRvciA9IHJvb21JZFxuICAgICAgICAgICAgICAgIFNlbmRlci5vcmF0b3JMaW5lQ2FsbCh1c2VyLmNoYW5uZWxzLnNlbGYsIHJvb21JZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IEZyZWVzd2l0Y2guZHJvcE9yYXRvcih1c2VyKVxuICAgIH1cblxuICAgIGlmIChzdGF0ZSA9PT0gUGlja1N0YXRlLkxBTkdCKSB7XG4gICAgICAgIGlmIChyb29tSWQgJiYgcm9vbUlkICE9PSByb29tcy5sYW5nYikge1xuICAgICAgICAgICAgYXdhaXQgRnJlZXN3aXRjaC5kcm9wTGFuZ2IodXNlcilcbiAgICAgICAgICAgIGlmIChyb29tSWQgIT09IHVzZXIuaGVhclJvb21JZCAmJiByb29tSWQgIT09IHVzZXIuc3BlYWtSb29tSWQpIHtcbiAgICAgICAgICAgICAgICByb29tcy5sYW5nYiA9IHJvb21JZFxuICAgICAgICAgICAgICAgIFNlbmRlci5sYW5nYkxpbmVDYWxsKHVzZXIuY2hhbm5lbHMuc2VsZiwgcm9vbUlkKVxuICAgICAgICAgICAgICAgIGlmIChzcGVha01lbWJlci5zcGVhaykge1xuICAgICAgICAgICAgICAgICAgRXNsLnVubXV0ZUhlYXIoc3BlYWtNZW1iZXIuaWQsIHVzZXIuc3BlYWtSb29tSWQpXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoZWFyTWVtYmVyLnNwZWFrKSB7XG4gICAgICAgICAgICAgICAgICBFc2wudW5tdXRlSGVhcihoZWFyTWVtYmVyLmlkLCB1c2VyLmhlYXJNZW1iZXJJZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBGcmVlc3dpdGNoLmRyb3BMYW5nYih1c2VyKVxuICAgIH1cblxuICAgIFVzZXJTZXJ2aWNlLnVwZGF0ZSh1c2VyKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGRyb3BPcmF0b3IodXNlcikge1xuICAgIGNvbnN0IHsgcm9vbXMgfSA9IHVzZXJcbiAgICBjb25zdCBvcmF0b3JNZW1iZXIgPSByb29tcy5vcmF0b3IgPyB1c2VyLm1lbWJlckJ5Um9vbUlkKHJvb21zLm9yYXRvcikgOiB1bmRlZmluZWRcbiAgICBpZiAob3JhdG9yTWVtYmVyKSBhd2FpdCBFc2wuaHVwTWVtYmVyKG9yYXRvck1lbWJlci5pZCwgb3JhdG9yTWVtYmVyLnJvb21JZClcbiAgICByb29tcy5vcmF0b3IgPSBudWxsXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZHJvcExhbmdiKHVzZXIpIHtcbiAgICBjb25zdCB7IHJvb21zIH0gPSB1c2VyXG4gICAgY29uc3QgbGFuZ2JNZW1iZXIgPSByb29tcy5sYW5nYiA/IHVzZXIubWVtYmVyQnlSb29tSWQocm9vbXMubGFuZ2IpIDogdW5kZWZpbmVkXG4gICAgaWYgKGxhbmdiTWVtYmVyKSBhd2FpdCBFc2wuaHVwTWVtYmVyKGxhbmdiTWVtYmVyLmlkLCBsYW5nYk1lbWJlci5yb29tSWQpXG4gICAgcm9vbXMubGFuZ2IgPSBudWxsXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgcGlja1JlbGF5KHsgdXNlcklkIH0pIHtcbiAgICBjb25zdCB1c2VyID0gVXNlci5maW5kKHVzZXJJZClcbiAgICBhd2FpdCBGcmVlc3dpdGNoLnBpY2tTdGF0ZSh1c2VyLCBQaWNrU3RhdGUuUkVMQVkpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgcGlja0Zsb29yKHsgdXNlcklkIH0pIHtcbiAgICBjb25zdCB1c2VyID0gVXNlci5maW5kKHVzZXJJZClcbiAgICBhd2FpdCBGcmVlc3dpdGNoLnBpY2tTdGF0ZSh1c2VyLCBQaWNrU3RhdGUuRkxPT1IpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgcGlja09yYXRvcih7IHVzZXJJZCwgcm9vbUlkIH0pIHtcbiAgICBjb25zdCB1c2VyID0gVXNlci5maW5kKHVzZXJJZClcbiAgICBpZiAocm9vbUlkKSBhd2FpdCBGcmVlc3dpdGNoLnBpY2tTdGF0ZSh1c2VyLCBQaWNrU3RhdGUuT1JBVE9SLCByb29tSWQpXG4gICAgZWxzZSBhd2FpdCBGcmVlc3dpdGNoLnBpY2tTdGF0ZSh1c2VyLCBQaWNrU3RhdGUuUkVMQVkpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgcGlja0xhbmdiKHsgdXNlcklkLCByb29tSWQgfSkge1xuICAgIGNvbnN0IHVzZXIgPSBVc2VyLmZpbmQodXNlcklkKVxuICAgIGlmIChyb29tSWQpIGF3YWl0IEZyZWVzd2l0Y2gucGlja1N0YXRlKHVzZXIsIFBpY2tTdGF0ZS5MQU5HQiwgcm9vbUlkKVxuICAgIGVsc2UgYXdhaXQgRnJlZXN3aXRjaC5waWNrU3RhdGUodXNlciwgUGlja1N0YXRlLlJFTEFZKVxuICB9XG5cbiAgc3RhdGljIHNldFZvbHVtZUluKHsgdXNlcklkLCBsZXZlbCB9KSB7XG4gICAgY29uc3QgdXNlciA9IFVzZXIuZmluZCh1c2VySWQpXG4gICAgY29uc3QgeyBlY2hvVXVpZCB9ID0gdXNlclxuICAgIHVzZXIubWVtYmVycy5mb3JFYWNoKG0gPT4gRXNsLnZvbHVtZUluKG0uaWQsIG0ucm9vbUlkLCBsZXZlbCkpXG4gICAgaWYgKGVjaG9VdWlkKSB7XG4gICAgICBFc2wudXVpZF9hdWRpbyhlY2hvVXVpZCwgYHN0YXJ0IHdyaXRlIGxldmVsICR7bGV2ZWx9YClcbiAgICB9XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "freeswitch.js"
      ],
      "names": [
        "PickState",
        "NONE",
        "RELAY",
        "FLOOR",
        "ORATOR",
        "LANGB",
        "Freeswitch",
        "toggleSpeakSelf",
        "userId",
        "user",
        "User",
        "find",
        "isModerator",
        "toggleSpeakModerator",
        "toggleSpeakRegular",
        "toggleHearSelf",
        "toggleHearModerator",
        "toggleHearRegular",
        "member",
        "memberByRoomId",
        "speakRoomId",
        "speak",
        "Adjustments",
        "demoMode",
        "isFloorEnabled",
        "rooms",
        "babel",
        "floorMember",
        "floor",
        "Esl",
        "muteSpeak",
        "id",
        "roomId",
        "unmuteSpeak",
        "toggleSpeak",
        "hearRoomId",
        "toggleHear",
        "hear",
        "muteSpeakRegular",
        "inLoungeRoom",
        "toggleLoungeSpeak",
        "speakRoom",
        "hearRoom",
        "speakMember",
        "hearMember",
        "unmuting",
        "isFloorHear",
        "unmuteHear",
        "handleSwitcher",
        "wasHearBoth",
        "muteModeratorsBoothTeam",
        "loungeMember",
        "lounge",
        "muteHear",
        "hearBoth",
        "console",
        "log",
        "promises",
        "boothTeam",
        "forEach",
        "u",
        "push",
        "Promise",
        "all",
        "toggleSpeakMember",
        "memberId",
        "Member",
        "participant",
        "isSwitcher",
        "isRegular",
        "first",
        "langb",
        "Notify",
        "toggleHearMember",
        "isFloor",
        "beforeFloorToggle",
        "handleFloorForMeeting",
        "meetingId",
        "Set",
        "byMeeting",
        "roomsList",
        "r",
        "add",
        "handleFloor",
        "members",
        "byRoom",
        "moderatorSpeaking",
        "filter",
        "m",
        "length",
        "regularUsers",
        "map",
        "useFloor",
        "switcher",
        "includes",
        "swMember",
        "changeRegularRoom",
        "newRoomId",
        "skipReconnect",
        "hupMember",
        "Sender",
        "firstLineCall",
        "channels",
        "self",
        "updateProfile",
        "switchRooms",
        "newHearMember",
        "newSpeakMember",
        "UserService",
        "update",
        "joinLounge",
        "pickState",
        "loungeLineCall",
        "leaveLounge",
        "undefined",
        "second",
        "state",
        "userState",
        "mediaSettings",
        "outputVolumeLine1",
        "outputVolumeLine2",
        "orator",
        "dropOrator",
        "oratorLineCall",
        "dropLangb",
        "langbLineCall",
        "hearMemberId",
        "oratorMember",
        "langbMember",
        "pickRelay",
        "pickFloor",
        "pickOrator",
        "pickLangb",
        "setVolumeIn",
        "level",
        "echoUuid",
        "volumeIn",
        "uuid_audio"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/",
      "sourcesContent": [
        "import Esl from '../esl'\nimport Adjustments from '../libs/adjustments'\nimport User from '../models/user'\nimport Member from '../models/member'\nimport UserService from './users'\nimport { Sender } from '../socket'\nimport * as Notify from './notify'\n\nconst PickState = {\n  NONE: 'NONE',\n  RELAY: 'RELAY',\n  FLOOR: 'FLOOR',\n  ORATOR: 'ORATOR',\n  LANGB: 'LANGB',\n}\n\nexport default class Freeswitch {\n  static toggleSpeakSelf({ userId }) {\n    const user = User.find(userId)\n    if (user.isModerator()) return Freeswitch.toggleSpeakModerator(user)\n    return Freeswitch.toggleSpeakRegular(user)\n  }\n\n  static toggleHearSelf({ userId }) {\n    const user = User.find(userId)\n    if (user.isModerator()) return Freeswitch.toggleHearModerator(user)\n    return Freeswitch.toggleHearRegular(user)\n  }\n\n  static async toggleSpeakRegular(user) {\n    const member = user.memberByRoomId(user.speakRoomId)\n    if (!member.speak && Adjustments.demoMode) return\n\n    if (user.isFloorEnabled() && user.speakRoomId !== user.rooms.babel) {\n      // Toggle speaking to the room and floor\n      const floorMember = user.memberByRoomId(user.rooms.floor)\n      if (member.speak) {\n        await Esl.muteSpeak(member.id, member.roomId)\n        if (floorMember) await Esl.muteSpeak(floorMember.id, floorMember.roomId)\n      } else {\n        await Esl.unmuteSpeak(member.id, member.roomId)\n        if (floorMember) await Esl.unmuteSpeak(floorMember.id, floorMember.roomId)\n      }\n    } else {\n      // Toggle speaking to the room\n      await Esl.toggleSpeak(member.id, member.roomId)\n    }\n  }\n\n  static async toggleHearRegular(user) {\n    if (user.isFloorEnabled() && user.hearRoomId !== user.rooms.babel) {\n      // Toggle on the floor\n      const floorMember = user.memberByRoomId(user.rooms.floor)\n      if (floorMember) await Esl.toggleHear(floorMember.id, floorMember.roomId, floorMember.hear)\n    } else {\n      // Toggle on the room\n      const member = user.memberByRoomId(user.hearRoomId)\n      await Esl.toggleHear(member.id, member.roomId, member.hear)\n    }\n  }\n\n  static async muteSpeakRegular(user) {\n    const member = user.memberByRoomId(user.speakRoomId)\n    await Esl.muteSpeak(member.id, member.roomId)\n\n    if (user.isFloorEnabled()) {\n      // Also toggle speaking to the floor\n      const floorMember = user.memberByRoomId(user.rooms.floor)\n      if (floorMember) {\n        await Esl.muteSpeak(floorMember.id, floorMember.roomId)\n      }\n    }\n  }\n\n  static async toggleSpeakModerator(user) {\n    if (user.inLoungeRoom()) return Freeswitch.toggleLoungeSpeak(user)\n\n    const speakRoom = user.speakRoomId\n    const hearRoom = user.hearRoomId\n    const speakMember = user.memberByRoomId(speakRoom)\n    const hearMember = user.memberByRoomId(hearRoom)\n    const unmuting = !speakMember.speak\n\n    if (unmuting && !hearMember.hear && !user.isFloorHear()) {\n      await Esl.unmuteHear(hearMember.id, hearMember.roomId)\n    }\n    await Esl.toggleSpeak(speakMember.id, speakMember.roomId)\n\n    if (!unmuting) {\n      Freeswitch.handleSwitcher(hearMember.roomId)\n      Freeswitch.handleSwitcher(speakMember.roomId)\n      return\n    }\n\n    if (user.wasHearBoth && !user.isFloorHear()) {\n      await Esl.unmuteHear(speakMember.id, speakMember.roomId)\n    }\n\n    // mute all other moderators with the same rooms\n    await Freeswitch.muteModeratorsBoothTeam(user)\n\n    Freeswitch.handleSwitcher(hearMember.roomId)\n    Freeswitch.handleSwitcher(speakMember.roomId)\n  }\n\n  static async toggleHearModerator(user) {\n    const loungeMember = user.memberByRoomId(user.rooms.lounge)\n    if (loungeMember) {\n      return Esl.toggleHear(loungeMember.id, loungeMember.roomId, loungeMember.hear)\n    }\n\n    const floorMember = user.memberByRoomId(user.rooms.floor)\n    if (floorMember && floorMember.hear) {\n      Esl.muteHear(floorMember.id, floorMember.roomId)\n    }\n\n    const { hearRoomId, speakRoomId } = user\n    const speakMember = user.memberByRoomId(speakRoomId)\n    const hearMember = user.memberByRoomId(hearRoomId)\n\n    if (hearMember.hear && speakMember.hear) {\n      Esl.muteHear(speakMember.id, speakMember.roomId)\n      return\n    }\n\n    if (hearMember.hear && speakMember.speak) {\n      await Esl.muteSpeak(speakMember.id, speakMember.roomId)\n    }\n\n    if (hearMember.hear || speakMember.hear) {\n      user.wasHearBoth = user.hearBoth()\n      await Esl.muteHear(hearMember.id, hearMember.roomId)\n      await Esl.muteHear(speakMember.id, speakMember.roomId)\n    } else if (!hearMember.hear && !speakMember.hear) {\n      await Esl.unmuteHear(hearMember.id, hearMember.roomId)\n      if (user.wasHearBoth) {\n        await Esl.unmuteHear(speakMember.id, speakMember.roomId)\n      }\n    }\n    Freeswitch.handleSwitcher(hearMember.roomId)\n    Freeswitch.handleSwitcher(speakMember.roomId)\n  }\n\n  static toggleLoungeSpeak(user) {\n    const member = user.memberByRoomId(user.rooms.lounge)\n    Esl.toggleSpeak(member.id, member.roomId)\n    console.log('user', user)\n  }\n\n  static muteModeratorsBoothTeam(user) {\n    const promises = []\n    user.boothTeam().forEach(u => {\n      const speakMember = u.memberByRoomId(u.speakRoomId)\n      if (!speakMember || !speakMember.speak) return\n      promises.push(Esl.muteSpeak(speakMember.id, speakMember.roomId))\n    })\n    return Promise.all(promises)\n  }\n\n  static async toggleSpeakMember({ userId, memberId, roomId }) {\n    const user = User.find(userId)\n    const member = Member.find(memberId)\n    if (!member) return\n    const participant = member.user\n\n    if (user.isSwitcher() || participant.isSwitcher()) return\n\n    if (user.isRegular()) {\n      if (participant.isModerator() || participant.rooms.first !== roomId || Adjustments.demoMode) return\n    }\n\n    if (participant.isModerator() && !participant.inLoungeRoom()) {\n      await Freeswitch.muteModeratorsBoothTeam(member.user)\n    }\n\n    if (participant.isFloorEnabled() && participant.isRegular() && roomId !== participant.rooms.babel) {\n      // Toggle speaking to the room and the floor\n      const floorMember = participant.memberByRoomId(user.rooms.floor)\n      if (member.speak) {\n        await Esl.muteSpeak(member.id, roomId)\n        if (floorMember) await Esl.muteSpeak(floorMember.id, floorMember.roomId)\n      } else {\n        await Esl.unmuteSpeak(member.id, roomId)\n        if (floorMember) await Esl.unmuteSpeak(floorMember.id, floorMember.roomId)\n      }\n    } else {\n        if (user.rooms.langb) {\n          await Esl.toggleHear(member.id, roomId, member.speak)\n        }\n        // Toggle speaking to the room\n        await Esl.toggleSpeak(member.id, roomId)\n    }\n\n    Freeswitch.handleSwitcher(roomId)\n    Notify.toggleSpeak(member, user)\n  }\n\n  static toggleHearMember({ memberId, roomId }) { // for debug mode\n    const member = Member.find(memberId)\n    if (!member) return\n\n    if (member.isFloor()) Freeswitch.beforeFloorToggle(member)\n\n    Esl.toggleHear(memberId, roomId, member.hear)\n  }\n\n  static handleFloorForMeeting(meetingId) {\n    const rooms = new Set()\n    User.byMeeting(meetingId).forEach(u => u.roomsList.forEach(r => rooms.add(r)))\n    rooms.forEach(r => Freeswitch.handleFloor(r))\n  }\n\n  static handleFloor(roomId) {\n    const members = Member.byRoom(roomId)\n    const moderatorSpeaking = members.filter(m => m.user.isModerator() && m.speak).length\n\n    // Regular users using the floor hear the floor if no moderator is speaking\n    const regularUsers = members.map(m => m.user).filter(u => u.isRegular() && u.useFloor && roomId !== u.rooms.floor)\n    for (const user of regularUsers) {\n      const member = user.memberByRoomId(roomId)\n      const floorMember = user.memberByRoomId(user.rooms.floor)\n      if (member && floorMember) {\n        if (user.isFloorEnabled()) {\n          // Floor is enabled\n          if (member.hear || floorMember.hear) {\n            // The user must listen to only one room, find which one...\n            if (moderatorSpeaking || member.roomId === user.rooms.babel) {\n              // Listen only to the room\n              if(floorMember.hear) Esl.muteHear(floorMember.id, floorMember.roomId)\n              if(!member.hear) Esl.unmuteHear(member.id, member.roomId)\n            } else {\n              // Listen only to the floor\n              if(member.hear) Esl.muteHear(member.id, member.roomId)\n              if(!floorMember.hear) Esl.unmuteHear(floorMember.id, floorMember.roomId)\n            }\n          }\n          // If speaking to the room, speak also to the floor\n          if (member.speak && !floorMember.speak) Esl.unmuteSpeak(floorMember.id, floorMember.roomId)\n\n        } else {\n          // Floor is disabled\n          if (member.hear || floorMember.hear) {\n            // Listen only to the room\n            if(floorMember.hear) Esl.muteHear(floorMember.id, floorMember.roomId)\n            if(!member.hear) Esl.unmuteHear(member.id, member.roomId)\n          }\n          // Mute speaking to the floor\n          if (floorMember.speak) Esl.muteSpeak(floorMember.id, floorMember.roomId)\n        }\n      }\n    }\n  }\n\n  static handleSwitcher(roomId) {\n    // The floor implements a similar but distributed mechanism\n    Freeswitch.handleFloor(roomId)\n\n    const switcher = User.all.find(u => u.isSwitcher() && u.roomsList.includes(roomId))\n    if (!switcher) return\n\n    const swMember = switcher.memberByRoomId(roomId)\n    if (!swMember) return\n\n    const moderatorSpeaking = Member.byRoom(roomId).filter(m => m.user.isModerator() && m.speak).length\n    if (moderatorSpeaking) {\n      Esl.muteSpeak(swMember.id, roomId)\n    } else {\n      Esl.unmuteSpeak(swMember.id, roomId)\n    }\n  }\n\n  static beforeFloorToggle(floorMember) {\n    const { user } = floorMember\n    const { hearRoomId, speakRoomId } = user\n    const hearMember = user.memberByRoomId(hearRoomId)\n    const speakMember = user.memberByRoomId(speakRoomId)\n\n    // disable floor\n    if (floorMember.hear) {\n      if (speakMember.speak) Esl.muteSpeak(speakMember.id, speakRoomId)\n      if (hearMember.hear) Esl.muteHear(hearMember.id, hearRoomId)\n      return\n    }\n\n    // enable floor\n    if (hearMember.hear) Esl.muteHear(hearMember.id, hearRoomId)\n    if (speakMember.hear) Esl.muteHear(speakMember.id, speakRoomId)\n  }\n\n  static async changeRegularRoom({ userId, newRoomId }) {\n    const user = User.find(userId)\n    const member = user.memberByRoomId(user.rooms.first)\n    user.speakRoomId = newRoomId\n    user.hearRoomId = newRoomId\n    user.rooms.first = newRoomId\n    if (member) {\n      user.skipReconnect = true\n      await Esl.hupMember(member.id, member.roomId)\n    }\n    Sender.firstLineCall(user.channels.self, newRoomId)\n    Sender.updateProfile(user.channels.self, user)\n  }\n\n  static async switchRooms({ userId }) {\n    const user = User.find(userId)\n    const { hearRoomId, speakRoomId } = user\n\n    user.speakRoomId = hearRoomId\n    user.hearRoomId = speakRoomId\n\n    const newHearMember = user.memberByRoomId(user.hearRoomId)\n    const newSpeakMember = user.memberByRoomId(user.speakRoomId)\n\n    // If moderator was speaking before, switch deaf/undeaf\n    if (newHearMember.speak) {\n        await Esl.muteSpeak(newHearMember.id, newHearMember.roomId)\n        await Esl.unmuteSpeak(newSpeakMember.id, newSpeakMember.roomId)\n        Freeswitch.handleSwitcher(newSpeakMember.roomId)\n        Freeswitch.handleSwitcher(newHearMember.roomId)\n    }\n\n    if (user.rooms.langb) {\n      await Esl.unmuteHear(newSpeakMember.id, newSpeakMember.roomId)\n      await Esl.muteHear(newHearMember.id, newHearMember.roomId)\n    }\n\n    UserService.update(user)\n  }\n\n  static async joinLounge({ userId }) {\n    const user = User.find(userId)\n    const { rooms } = user\n    await Freeswitch.pickState(user, PickState.NONE)\n    if (rooms.lounge) Sender.loungeLineCall(user.channels.self, rooms.lounge)\n    user.speakRoomId = user.rooms.lounge\n    user.hearRoomId = user.rooms.lounge\n    UserService.update(user)\n  }\n\n  static async leaveLounge({ userId }) {\n    const user = User.find(userId)\n    const { rooms } = user\n    const loungeMember = rooms.lounge ? user.memberByRoomId(rooms.lounge) : undefined\n    if (loungeMember) await Esl.hupMember(loungeMember.id, loungeMember.roomId)\n    user.speakRoomId = user.rooms.second\n    user.hearRoomId = user.rooms.first\n    await Freeswitch.pickState(user, PickState.RELAY)\n  }\n\n  static async pickState(user, state, roomId) {\n    const { hearRoomId, speakRoomId, rooms, userState } = user\n    const mediaSettings = userState.mediaSettings\n    const speakMember = user.memberByRoomId(speakRoomId)\n    const hearMember = user.memberByRoomId(hearRoomId)\n    const floorMember = rooms.floor ? user.memberByRoomId(rooms.floor) : undefined\n\n    if (state === PickState.FLOOR) {\n      if (floorMember) await Esl.unmuteHear(floorMember.id, floorMember.roomId)\n      if (mediaSettings.outputVolumeLine1 > 0) await Esl.unmuteHear(hearMember.id, hearRoomId)\n      if (mediaSettings.outputVolumeLine2 > 0) await Esl.unmuteHear(speakMember.id, speakRoomId)\n    } else {\n      if (floorMember) await Esl.muteHear(floorMember.id, floorMember.roomId)\n    }\n\n    if (state === PickState.RELAY) {\n      await Esl.unmuteHear(hearMember.id, hearRoomId)\n      await Esl.unmuteHear(speakMember.id, speakRoomId)\n    } else {\n      await Esl.muteHear(hearMember.id, hearRoomId)\n      await Esl.muteHear(speakMember.id, speakRoomId)\n    }\n\n    if (state === PickState.ORATOR) {\n        if (roomId && roomId !== rooms.orator) {\n            await Freeswitch.dropOrator(user)\n            if (roomId !== user.hearRoomId && roomId !== user.speakRoomId) {\n                rooms.orator = roomId\n                Sender.oratorLineCall(user.channels.self, roomId)\n            }\n        }\n    } else {\n        await Freeswitch.dropOrator(user)\n    }\n\n    if (state === PickState.LANGB) {\n        if (roomId && roomId !== rooms.langb) {\n            await Freeswitch.dropLangb(user)\n            if (roomId !== user.hearRoomId && roomId !== user.speakRoomId) {\n                rooms.langb = roomId\n                Sender.langbLineCall(user.channels.self, roomId)\n                if (speakMember.speak) {\n                  Esl.unmuteHear(speakMember.id, user.speakRoomId)\n                } else if (hearMember.speak) {\n                  Esl.unmuteHear(hearMember.id, user.hearMemberId)\n                }\n            }\n        }\n    } else {\n        await Freeswitch.dropLangb(user)\n    }\n\n    UserService.update(user)\n  }\n\n  static async dropOrator(user) {\n    const { rooms } = user\n    const oratorMember = rooms.orator ? user.memberByRoomId(rooms.orator) : undefined\n    if (oratorMember) await Esl.hupMember(oratorMember.id, oratorMember.roomId)\n    rooms.orator = null\n  }\n\n  static async dropLangb(user) {\n    const { rooms } = user\n    const langbMember = rooms.langb ? user.memberByRoomId(rooms.langb) : undefined\n    if (langbMember) await Esl.hupMember(langbMember.id, langbMember.roomId)\n    rooms.langb = null\n  }\n\n  static async pickRelay({ userId }) {\n    const user = User.find(userId)\n    await Freeswitch.pickState(user, PickState.RELAY)\n  }\n\n  static async pickFloor({ userId }) {\n    const user = User.find(userId)\n    await Freeswitch.pickState(user, PickState.FLOOR)\n  }\n\n  static async pickOrator({ userId, roomId }) {\n    const user = User.find(userId)\n    if (roomId) await Freeswitch.pickState(user, PickState.ORATOR, roomId)\n    else await Freeswitch.pickState(user, PickState.RELAY)\n  }\n\n  static async pickLangb({ userId, roomId }) {\n    const user = User.find(userId)\n    if (roomId) await Freeswitch.pickState(user, PickState.LANGB, roomId)\n    else await Freeswitch.pickState(user, PickState.RELAY)\n  }\n\n  static setVolumeIn({ userId, level }) {\n    const user = User.find(userId)\n    const { echoUuid } = user\n    user.members.forEach(m => Esl.volumeIn(m.id, m.roomId, level))\n    if (echoUuid) {\n      Esl.uuid_audio(echoUuid, `start write level ${level}`)\n    }\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/services/notify.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/notify.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/notify.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/notify.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/",
        "sourceFileName": "notify.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toggleSpeak = void 0;\n\nvar _socket = require(\"../socket\");\n\nconst toggleSpeak = (member, user) => {\n  if (member.user.id === user.id) return;\n  const action = member.speak ? 'has unmuted' : 'has muted';\n\n  _socket.Sender.notify(member.user.channels.self, `${user.displayName} ${action} you`);\n};\n\nexports.toggleSpeak = toggleSpeak;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdGlmeS5qcyJdLCJuYW1lcyI6WyJ0b2dnbGVTcGVhayIsIm1lbWJlciIsInVzZXIiLCJpZCIsImFjdGlvbiIsInNwZWFrIiwiU2VuZGVyIiwibm90aWZ5IiwiY2hhbm5lbHMiLCJzZWxmIiwiZGlzcGxheU5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFTyxNQUFNQSxXQUFXLEdBQUcsQ0FBQ0MsTUFBRCxFQUFTQyxJQUFULEtBQWtCO0FBQzNDLE1BQUlELE1BQU0sQ0FBQ0MsSUFBUCxDQUFZQyxFQUFaLEtBQW1CRCxJQUFJLENBQUNDLEVBQTVCLEVBQWdDO0FBQ2hDLFFBQU1DLE1BQU0sR0FBR0gsTUFBTSxDQUFDSSxLQUFQLEdBQWUsYUFBZixHQUErQixXQUE5Qzs7QUFDQUMsaUJBQU9DLE1BQVAsQ0FBY04sTUFBTSxDQUFDQyxJQUFQLENBQVlNLFFBQVosQ0FBcUJDLElBQW5DLEVBQTBDLEdBQUVQLElBQUksQ0FBQ1EsV0FBWSxJQUFHTixNQUFPLE1BQXZFO0FBQ0QsQ0FKTSIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9zZXJ2aWNlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZW5kZXIgfSBmcm9tICcuLi9zb2NrZXQnXG5cbmV4cG9ydCBjb25zdCB0b2dnbGVTcGVhayA9IChtZW1iZXIsIHVzZXIpID0+IHtcbiAgaWYgKG1lbWJlci51c2VyLmlkID09PSB1c2VyLmlkKSByZXR1cm5cbiAgY29uc3QgYWN0aW9uID0gbWVtYmVyLnNwZWFrID8gJ2hhcyB1bm11dGVkJyA6ICdoYXMgbXV0ZWQnXG4gIFNlbmRlci5ub3RpZnkobWVtYmVyLnVzZXIuY2hhbm5lbHMuc2VsZiwgYCR7dXNlci5kaXNwbGF5TmFtZX0gJHthY3Rpb259IHlvdWApXG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "notify.js"
      ],
      "names": [
        "toggleSpeak",
        "member",
        "user",
        "id",
        "action",
        "speak",
        "Sender",
        "notify",
        "channels",
        "self",
        "displayName"
      ],
      "mappings": ";;;;;;;AAAA;;AAEO,MAAMA,WAAW,GAAG,CAACC,MAAD,EAASC,IAAT,KAAkB;AAC3C,MAAID,MAAM,CAACC,IAAP,CAAYC,EAAZ,KAAmBD,IAAI,CAACC,EAA5B,EAAgC;AAChC,QAAMC,MAAM,GAAGH,MAAM,CAACI,KAAP,GAAe,aAAf,GAA+B,WAA9C;;AACAC,iBAAOC,MAAP,CAAcN,MAAM,CAACC,IAAP,CAAYM,QAAZ,CAAqBC,IAAnC,EAA0C,GAAEP,IAAI,CAACQ,WAAY,IAAGN,MAAO,MAAvE;AACD,CAJM",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/",
      "sourcesContent": [
        "import { Sender } from '../socket'\n\nexport const toggleSpeak = (member, user) => {\n  if (member.user.id === user.id) return\n  const action = member.speak ? 'has unmuted' : 'has muted'\n  Sender.notify(member.user.channels.self, `${user.displayName} ${action} you`)\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/handler.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/handler.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/handler.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/handler.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
        "sourceFileName": "handler.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _socket = _interopRequireDefault(require(\"../socket\"));\n\nvar _freeswitch = _interopRequireDefault(require(\"../../services/freeswitch\"));\n\nvar _adjustments = _interopRequireDefault(require(\"../../libs/adjustments\"));\n\nvar _user = _interopRequireDefault(require(\"../../models/user\"));\n\nvar _client = _interopRequireWildcard(require(\"../client\"));\n\nvar _users = _interopRequireDefault(require(\"../../services/users\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = (event, client, data) => {\n  try {\n    switch (event) {\n      // TODO: Add admin namespace to events\n      case _socket.default.TOGGLE_SPEAK_SELF:\n        _freeswitch.default.toggleSpeakSelf(data);\n\n        break;\n\n      case _socket.default.TOGGLE_HEAR_SELF:\n        _freeswitch.default.toggleHearSelf(data);\n\n        break;\n\n      case _socket.default.TOGGLE_ADJUSTMENTS:\n        _adjustments.default.toggle(typeof data == 'string' ? data : data.name);\n\n        break;\n\n      case _socket.default.TOGGLE_MEETING_ADJUSTMENTS:\n        _adjustments.default.toggleMeeting(data.name, data.meetingId);\n\n        break;\n\n      case _socket.default.USER_PEEK_ON:\n        _freeswitch.default.peekOn(data);\n\n        break;\n\n      case _socket.default.USER_PEEK_OFF:\n        _freeswitch.default.peekOff(data);\n\n        break;\n\n      case _socket.default.ADMIN_DISCONNECT_USER:\n        {\n          const socket = _client.default.byUser(data.userId);\n\n          socket.send({\n            event: _socket.default.DISABLE_RECONNECT\n          });\n          socket.close();\n          break;\n        }\n\n      case _socket.default.ADMIN_RECONNECT_USER:\n        {\n          const socket = _client.default.byUser(data.userId);\n\n          socket.send({\n            event: _socket.default.RECONNECT_USER\n          });\n          socket.close();\n          break;\n        }\n\n      case _socket.default.ADMIN_GET_USER_STATE:\n        {\n          const user = _user.default.find(data);\n\n          const {\n            userState\n          } = user;\n          client.send({\n            event: _socket.default.ADMIN_SET_USER_STATE,\n            data: {\n              userId: user.id,\n              userState\n            }\n          });\n          break;\n        }\n\n      case _socket.default.ADMIN_NOTIFY_USER:\n        {\n          const user = _user.default.find(data.userId);\n\n          _client.Sender.notify(user.channels.self, data.message);\n\n          break;\n        }\n\n      case _socket.default.SWITCH_ROOMS:\n        {\n          _freeswitch.default.switchRooms(data);\n\n          const user = _user.default.find(data.userId);\n\n          _users.default.update(user);\n\n          break;\n        }\n\n      default:\n        console.log('Socket, no such event: ', event);\n    }\n  } catch (e) {\n    console.error(`Error: ${e}`);\n  }\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhhbmRsZXIuanMiXSwibmFtZXMiOlsiZXZlbnQiLCJjbGllbnQiLCJkYXRhIiwiU29ja2V0IiwiVE9HR0xFX1NQRUFLX1NFTEYiLCJGcmVlc3dpdGNoIiwidG9nZ2xlU3BlYWtTZWxmIiwiVE9HR0xFX0hFQVJfU0VMRiIsInRvZ2dsZUhlYXJTZWxmIiwiVE9HR0xFX0FESlVTVE1FTlRTIiwiQWRqdXN0bWVudHMiLCJ0b2dnbGUiLCJuYW1lIiwiVE9HR0xFX01FRVRJTkdfQURKVVNUTUVOVFMiLCJ0b2dnbGVNZWV0aW5nIiwibWVldGluZ0lkIiwiVVNFUl9QRUVLX09OIiwicGVla09uIiwiVVNFUl9QRUVLX09GRiIsInBlZWtPZmYiLCJBRE1JTl9ESVNDT05ORUNUX1VTRVIiLCJzb2NrZXQiLCJDbGllbnQiLCJieVVzZXIiLCJ1c2VySWQiLCJzZW5kIiwiRElTQUJMRV9SRUNPTk5FQ1QiLCJjbG9zZSIsIkFETUlOX1JFQ09OTkVDVF9VU0VSIiwiUkVDT05ORUNUX1VTRVIiLCJBRE1JTl9HRVRfVVNFUl9TVEFURSIsInVzZXIiLCJVc2VyIiwiZmluZCIsInVzZXJTdGF0ZSIsIkFETUlOX1NFVF9VU0VSX1NUQVRFIiwiaWQiLCJBRE1JTl9OT1RJRllfVVNFUiIsIkNsaWVudFNlbmRlciIsIm5vdGlmeSIsImNoYW5uZWxzIiwic2VsZiIsIm1lc3NhZ2UiLCJTV0lUQ0hfUk9PTVMiLCJzd2l0Y2hSb29tcyIsIlVzZXJTZXJ2aWNlIiwidXBkYXRlIiwiY29uc29sZSIsImxvZyIsImUiLCJlcnJvciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7OztlQUVlLENBQUNBLEtBQUQsRUFBUUMsTUFBUixFQUFnQkMsSUFBaEIsS0FBeUI7QUFDdEMsTUFBSTtBQUNGLFlBQVFGLEtBQVI7QUFDRTtBQUNBLFdBQUtHLGdCQUFPQyxpQkFBWjtBQUNFQyw0QkFBV0MsZUFBWCxDQUEyQkosSUFBM0I7O0FBQ0E7O0FBQ0YsV0FBS0MsZ0JBQU9JLGdCQUFaO0FBQ0VGLDRCQUFXRyxjQUFYLENBQTBCTixJQUExQjs7QUFDQTs7QUFDRixXQUFLQyxnQkFBT00sa0JBQVo7QUFDRUMsNkJBQVlDLE1BQVosQ0FBbUIsT0FBT1QsSUFBUCxJQUFlLFFBQWYsR0FBMEJBLElBQTFCLEdBQWlDQSxJQUFJLENBQUNVLElBQXpEOztBQUNBOztBQUNGLFdBQUtULGdCQUFPVSwwQkFBWjtBQUNFSCw2QkFBWUksYUFBWixDQUEwQlosSUFBSSxDQUFDVSxJQUEvQixFQUFxQ1YsSUFBSSxDQUFDYSxTQUExQzs7QUFDQTs7QUFDRixXQUFLWixnQkFBT2EsWUFBWjtBQUNFWCw0QkFBV1ksTUFBWCxDQUFrQmYsSUFBbEI7O0FBQ0E7O0FBQ0YsV0FBS0MsZ0JBQU9lLGFBQVo7QUFDRWIsNEJBQVdjLE9BQVgsQ0FBbUJqQixJQUFuQjs7QUFDQTs7QUFDRixXQUFLQyxnQkFBT2lCLHFCQUFaO0FBQW1DO0FBQ2pDLGdCQUFNQyxNQUFNLEdBQUdDLGdCQUFPQyxNQUFQLENBQWNyQixJQUFJLENBQUNzQixNQUFuQixDQUFmOztBQUNBSCxVQUFBQSxNQUFNLENBQUNJLElBQVAsQ0FBWTtBQUFFekIsWUFBQUEsS0FBSyxFQUFFRyxnQkFBT3VCO0FBQWhCLFdBQVo7QUFDQUwsVUFBQUEsTUFBTSxDQUFDTSxLQUFQO0FBQ0E7QUFDRDs7QUFDRCxXQUFLeEIsZ0JBQU95QixvQkFBWjtBQUFrQztBQUNoQyxnQkFBTVAsTUFBTSxHQUFHQyxnQkFBT0MsTUFBUCxDQUFjckIsSUFBSSxDQUFDc0IsTUFBbkIsQ0FBZjs7QUFDQUgsVUFBQUEsTUFBTSxDQUFDSSxJQUFQLENBQVk7QUFBRXpCLFlBQUFBLEtBQUssRUFBRUcsZ0JBQU8wQjtBQUFoQixXQUFaO0FBQ0FSLFVBQUFBLE1BQU0sQ0FBQ00sS0FBUDtBQUNBO0FBQ0Q7O0FBQ0QsV0FBS3hCLGdCQUFPMkIsb0JBQVo7QUFBa0M7QUFDaEMsZ0JBQU1DLElBQUksR0FBR0MsY0FBS0MsSUFBTCxDQUFVL0IsSUFBVixDQUFiOztBQUNBLGdCQUFNO0FBQUVnQyxZQUFBQTtBQUFGLGNBQWdCSCxJQUF0QjtBQUNBOUIsVUFBQUEsTUFBTSxDQUFDd0IsSUFBUCxDQUFZO0FBQUV6QixZQUFBQSxLQUFLLEVBQUVHLGdCQUFPZ0Msb0JBQWhCO0FBQXNDakMsWUFBQUEsSUFBSSxFQUFFO0FBQUVzQixjQUFBQSxNQUFNLEVBQUVPLElBQUksQ0FBQ0ssRUFBZjtBQUFtQkYsY0FBQUE7QUFBbkI7QUFBNUMsV0FBWjtBQUNBO0FBQ0Q7O0FBQ0QsV0FBSy9CLGdCQUFPa0MsaUJBQVo7QUFBK0I7QUFDN0IsZ0JBQU1OLElBQUksR0FBR0MsY0FBS0MsSUFBTCxDQUFVL0IsSUFBSSxDQUFDc0IsTUFBZixDQUFiOztBQUNBYyx5QkFBYUMsTUFBYixDQUFvQlIsSUFBSSxDQUFDUyxRQUFMLENBQWNDLElBQWxDLEVBQXdDdkMsSUFBSSxDQUFDd0MsT0FBN0M7O0FBQ0E7QUFDRDs7QUFDRCxXQUFLdkMsZ0JBQU93QyxZQUFaO0FBQTBCO0FBQ3hCdEMsOEJBQVd1QyxXQUFYLENBQXVCMUMsSUFBdkI7O0FBQ0EsZ0JBQU02QixJQUFJLEdBQUdDLGNBQUtDLElBQUwsQ0FBVS9CLElBQUksQ0FBQ3NCLE1BQWYsQ0FBYjs7QUFDQXFCLHlCQUFZQyxNQUFaLENBQW1CZixJQUFuQjs7QUFDQTtBQUNEOztBQUNEO0FBQ0VnQixRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSx5QkFBWixFQUF1Q2hELEtBQXZDO0FBbERKO0FBb0RELEdBckRELENBcURFLE9BQU9pRCxDQUFQLEVBQVU7QUFDVkYsSUFBQUEsT0FBTyxDQUFDRyxLQUFSLENBQWUsVUFBU0QsQ0FBRSxFQUExQjtBQUNEO0FBQ0YsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9zb2NrZXQvYWRtaW4vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNvY2tldCBmcm9tICcuLi9zb2NrZXQnXG5pbXBvcnQgRnJlZXN3aXRjaCBmcm9tICcuLi8uLi9zZXJ2aWNlcy9mcmVlc3dpdGNoJ1xuaW1wb3J0IEFkanVzdG1lbnRzIGZyb20gJy4uLy4uL2xpYnMvYWRqdXN0bWVudHMnXG5pbXBvcnQgVXNlciBmcm9tICcuLi8uLi9tb2RlbHMvdXNlcidcbmltcG9ydCBDbGllbnQsIHsgU2VuZGVyIGFzIENsaWVudFNlbmRlciB9IGZyb20gJy4uL2NsaWVudCdcbmltcG9ydCBVc2VyU2VydmljZSBmcm9tICcuLi8uLi9zZXJ2aWNlcy91c2VycydcblxuZXhwb3J0IGRlZmF1bHQgKGV2ZW50LCBjbGllbnQsIGRhdGEpID0+IHtcbiAgdHJ5IHtcbiAgICBzd2l0Y2ggKGV2ZW50KSB7XG4gICAgICAvLyBUT0RPOiBBZGQgYWRtaW4gbmFtZXNwYWNlIHRvIGV2ZW50c1xuICAgICAgY2FzZSBTb2NrZXQuVE9HR0xFX1NQRUFLX1NFTEY6XG4gICAgICAgIEZyZWVzd2l0Y2gudG9nZ2xlU3BlYWtTZWxmKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIFNvY2tldC5UT0dHTEVfSEVBUl9TRUxGOlxuICAgICAgICBGcmVlc3dpdGNoLnRvZ2dsZUhlYXJTZWxmKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIFNvY2tldC5UT0dHTEVfQURKVVNUTUVOVFM6XG4gICAgICAgIEFkanVzdG1lbnRzLnRvZ2dsZSh0eXBlb2YgZGF0YSA9PSAnc3RyaW5nJyA/IGRhdGEgOiBkYXRhLm5hbWUpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIFNvY2tldC5UT0dHTEVfTUVFVElOR19BREpVU1RNRU5UUzpcbiAgICAgICAgQWRqdXN0bWVudHMudG9nZ2xlTWVldGluZyhkYXRhLm5hbWUsIGRhdGEubWVldGluZ0lkKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBTb2NrZXQuVVNFUl9QRUVLX09OOlxuICAgICAgICBGcmVlc3dpdGNoLnBlZWtPbihkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBTb2NrZXQuVVNFUl9QRUVLX09GRjpcbiAgICAgICAgRnJlZXN3aXRjaC5wZWVrT2ZmKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIFNvY2tldC5BRE1JTl9ESVNDT05ORUNUX1VTRVI6IHtcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gQ2xpZW50LmJ5VXNlcihkYXRhLnVzZXJJZClcbiAgICAgICAgc29ja2V0LnNlbmQoeyBldmVudDogU29ja2V0LkRJU0FCTEVfUkVDT05ORUNUIH0pXG4gICAgICAgIHNvY2tldC5jbG9zZSgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlIFNvY2tldC5BRE1JTl9SRUNPTk5FQ1RfVVNFUjoge1xuICAgICAgICBjb25zdCBzb2NrZXQgPSBDbGllbnQuYnlVc2VyKGRhdGEudXNlcklkKVxuICAgICAgICBzb2NrZXQuc2VuZCh7IGV2ZW50OiBTb2NrZXQuUkVDT05ORUNUX1VTRVIgfSlcbiAgICAgICAgc29ja2V0LmNsb3NlKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgU29ja2V0LkFETUlOX0dFVF9VU0VSX1NUQVRFOiB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBVc2VyLmZpbmQoZGF0YSlcbiAgICAgICAgY29uc3QgeyB1c2VyU3RhdGUgfSA9IHVzZXJcbiAgICAgICAgY2xpZW50LnNlbmQoeyBldmVudDogU29ja2V0LkFETUlOX1NFVF9VU0VSX1NUQVRFLCBkYXRhOiB7IHVzZXJJZDogdXNlci5pZCwgdXNlclN0YXRlIH0gfSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgU29ja2V0LkFETUlOX05PVElGWV9VU0VSOiB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBVc2VyLmZpbmQoZGF0YS51c2VySWQpXG4gICAgICAgIENsaWVudFNlbmRlci5ub3RpZnkodXNlci5jaGFubmVscy5zZWxmLCBkYXRhLm1lc3NhZ2UpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlIFNvY2tldC5TV0lUQ0hfUk9PTVM6IHtcbiAgICAgICAgRnJlZXN3aXRjaC5zd2l0Y2hSb29tcyhkYXRhKVxuICAgICAgICBjb25zdCB1c2VyID0gVXNlci5maW5kKGRhdGEudXNlcklkKVxuICAgICAgICBVc2VyU2VydmljZS51cGRhdGUodXNlcilcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUubG9nKCdTb2NrZXQsIG5vIHN1Y2ggZXZlbnQ6ICcsIGV2ZW50KVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yOiAke2V9YClcbiAgfVxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "handler.js"
      ],
      "names": [
        "event",
        "client",
        "data",
        "Socket",
        "TOGGLE_SPEAK_SELF",
        "Freeswitch",
        "toggleSpeakSelf",
        "TOGGLE_HEAR_SELF",
        "toggleHearSelf",
        "TOGGLE_ADJUSTMENTS",
        "Adjustments",
        "toggle",
        "name",
        "TOGGLE_MEETING_ADJUSTMENTS",
        "toggleMeeting",
        "meetingId",
        "USER_PEEK_ON",
        "peekOn",
        "USER_PEEK_OFF",
        "peekOff",
        "ADMIN_DISCONNECT_USER",
        "socket",
        "Client",
        "byUser",
        "userId",
        "send",
        "DISABLE_RECONNECT",
        "close",
        "ADMIN_RECONNECT_USER",
        "RECONNECT_USER",
        "ADMIN_GET_USER_STATE",
        "user",
        "User",
        "find",
        "userState",
        "ADMIN_SET_USER_STATE",
        "id",
        "ADMIN_NOTIFY_USER",
        "ClientSender",
        "notify",
        "channels",
        "self",
        "message",
        "SWITCH_ROOMS",
        "switchRooms",
        "UserService",
        "update",
        "console",
        "log",
        "e",
        "error"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;eAEe,CAACA,KAAD,EAAQC,MAAR,EAAgBC,IAAhB,KAAyB;AACtC,MAAI;AACF,YAAQF,KAAR;AACE;AACA,WAAKG,gBAAOC,iBAAZ;AACEC,4BAAWC,eAAX,CAA2BJ,IAA3B;;AACA;;AACF,WAAKC,gBAAOI,gBAAZ;AACEF,4BAAWG,cAAX,CAA0BN,IAA1B;;AACA;;AACF,WAAKC,gBAAOM,kBAAZ;AACEC,6BAAYC,MAAZ,CAAmB,OAAOT,IAAP,IAAe,QAAf,GAA0BA,IAA1B,GAAiCA,IAAI,CAACU,IAAzD;;AACA;;AACF,WAAKT,gBAAOU,0BAAZ;AACEH,6BAAYI,aAAZ,CAA0BZ,IAAI,CAACU,IAA/B,EAAqCV,IAAI,CAACa,SAA1C;;AACA;;AACF,WAAKZ,gBAAOa,YAAZ;AACEX,4BAAWY,MAAX,CAAkBf,IAAlB;;AACA;;AACF,WAAKC,gBAAOe,aAAZ;AACEb,4BAAWc,OAAX,CAAmBjB,IAAnB;;AACA;;AACF,WAAKC,gBAAOiB,qBAAZ;AAAmC;AACjC,gBAAMC,MAAM,GAAGC,gBAAOC,MAAP,CAAcrB,IAAI,CAACsB,MAAnB,CAAf;;AACAH,UAAAA,MAAM,CAACI,IAAP,CAAY;AAAEzB,YAAAA,KAAK,EAAEG,gBAAOuB;AAAhB,WAAZ;AACAL,UAAAA,MAAM,CAACM,KAAP;AACA;AACD;;AACD,WAAKxB,gBAAOyB,oBAAZ;AAAkC;AAChC,gBAAMP,MAAM,GAAGC,gBAAOC,MAAP,CAAcrB,IAAI,CAACsB,MAAnB,CAAf;;AACAH,UAAAA,MAAM,CAACI,IAAP,CAAY;AAAEzB,YAAAA,KAAK,EAAEG,gBAAO0B;AAAhB,WAAZ;AACAR,UAAAA,MAAM,CAACM,KAAP;AACA;AACD;;AACD,WAAKxB,gBAAO2B,oBAAZ;AAAkC;AAChC,gBAAMC,IAAI,GAAGC,cAAKC,IAAL,CAAU/B,IAAV,CAAb;;AACA,gBAAM;AAAEgC,YAAAA;AAAF,cAAgBH,IAAtB;AACA9B,UAAAA,MAAM,CAACwB,IAAP,CAAY;AAAEzB,YAAAA,KAAK,EAAEG,gBAAOgC,oBAAhB;AAAsCjC,YAAAA,IAAI,EAAE;AAAEsB,cAAAA,MAAM,EAAEO,IAAI,CAACK,EAAf;AAAmBF,cAAAA;AAAnB;AAA5C,WAAZ;AACA;AACD;;AACD,WAAK/B,gBAAOkC,iBAAZ;AAA+B;AAC7B,gBAAMN,IAAI,GAAGC,cAAKC,IAAL,CAAU/B,IAAI,CAACsB,MAAf,CAAb;;AACAc,yBAAaC,MAAb,CAAoBR,IAAI,CAACS,QAAL,CAAcC,IAAlC,EAAwCvC,IAAI,CAACwC,OAA7C;;AACA;AACD;;AACD,WAAKvC,gBAAOwC,YAAZ;AAA0B;AACxBtC,8BAAWuC,WAAX,CAAuB1C,IAAvB;;AACA,gBAAM6B,IAAI,GAAGC,cAAKC,IAAL,CAAU/B,IAAI,CAACsB,MAAf,CAAb;;AACAqB,yBAAYC,MAAZ,CAAmBf,IAAnB;;AACA;AACD;;AACD;AACEgB,QAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuChD,KAAvC;AAlDJ;AAoDD,GArDD,CAqDE,OAAOiD,CAAP,EAAU;AACVF,IAAAA,OAAO,CAACG,KAAR,CAAe,UAASD,CAAE,EAA1B;AACD;AACF,C",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
      "sourcesContent": [
        "import Socket from '../socket'\nimport Freeswitch from '../../services/freeswitch'\nimport Adjustments from '../../libs/adjustments'\nimport User from '../../models/user'\nimport Client, { Sender as ClientSender } from '../client'\nimport UserService from '../../services/users'\n\nexport default (event, client, data) => {\n  try {\n    switch (event) {\n      // TODO: Add admin namespace to events\n      case Socket.TOGGLE_SPEAK_SELF:\n        Freeswitch.toggleSpeakSelf(data)\n        break\n      case Socket.TOGGLE_HEAR_SELF:\n        Freeswitch.toggleHearSelf(data)\n        break\n      case Socket.TOGGLE_ADJUSTMENTS:\n        Adjustments.toggle(typeof data == 'string' ? data : data.name)\n        break\n      case Socket.TOGGLE_MEETING_ADJUSTMENTS:\n        Adjustments.toggleMeeting(data.name, data.meetingId)\n        break\n      case Socket.USER_PEEK_ON:\n        Freeswitch.peekOn(data)\n        break\n      case Socket.USER_PEEK_OFF:\n        Freeswitch.peekOff(data)\n        break\n      case Socket.ADMIN_DISCONNECT_USER: {\n        const socket = Client.byUser(data.userId)\n        socket.send({ event: Socket.DISABLE_RECONNECT })\n        socket.close()\n        break\n      }\n      case Socket.ADMIN_RECONNECT_USER: {\n        const socket = Client.byUser(data.userId)\n        socket.send({ event: Socket.RECONNECT_USER })\n        socket.close()\n        break\n      }\n      case Socket.ADMIN_GET_USER_STATE: {\n        const user = User.find(data)\n        const { userState } = user\n        client.send({ event: Socket.ADMIN_SET_USER_STATE, data: { userId: user.id, userState } })\n        break\n      }\n      case Socket.ADMIN_NOTIFY_USER: {\n        const user = User.find(data.userId)\n        ClientSender.notify(user.channels.self, data.message)\n        break\n      }\n      case Socket.SWITCH_ROOMS: {\n        Freeswitch.switchRooms(data)\n        const user = User.find(data.userId)\n        UserService.update(user)\n        break\n      }\n      default:\n        console.log('Socket, no such event: ', event)\n    }\n  } catch (e) {\n    console.error(`Error: ${e}`)\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/helpers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/helpers/userHelper.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/helpers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/helpers/userHelper.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/helpers/userHelper.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/helpers/userHelper.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/helpers/",
        "sourceFileName": "userHelper.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getBoolean = exports.shortName = exports.displayName = void 0;\n\nconst ucFirst = str => str.charAt(0).toUpperCase() + str.slice(1);\n\nconst displayName = string => string.split('_').map(name => ucFirst(name)).join(' ');\n\nexports.displayName = displayName;\n\nconst shortName = string => {\n  if (string.match('-')) {\n    return string.split(' ').map(name => {\n      if (name.match('-')) return name.split('-').map(n => `${n.charAt(0).toUpperCase()}.`).join('');\n      return name;\n    });\n  }\n\n  const words = string.split(' ');\n  const lastIndex = words.length - 1;\n  const last = words[lastIndex];\n  words[lastIndex] = `${last.charAt(0).toUpperCase()}.`;\n  return words.join(' ');\n};\n\nexports.shortName = shortName;\n\nconst getBoolean = value => {\n  switch (value) {\n    case true:\n    case 'true':\n    case 1:\n    case '1':\n    case 'on':\n    case 'yes':\n      return true;\n\n    default:\n      return false;\n  }\n};\n\nexports.getBoolean = getBoolean;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJIZWxwZXIuanMiXSwibmFtZXMiOlsidWNGaXJzdCIsInN0ciIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJkaXNwbGF5TmFtZSIsInN0cmluZyIsInNwbGl0IiwibWFwIiwibmFtZSIsImpvaW4iLCJzaG9ydE5hbWUiLCJtYXRjaCIsIm4iLCJ3b3JkcyIsImxhc3RJbmRleCIsImxlbmd0aCIsImxhc3QiLCJnZXRCb29sZWFuIiwidmFsdWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLEdBQUcsSUFBSUEsR0FBRyxDQUFDQyxNQUFKLENBQVcsQ0FBWCxFQUFjQyxXQUFkLEtBQThCRixHQUFHLENBQUNHLEtBQUosQ0FBVSxDQUFWLENBQXJEOztBQUVPLE1BQU1DLFdBQVcsR0FBR0MsTUFBTSxJQUFJQSxNQUFNLENBQUNDLEtBQVAsQ0FBYSxHQUFiLEVBQWtCQyxHQUFsQixDQUFzQkMsSUFBSSxJQUFJVCxPQUFPLENBQUNTLElBQUQsQ0FBckMsRUFBNkNDLElBQTdDLENBQWtELEdBQWxELENBQTlCOzs7O0FBRUEsTUFBTUMsU0FBUyxHQUFHTCxNQUFNLElBQUk7QUFDakMsTUFBSUEsTUFBTSxDQUFDTSxLQUFQLENBQWEsR0FBYixDQUFKLEVBQXVCO0FBQ3JCLFdBQU9OLE1BQU0sQ0FBQ0MsS0FBUCxDQUFhLEdBQWIsRUFBa0JDLEdBQWxCLENBQXVCQyxJQUFELElBQVU7QUFDckMsVUFBSUEsSUFBSSxDQUFDRyxLQUFMLENBQVcsR0FBWCxDQUFKLEVBQXFCLE9BQU9ILElBQUksQ0FBQ0YsS0FBTCxDQUFXLEdBQVgsRUFBZ0JDLEdBQWhCLENBQW9CSyxDQUFDLElBQUssR0FBRUEsQ0FBQyxDQUFDWCxNQUFGLENBQVMsQ0FBVCxFQUFZQyxXQUFaLEVBQTBCLEdBQXRELEVBQTBETyxJQUExRCxDQUErRCxFQUEvRCxDQUFQO0FBQ3JCLGFBQU9ELElBQVA7QUFDRCxLQUhNLENBQVA7QUFJRDs7QUFFRCxRQUFNSyxLQUFLLEdBQUdSLE1BQU0sQ0FBQ0MsS0FBUCxDQUFhLEdBQWIsQ0FBZDtBQUNBLFFBQU1RLFNBQVMsR0FBR0QsS0FBSyxDQUFDRSxNQUFOLEdBQWUsQ0FBakM7QUFDQSxRQUFNQyxJQUFJLEdBQUdILEtBQUssQ0FBQ0MsU0FBRCxDQUFsQjtBQUNBRCxFQUFBQSxLQUFLLENBQUNDLFNBQUQsQ0FBTCxHQUFvQixHQUFFRSxJQUFJLENBQUNmLE1BQUwsQ0FBWSxDQUFaLEVBQWVDLFdBQWYsRUFBNkIsR0FBbkQ7QUFDQSxTQUFPVyxLQUFLLENBQUNKLElBQU4sQ0FBVyxHQUFYLENBQVA7QUFDRCxDQWJNOzs7O0FBZUEsTUFBTVEsVUFBVSxHQUFHQyxLQUFLLElBQUk7QUFDakMsVUFBUUEsS0FBUjtBQUNFLFNBQUssSUFBTDtBQUNBLFNBQUssTUFBTDtBQUNBLFNBQUssQ0FBTDtBQUNBLFNBQUssR0FBTDtBQUNBLFNBQUssSUFBTDtBQUNBLFNBQUssS0FBTDtBQUNFLGFBQU8sSUFBUDs7QUFDRjtBQUNFLGFBQU8sS0FBUDtBQVRKO0FBV0QsQ0FaTSIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9oZWxwZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHVjRmlyc3QgPSBzdHIgPT4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpXG5cbmV4cG9ydCBjb25zdCBkaXNwbGF5TmFtZSA9IHN0cmluZyA9PiBzdHJpbmcuc3BsaXQoJ18nKS5tYXAobmFtZSA9PiB1Y0ZpcnN0KG5hbWUpKS5qb2luKCcgJylcblxuZXhwb3J0IGNvbnN0IHNob3J0TmFtZSA9IHN0cmluZyA9PiB7XG4gIGlmIChzdHJpbmcubWF0Y2goJy0nKSkge1xuICAgIHJldHVybiBzdHJpbmcuc3BsaXQoJyAnKS5tYXAoKG5hbWUpID0+IHtcbiAgICAgIGlmIChuYW1lLm1hdGNoKCctJykpIHJldHVybiBuYW1lLnNwbGl0KCctJykubWFwKG4gPT4gYCR7bi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX0uYCkuam9pbignJylcbiAgICAgIHJldHVybiBuYW1lXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IHdvcmRzID0gc3RyaW5nLnNwbGl0KCcgJylcbiAgY29uc3QgbGFzdEluZGV4ID0gd29yZHMubGVuZ3RoIC0gMVxuICBjb25zdCBsYXN0ID0gd29yZHNbbGFzdEluZGV4XVxuICB3b3Jkc1tsYXN0SW5kZXhdID0gYCR7bGFzdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX0uYFxuICByZXR1cm4gd29yZHMuam9pbignICcpXG59XG5cbmV4cG9ydCBjb25zdCBnZXRCb29sZWFuID0gdmFsdWUgPT4ge1xuICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgY2FzZSB0cnVlOlxuICAgIGNhc2UgJ3RydWUnOlxuICAgIGNhc2UgMTpcbiAgICBjYXNlICcxJzpcbiAgICBjYXNlICdvbic6XG4gICAgY2FzZSAneWVzJzpcbiAgICAgIHJldHVybiB0cnVlXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userHelper.js"
      ],
      "names": [
        "ucFirst",
        "str",
        "charAt",
        "toUpperCase",
        "slice",
        "displayName",
        "string",
        "split",
        "map",
        "name",
        "join",
        "shortName",
        "match",
        "n",
        "words",
        "lastIndex",
        "length",
        "last",
        "getBoolean",
        "value"
      ],
      "mappings": ";;;;;;;AAAA,MAAMA,OAAO,GAAGC,GAAG,IAAIA,GAAG,CAACC,MAAJ,CAAW,CAAX,EAAcC,WAAd,KAA8BF,GAAG,CAACG,KAAJ,CAAU,CAAV,CAArD;;AAEO,MAAMC,WAAW,GAAGC,MAAM,IAAIA,MAAM,CAACC,KAAP,CAAa,GAAb,EAAkBC,GAAlB,CAAsBC,IAAI,IAAIT,OAAO,CAACS,IAAD,CAArC,EAA6CC,IAA7C,CAAkD,GAAlD,CAA9B;;;;AAEA,MAAMC,SAAS,GAAGL,MAAM,IAAI;AACjC,MAAIA,MAAM,CAACM,KAAP,CAAa,GAAb,CAAJ,EAAuB;AACrB,WAAON,MAAM,CAACC,KAAP,CAAa,GAAb,EAAkBC,GAAlB,CAAuBC,IAAD,IAAU;AACrC,UAAIA,IAAI,CAACG,KAAL,CAAW,GAAX,CAAJ,EAAqB,OAAOH,IAAI,CAACF,KAAL,CAAW,GAAX,EAAgBC,GAAhB,CAAoBK,CAAC,IAAK,GAAEA,CAAC,CAACX,MAAF,CAAS,CAAT,EAAYC,WAAZ,EAA0B,GAAtD,EAA0DO,IAA1D,CAA+D,EAA/D,CAAP;AACrB,aAAOD,IAAP;AACD,KAHM,CAAP;AAID;;AAED,QAAMK,KAAK,GAAGR,MAAM,CAACC,KAAP,CAAa,GAAb,CAAd;AACA,QAAMQ,SAAS,GAAGD,KAAK,CAACE,MAAN,GAAe,CAAjC;AACA,QAAMC,IAAI,GAAGH,KAAK,CAACC,SAAD,CAAlB;AACAD,EAAAA,KAAK,CAACC,SAAD,CAAL,GAAoB,GAAEE,IAAI,CAACf,MAAL,CAAY,CAAZ,EAAeC,WAAf,EAA6B,GAAnD;AACA,SAAOW,KAAK,CAACJ,IAAN,CAAW,GAAX,CAAP;AACD,CAbM;;;;AAeA,MAAMQ,UAAU,GAAGC,KAAK,IAAI;AACjC,UAAQA,KAAR;AACE,SAAK,IAAL;AACA,SAAK,MAAL;AACA,SAAK,CAAL;AACA,SAAK,GAAL;AACA,SAAK,IAAL;AACA,SAAK,KAAL;AACE,aAAO,IAAP;;AACF;AACE,aAAO,KAAP;AATJ;AAWD,CAZM",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/helpers/",
      "sourcesContent": [
        "const ucFirst = str => str.charAt(0).toUpperCase() + str.slice(1)\n\nexport const displayName = string => string.split('_').map(name => ucFirst(name)).join(' ')\n\nexport const shortName = string => {\n  if (string.match('-')) {\n    return string.split(' ').map((name) => {\n      if (name.match('-')) return name.split('-').map(n => `${n.charAt(0).toUpperCase()}.`).join('')\n      return name\n    })\n  }\n\n  const words = string.split(' ')\n  const lastIndex = words.length - 1\n  const last = words[lastIndex]\n  words[lastIndex] = `${last.charAt(0).toUpperCase()}.`\n  return words.join(' ')\n}\n\nexport const getBoolean = value => {\n  switch (value) {\n    case true:\n    case 'true':\n    case 1:\n    case '1':\n    case 'on':\n    case 'yes':\n      return true\n    default:\n      return false\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/remote.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/remote.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/remote.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/remote.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/",
        "sourceFileName": "remote.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = (user, options = {}) => {\n  let result = {\n    id: user.id,\n    remote: true,\n    username: user.username,\n    displayName: user.displayName,\n    shortName: user.shortName(),\n    members: user.members,\n    role: user.role,\n    isSwitcher: user.isSwitcher(),\n    isModerator: user.isModerator(),\n    isRegular: user.isRegular(),\n    isHear: user.isHear(),\n    isSpeak: user.isSpeak(),\n    connected: user.connected(),\n    registered: user.registered,\n    useFloor: user.useFloor,\n    useSwitcher: user.useSwitcher,\n    rooms: user.rooms,\n    roomsList: user.roomsList,\n    speakRoomId: user.speakRoomId,\n    hearRoomId: user.hearRoomId,\n    channels: user.channels,\n    meetingID: user.meetingID,\n    titlesMap: user.titlesMap,\n    raiseHandTime: user.raiseHandTime,\n    isStartTime: user.isStartTime,\n    startStopTime: user.startStopTime,\n    isResetTime: user.isResetTime,\n    lastInterpreterSessionTime: user.lastInterpreterSessionTime,\n    startMeeting: user.startMeeting,\n    userState: user.userState,\n    startHandRaised: user.startHandRaised,\n    startStopHandRaised: user.startStopHandRaised,\n    startOnMikes: user.startOnMikes,\n    startStopMikes: user.startStopMikes,\n    slowSpeak: user.slowSpeak,\n    cf1: user.cf1,\n    cf2: user.cf2\n  };\n\n  if (options.memberIds) {\n    result.members = user.members.map(m => m.id);\n  }\n\n  return result;\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbW90ZS5qcyJdLCJuYW1lcyI6WyJ1c2VyIiwib3B0aW9ucyIsInJlc3VsdCIsImlkIiwicmVtb3RlIiwidXNlcm5hbWUiLCJkaXNwbGF5TmFtZSIsInNob3J0TmFtZSIsIm1lbWJlcnMiLCJyb2xlIiwiaXNTd2l0Y2hlciIsImlzTW9kZXJhdG9yIiwiaXNSZWd1bGFyIiwiaXNIZWFyIiwiaXNTcGVhayIsImNvbm5lY3RlZCIsInJlZ2lzdGVyZWQiLCJ1c2VGbG9vciIsInVzZVN3aXRjaGVyIiwicm9vbXMiLCJyb29tc0xpc3QiLCJzcGVha1Jvb21JZCIsImhlYXJSb29tSWQiLCJjaGFubmVscyIsIm1lZXRpbmdJRCIsInRpdGxlc01hcCIsInJhaXNlSGFuZFRpbWUiLCJpc1N0YXJ0VGltZSIsInN0YXJ0U3RvcFRpbWUiLCJpc1Jlc2V0VGltZSIsImxhc3RJbnRlcnByZXRlclNlc3Npb25UaW1lIiwic3RhcnRNZWV0aW5nIiwidXNlclN0YXRlIiwic3RhcnRIYW5kUmFpc2VkIiwic3RhcnRTdG9wSGFuZFJhaXNlZCIsInN0YXJ0T25NaWtlcyIsInN0YXJ0U3RvcE1pa2VzIiwic2xvd1NwZWFrIiwiY2YxIiwiY2YyIiwibWVtYmVySWRzIiwibWFwIiwibSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztlQUFlLENBQUNBLElBQUQsRUFBT0MsT0FBTyxHQUFHLEVBQWpCLEtBQXdCO0FBQ3JDLE1BQUlDLE1BQU0sR0FBRztBQUNYQyxJQUFBQSxFQUFFLEVBQUVILElBQUksQ0FBQ0csRUFERTtBQUVYQyxJQUFBQSxNQUFNLEVBQUUsSUFGRztBQUdYQyxJQUFBQSxRQUFRLEVBQUVMLElBQUksQ0FBQ0ssUUFISjtBQUlYQyxJQUFBQSxXQUFXLEVBQUVOLElBQUksQ0FBQ00sV0FKUDtBQUtYQyxJQUFBQSxTQUFTLEVBQUVQLElBQUksQ0FBQ08sU0FBTCxFQUxBO0FBTVhDLElBQUFBLE9BQU8sRUFBRVIsSUFBSSxDQUFDUSxPQU5IO0FBT1hDLElBQUFBLElBQUksRUFBRVQsSUFBSSxDQUFDUyxJQVBBO0FBUVhDLElBQUFBLFVBQVUsRUFBRVYsSUFBSSxDQUFDVSxVQUFMLEVBUkQ7QUFTWEMsSUFBQUEsV0FBVyxFQUFFWCxJQUFJLENBQUNXLFdBQUwsRUFURjtBQVVYQyxJQUFBQSxTQUFTLEVBQUVaLElBQUksQ0FBQ1ksU0FBTCxFQVZBO0FBV1hDLElBQUFBLE1BQU0sRUFBRWIsSUFBSSxDQUFDYSxNQUFMLEVBWEc7QUFZWEMsSUFBQUEsT0FBTyxFQUFFZCxJQUFJLENBQUNjLE9BQUwsRUFaRTtBQWFYQyxJQUFBQSxTQUFTLEVBQUVmLElBQUksQ0FBQ2UsU0FBTCxFQWJBO0FBY1hDLElBQUFBLFVBQVUsRUFBRWhCLElBQUksQ0FBQ2dCLFVBZE47QUFlWEMsSUFBQUEsUUFBUSxFQUFFakIsSUFBSSxDQUFDaUIsUUFmSjtBQWdCWEMsSUFBQUEsV0FBVyxFQUFFbEIsSUFBSSxDQUFDa0IsV0FoQlA7QUFpQlhDLElBQUFBLEtBQUssRUFBRW5CLElBQUksQ0FBQ21CLEtBakJEO0FBa0JYQyxJQUFBQSxTQUFTLEVBQUVwQixJQUFJLENBQUNvQixTQWxCTDtBQW1CWEMsSUFBQUEsV0FBVyxFQUFFckIsSUFBSSxDQUFDcUIsV0FuQlA7QUFvQlhDLElBQUFBLFVBQVUsRUFBRXRCLElBQUksQ0FBQ3NCLFVBcEJOO0FBcUJYQyxJQUFBQSxRQUFRLEVBQUV2QixJQUFJLENBQUN1QixRQXJCSjtBQXNCWEMsSUFBQUEsU0FBUyxFQUFFeEIsSUFBSSxDQUFDd0IsU0F0Qkw7QUF1QlhDLElBQUFBLFNBQVMsRUFBRXpCLElBQUksQ0FBQ3lCLFNBdkJMO0FBd0JYQyxJQUFBQSxhQUFhLEVBQUUxQixJQUFJLENBQUMwQixhQXhCVDtBQXlCWEMsSUFBQUEsV0FBVyxFQUFFM0IsSUFBSSxDQUFDMkIsV0F6QlA7QUEwQlhDLElBQUFBLGFBQWEsRUFBRTVCLElBQUksQ0FBQzRCLGFBMUJUO0FBMkJYQyxJQUFBQSxXQUFXLEVBQUU3QixJQUFJLENBQUM2QixXQTNCUDtBQTRCWEMsSUFBQUEsMEJBQTBCLEVBQUU5QixJQUFJLENBQUM4QiwwQkE1QnRCO0FBNkJYQyxJQUFBQSxZQUFZLEVBQUUvQixJQUFJLENBQUMrQixZQTdCUjtBQThCWEMsSUFBQUEsU0FBUyxFQUFFaEMsSUFBSSxDQUFDZ0MsU0E5Qkw7QUErQlhDLElBQUFBLGVBQWUsRUFBRWpDLElBQUksQ0FBQ2lDLGVBL0JYO0FBZ0NYQyxJQUFBQSxtQkFBbUIsRUFBRWxDLElBQUksQ0FBQ2tDLG1CQWhDZjtBQWlDWEMsSUFBQUEsWUFBWSxFQUFHbkMsSUFBSSxDQUFDbUMsWUFqQ1Q7QUFrQ1hDLElBQUFBLGNBQWMsRUFBR3BDLElBQUksQ0FBQ29DLGNBbENYO0FBbUNYQyxJQUFBQSxTQUFTLEVBQUVyQyxJQUFJLENBQUNxQyxTQW5DTDtBQW9DWEMsSUFBQUEsR0FBRyxFQUFFdEMsSUFBSSxDQUFDc0MsR0FwQ0M7QUFxQ1hDLElBQUFBLEdBQUcsRUFBRXZDLElBQUksQ0FBQ3VDO0FBckNDLEdBQWI7O0FBd0NBLE1BQUl0QyxPQUFPLENBQUN1QyxTQUFaLEVBQXVCO0FBQ3JCdEMsSUFBQUEsTUFBTSxDQUFDTSxPQUFQLEdBQWlCUixJQUFJLENBQUNRLE9BQUwsQ0FBYWlDLEdBQWIsQ0FBaUJDLENBQUMsSUFBSUEsQ0FBQyxDQUFDdkMsRUFBeEIsQ0FBakI7QUFDRDs7QUFFRCxTQUFPRCxNQUFQO0FBQ0QsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9zZXJpYWxpemVycy91c2VyLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0ICh1c2VyLCBvcHRpb25zID0ge30pID0+IHtcbiAgbGV0IHJlc3VsdCA9IHtcbiAgICBpZDogdXNlci5pZCxcbiAgICByZW1vdGU6IHRydWUsXG4gICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgZGlzcGxheU5hbWU6IHVzZXIuZGlzcGxheU5hbWUsXG4gICAgc2hvcnROYW1lOiB1c2VyLnNob3J0TmFtZSgpLFxuICAgIG1lbWJlcnM6IHVzZXIubWVtYmVycyxcbiAgICByb2xlOiB1c2VyLnJvbGUsXG4gICAgaXNTd2l0Y2hlcjogdXNlci5pc1N3aXRjaGVyKCksXG4gICAgaXNNb2RlcmF0b3I6IHVzZXIuaXNNb2RlcmF0b3IoKSxcbiAgICBpc1JlZ3VsYXI6IHVzZXIuaXNSZWd1bGFyKCksXG4gICAgaXNIZWFyOiB1c2VyLmlzSGVhcigpLFxuICAgIGlzU3BlYWs6IHVzZXIuaXNTcGVhaygpLFxuICAgIGNvbm5lY3RlZDogdXNlci5jb25uZWN0ZWQoKSxcbiAgICByZWdpc3RlcmVkOiB1c2VyLnJlZ2lzdGVyZWQsXG4gICAgdXNlRmxvb3I6IHVzZXIudXNlRmxvb3IsXG4gICAgdXNlU3dpdGNoZXI6IHVzZXIudXNlU3dpdGNoZXIsXG4gICAgcm9vbXM6IHVzZXIucm9vbXMsXG4gICAgcm9vbXNMaXN0OiB1c2VyLnJvb21zTGlzdCxcbiAgICBzcGVha1Jvb21JZDogdXNlci5zcGVha1Jvb21JZCxcbiAgICBoZWFyUm9vbUlkOiB1c2VyLmhlYXJSb29tSWQsXG4gICAgY2hhbm5lbHM6IHVzZXIuY2hhbm5lbHMsXG4gICAgbWVldGluZ0lEOiB1c2VyLm1lZXRpbmdJRCxcbiAgICB0aXRsZXNNYXA6IHVzZXIudGl0bGVzTWFwLFxuICAgIHJhaXNlSGFuZFRpbWU6IHVzZXIucmFpc2VIYW5kVGltZSxcbiAgICBpc1N0YXJ0VGltZTogdXNlci5pc1N0YXJ0VGltZSxcbiAgICBzdGFydFN0b3BUaW1lOiB1c2VyLnN0YXJ0U3RvcFRpbWUsXG4gICAgaXNSZXNldFRpbWU6IHVzZXIuaXNSZXNldFRpbWUsXG4gICAgbGFzdEludGVycHJldGVyU2Vzc2lvblRpbWU6IHVzZXIubGFzdEludGVycHJldGVyU2Vzc2lvblRpbWUsXG4gICAgc3RhcnRNZWV0aW5nOiB1c2VyLnN0YXJ0TWVldGluZyxcbiAgICB1c2VyU3RhdGU6IHVzZXIudXNlclN0YXRlLFxuICAgIHN0YXJ0SGFuZFJhaXNlZDogdXNlci5zdGFydEhhbmRSYWlzZWQsXG4gICAgc3RhcnRTdG9wSGFuZFJhaXNlZDogdXNlci5zdGFydFN0b3BIYW5kUmFpc2VkLFxuICAgIHN0YXJ0T25NaWtlcyA6IHVzZXIuc3RhcnRPbk1pa2VzLFxuICAgIHN0YXJ0U3RvcE1pa2VzIDogdXNlci5zdGFydFN0b3BNaWtlcyxcbiAgICBzbG93U3BlYWs6IHVzZXIuc2xvd1NwZWFrLFxuICAgIGNmMTogdXNlci5jZjEsXG4gICAgY2YyOiB1c2VyLmNmMixcbiAgfVxuXG4gIGlmIChvcHRpb25zLm1lbWJlcklkcykge1xuICAgIHJlc3VsdC5tZW1iZXJzID0gdXNlci5tZW1iZXJzLm1hcChtID0+IG0uaWQpXG4gIH1cblxuICByZXR1cm4gcmVzdWx0XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "remote.js"
      ],
      "names": [
        "user",
        "options",
        "result",
        "id",
        "remote",
        "username",
        "displayName",
        "shortName",
        "members",
        "role",
        "isSwitcher",
        "isModerator",
        "isRegular",
        "isHear",
        "isSpeak",
        "connected",
        "registered",
        "useFloor",
        "useSwitcher",
        "rooms",
        "roomsList",
        "speakRoomId",
        "hearRoomId",
        "channels",
        "meetingID",
        "titlesMap",
        "raiseHandTime",
        "isStartTime",
        "startStopTime",
        "isResetTime",
        "lastInterpreterSessionTime",
        "startMeeting",
        "userState",
        "startHandRaised",
        "startStopHandRaised",
        "startOnMikes",
        "startStopMikes",
        "slowSpeak",
        "cf1",
        "cf2",
        "memberIds",
        "map",
        "m"
      ],
      "mappings": ";;;;;;;eAAe,CAACA,IAAD,EAAOC,OAAO,GAAG,EAAjB,KAAwB;AACrC,MAAIC,MAAM,GAAG;AACXC,IAAAA,EAAE,EAAEH,IAAI,CAACG,EADE;AAEXC,IAAAA,MAAM,EAAE,IAFG;AAGXC,IAAAA,QAAQ,EAAEL,IAAI,CAACK,QAHJ;AAIXC,IAAAA,WAAW,EAAEN,IAAI,CAACM,WAJP;AAKXC,IAAAA,SAAS,EAAEP,IAAI,CAACO,SAAL,EALA;AAMXC,IAAAA,OAAO,EAAER,IAAI,CAACQ,OANH;AAOXC,IAAAA,IAAI,EAAET,IAAI,CAACS,IAPA;AAQXC,IAAAA,UAAU,EAAEV,IAAI,CAACU,UAAL,EARD;AASXC,IAAAA,WAAW,EAAEX,IAAI,CAACW,WAAL,EATF;AAUXC,IAAAA,SAAS,EAAEZ,IAAI,CAACY,SAAL,EAVA;AAWXC,IAAAA,MAAM,EAAEb,IAAI,CAACa,MAAL,EAXG;AAYXC,IAAAA,OAAO,EAAEd,IAAI,CAACc,OAAL,EAZE;AAaXC,IAAAA,SAAS,EAAEf,IAAI,CAACe,SAAL,EAbA;AAcXC,IAAAA,UAAU,EAAEhB,IAAI,CAACgB,UAdN;AAeXC,IAAAA,QAAQ,EAAEjB,IAAI,CAACiB,QAfJ;AAgBXC,IAAAA,WAAW,EAAElB,IAAI,CAACkB,WAhBP;AAiBXC,IAAAA,KAAK,EAAEnB,IAAI,CAACmB,KAjBD;AAkBXC,IAAAA,SAAS,EAAEpB,IAAI,CAACoB,SAlBL;AAmBXC,IAAAA,WAAW,EAAErB,IAAI,CAACqB,WAnBP;AAoBXC,IAAAA,UAAU,EAAEtB,IAAI,CAACsB,UApBN;AAqBXC,IAAAA,QAAQ,EAAEvB,IAAI,CAACuB,QArBJ;AAsBXC,IAAAA,SAAS,EAAExB,IAAI,CAACwB,SAtBL;AAuBXC,IAAAA,SAAS,EAAEzB,IAAI,CAACyB,SAvBL;AAwBXC,IAAAA,aAAa,EAAE1B,IAAI,CAAC0B,aAxBT;AAyBXC,IAAAA,WAAW,EAAE3B,IAAI,CAAC2B,WAzBP;AA0BXC,IAAAA,aAAa,EAAE5B,IAAI,CAAC4B,aA1BT;AA2BXC,IAAAA,WAAW,EAAE7B,IAAI,CAAC6B,WA3BP;AA4BXC,IAAAA,0BAA0B,EAAE9B,IAAI,CAAC8B,0BA5BtB;AA6BXC,IAAAA,YAAY,EAAE/B,IAAI,CAAC+B,YA7BR;AA8BXC,IAAAA,SAAS,EAAEhC,IAAI,CAACgC,SA9BL;AA+BXC,IAAAA,eAAe,EAAEjC,IAAI,CAACiC,eA/BX;AAgCXC,IAAAA,mBAAmB,EAAElC,IAAI,CAACkC,mBAhCf;AAiCXC,IAAAA,YAAY,EAAGnC,IAAI,CAACmC,YAjCT;AAkCXC,IAAAA,cAAc,EAAGpC,IAAI,CAACoC,cAlCX;AAmCXC,IAAAA,SAAS,EAAErC,IAAI,CAACqC,SAnCL;AAoCXC,IAAAA,GAAG,EAAEtC,IAAI,CAACsC,GApCC;AAqCXC,IAAAA,GAAG,EAAEvC,IAAI,CAACuC;AArCC,GAAb;;AAwCA,MAAItC,OAAO,CAACuC,SAAZ,EAAuB;AACrBtC,IAAAA,MAAM,CAACM,OAAP,GAAiBR,IAAI,CAACQ,OAAL,CAAaiC,GAAb,CAAiBC,CAAC,IAAIA,CAAC,CAACvC,EAAxB,CAAjB;AACD;;AAED,SAAOD,MAAP;AACD,C",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/",
      "sourcesContent": [
        "export default (user, options = {}) => {\n  let result = {\n    id: user.id,\n    remote: true,\n    username: user.username,\n    displayName: user.displayName,\n    shortName: user.shortName(),\n    members: user.members,\n    role: user.role,\n    isSwitcher: user.isSwitcher(),\n    isModerator: user.isModerator(),\n    isRegular: user.isRegular(),\n    isHear: user.isHear(),\n    isSpeak: user.isSpeak(),\n    connected: user.connected(),\n    registered: user.registered,\n    useFloor: user.useFloor,\n    useSwitcher: user.useSwitcher,\n    rooms: user.rooms,\n    roomsList: user.roomsList,\n    speakRoomId: user.speakRoomId,\n    hearRoomId: user.hearRoomId,\n    channels: user.channels,\n    meetingID: user.meetingID,\n    titlesMap: user.titlesMap,\n    raiseHandTime: user.raiseHandTime,\n    isStartTime: user.isStartTime,\n    startStopTime: user.startStopTime,\n    isResetTime: user.isResetTime,\n    lastInterpreterSessionTime: user.lastInterpreterSessionTime,\n    startMeeting: user.startMeeting,\n    userState: user.userState,\n    startHandRaised: user.startHandRaised,\n    startStopHandRaised: user.startStopHandRaised,\n    startOnMikes : user.startOnMikes,\n    startStopMikes : user.startStopMikes,\n    slowSpeak: user.slowSpeak,\n    cf1: user.cf1,\n    cf2: user.cf2,\n  }\n\n  if (options.memberIds) {\n    result.members = user.members.map(m => m.id)\n  }\n\n  return result\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/user.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/user.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/user.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _config = _interopRequireDefault(require(\"../../../config\"));\n\nvar _socket = _interopRequireWildcard(require(\"../../socket\"));\n\nvar _user = _interopRequireDefault(require(\"../../serializers/user\"));\n\nvar _users = _interopRequireDefault(require(\"../../services/users\"));\n\nvar _userHelper = require(\"../../helpers/userHelper\");\n\nvar _base = _interopRequireDefault(require(\"./base\"));\n\nvar _freeswitch = _interopRequireDefault(require(\"../../services/freeswitch\"));\n\nvar _esl = _interopRequireDefault(require(\"../../esl\"));\n\nvar _adjustments = _interopRequireDefault(require(\"../../libs/adjustments\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass User extends _base.default {\n  constructor(client, data) {\n    super(data);\n    this.client = client;\n    this.host = data.host;\n    this.bbb = data.bbb || {};\n    this.platformUrl = null;\n    this.password = data.password || _config.default.defaultVoipPassword;\n    this.members = [];\n    this.role = data.role || this.role;\n    this.echoUuid = null;\n    this.browserID = null;\n    this.meetingID = data.meetingID;\n    this.registered = false;\n    this.valid = true;\n    this.setupUserData(data);\n    this.setupRooms(data);\n    this.validate(data);\n    this.setupChannels(data);\n    this.raiseHandTime = null;\n    this.isStartTime = true;\n    this.startStopTime = null;\n    this.isResetTime = false;\n    this.lastInterpreterSessionTime = null;\n    this.startMeeting = false;\n    this.startHandRaised = true, this.startStopHandRaised = null, this.startOnMikes = true, this.startStopMikes = null;\n    this.slowSpeak = null;\n  }\n\n  setupUserData(data) {\n    if (data.browserID && data.browserID.length) {\n      this.browserID = data.browserID;\n    }\n\n    this.usernameInput = data.username;\n    this.isModeratorEndUser = data.coordinator;\n\n    if (data.coordinator) {\n      this.isLockMike = true;\n    }\n\n    if (this.isModerator() || data.userAuth) {\n      this.username = data.username;\n      this.displayName = (0, _userHelper.displayName)(data.username);\n      return;\n    }\n\n    if (this.isSwitcher()) {\n      this.password = _config.default.switcherPassword;\n      this.generateName('switcher_user_');\n      return;\n    } // regular\n\n\n    this.generateName('fixeduser_', data);\n  }\n\n  generateName(prefix, data = {}) {\n    let username;\n    let i = 1;\n\n    while (i < 500) {\n      username = `${prefix}${i}`;\n      const user = User.find({\n        username\n      });\n\n      if (!user) {\n        this.username = username;\n        const name = data.displayName || data.username || username;\n        this.displayName = name.match(/^_ibp_$/) ? data.username : (0, _userHelper.displayName)(name);\n        return;\n      }\n\n      i++;\n    }\n\n    this.valid = false;\n  }\n\n  setupRooms(data) {\n    const {\n      meeting\n    } = data;\n    const {\n      conferences,\n      useSwitcher,\n      useFloor,\n      platformUrl\n    } = meeting;\n    this.cf1 = data.cf1 ? `${data.cf1}` : null;\n    this.cf2 = data.cf2 ? `${data.cf2}` : null;\n    const first = this.cf1;\n    const second = this.cf2;\n    const lounge = meeting.lounge ? `${meeting.lounge}` : null;\n    const floor = meeting.floor ? `${meeting.floor}` : null;\n    const babel = meeting.babel ? `${meeting.babel}` : null;\n    this.rooms = {};\n    this.useSwitcher = (0, _userHelper.getBoolean)(useSwitcher);\n    this.useFloor = (0, _userHelper.getBoolean)(useFloor);\n    this.roomsList = conferences.filter(c => data.role !== 'regular' || c.accessible).map(c => `${c.number}`);\n    this.titlesMap = {};\n    if (lounge) this.titlesMap[lounge] = {\n      title: 'Lounge'\n    };\n    if (floor) this.titlesMap[floor] = {\n      title: 'Floor'\n    };\n    if (babel) this.titlesMap[babel] = {\n      title: 'Babel'\n    };\n    conferences.forEach(c => this.titlesMap[`${c.number}`] = {\n      title: c.title,\n      code: c.code || c.deepl\n    });\n\n    if (platformUrl) {\n      this.platformUrl = platformUrl;\n    }\n\n    if (this.isSwitcher()) {\n      this.activeLines = conferences.length + 1;\n      this.rooms.floor = floor; // switcher logic goes here\n\n      return;\n    }\n\n    if (this.isModerator()) {\n      this.rooms = {\n        first,\n        second,\n        lounge,\n        floor,\n        babel,\n        orator: null,\n        langb: null\n      };\n      this.hearRoomId = null;\n      this.speakRoomId = null;\n      this.activeLines = this.useFloor || this.useSwitcher ? 3 : 2;\n      return;\n    } // regular\n\n\n    this.rooms = {\n      first,\n      floor,\n      babel\n    };\n    this.hearRoomId = first;\n    this.speakRoomId = first;\n    this.activeLines = this.useFloor ? 2 : 1;\n  }\n\n  validate(data) {\n    if (!this.valid) return;\n\n    if (this.isSwitcher()) {\n      const {\n        secretToken\n      } = _config.default;\n\n      if (data.secretToken !== secretToken || !data.meeting.useSwitcher) {\n        this.valid = false;\n        return;\n      }\n\n      const user = User.find({\n        meetingID: this.meetingID,\n        role: this.role\n      });\n      this.valid = !user;\n      return;\n    }\n\n    let valid = true;\n    if (Object.values(User.ROLES).indexOf(this.role) === -1 || !this.rooms.first || this.rooms.first === this.rooms.second) valid = false;\n    this.valid = this.valid && valid;\n  }\n\n  setupChannels(data) {\n    if (!this.valid) return;\n    const {\n      meeting\n    } = data;\n    const lounge = `${meeting.lounge}`;\n    const floor = `${meeting.floor}`;\n    const rooms = [...this.roomsList, lounge, floor];\n    this.channels = {\n      self: Math.random().toString(36).substr(2),\n      public: _socket.default.PUBLIC_CHANNEL,\n      rooms\n    };\n    this.client.user = this;\n    this.client.addChannel(Object.values(this.channels));\n    this.client.addCallback(_socket.default.CLOSED, () => this.destroy());\n  }\n\n  connected() {\n    return this.members.length >= this.activeLines;\n  }\n\n  onMemberAdd(member) {// Initial mute/unmute logic is done in member.onModeratorJoin()\n  }\n\n  onMemberRemove(member) {\n    this.handleConnectionLost(member);\n  }\n\n  inLoungeRoom() {\n    return !!this.memberByRoomId(this.rooms.lounge);\n  }\n\n  inOratorRoom() {\n    return !!this.memberByRoomId(this.rooms.orator);\n  }\n\n  inLangbRoom() {\n    return !!this.memberByRoomId(this.rooms.langb);\n  }\n\n  isFloorHear() {\n    const member = this.memberByRoomId(this.rooms.floor);\n    return member && member.hear;\n  }\n\n  isFloorSpeak() {\n    const member = this.memberByRoomId(this.rooms.floor);\n    return member && member.speak;\n  }\n\n  isFloorEnabled() {\n    if (!this.useFloor) return false;\n    const meetingAdjustments = _adjustments.default.meetings[this.meetingID];\n    return !(meetingAdjustments && meetingAdjustments.floorDisabled);\n  }\n\n  inBoothTeam(user) {\n    const {\n      first,\n      second\n    } = this.rooms;\n    return [first, second].sort().join() === [user.rooms.first, user.rooms.second].sort().join();\n  }\n\n  boothTeam() {\n    return User.all.filter(u => u.id !== this.id && u.isModerator() && this.inBoothTeam(u));\n  }\n\n  hearBoth() {\n    if (this.isRegular()) return false;\n    const hearMember = this.memberByRoomId(this.hearRoomId);\n    const speakMember = this.memberByRoomId(this.speakRoomId);\n    return hearMember && speakMember && hearMember.hear && speakMember.hear;\n  }\n\n  handleConnectionLost(member) {\n    if (this.skipReconnect) return;\n\n    if (member.roomId === this.cf1) {\n      return _socket.Sender.firstLineCall(this.channels.self, this.cf1);\n    }\n\n    if (member.roomId === this.cf2) {\n      return _socket.Sender.secondLineCall(this.channels.self, this.cf2);\n    }\n  }\n\n  toggleRaiseHand(data) {\n    if (data.forceCancel) {\n      // Cancel raise hand\n      this.raiseHandTime = null;\n    } else if (this.raiseHandTime === null) {\n      // Raise hand now\n      this.raiseHandTime = Date.now();\n    } else {\n      // Cancel raise hand\n      this.raiseHandTime = null;\n    }\n\n    _users.default.update(this);\n  }\n\n  toggleControlMike() {\n    this.isLockMike = !this.isLockMike;\n\n    _users.default.update(this);\n  }\n\n  updateUserState({\n    prop,\n    data\n  }) {\n    // eslint-disable-next-line default-case\n    switch (prop) {\n      case 'mediaSettings':\n        this.userState.mediaSettings = data;\n        break;\n\n      case 'debugInfo.browserData':\n        {\n          this.userState.debugInfo.browserData = data;\n          break;\n        }\n\n      case 'debugInfo.errors':\n        {\n          this.userState.debugInfo.errors.push(data);\n          break;\n        }\n\n      case 'debugInfo.janusLog':\n        {\n          this.userState.debugInfo.janusLog.push(data);\n          break;\n        }\n\n      case 'debugInfo.turnStun':\n        {\n          this.userState.debugInfo.turnStun = data;\n          break;\n        }\n\n      case 'activeChannel':\n        {\n          this.userState.activeChannel = data;\n        }\n    }\n  }\n\n  toJSON() {\n    return (0, _user.default)(this);\n  }\n\n  static async add(client, data) {\n    try {\n      await this.fetchMeetingInfo(data);\n    } catch (e) {\n      console.error(`Error: fetchMeetingInfo failed: ${e}`);\n      return client.close();\n    }\n\n    const user = new User(client, data);\n    if (!user.valid) return client.close();\n    User.makeUniq(user);\n    User.all.push(user);\n\n    _users.default.add(user);\n  }\n\n  static byMeeting(meetingID) {\n    return User.all.filter(u => u.meetingID === meetingID);\n  }\n\n  static async fetchMeetingInfo(data) {\n    const {\n      meetingID,\n      username\n    } = data;\n    const {\n      secretToken\n    } = _config.default;\n    const params = {\n      meetingID,\n      username,\n      secretToken\n    };\n    const response = await _axios.default.get(`${_config.default.webphoneServer}/getMeetingData`, {\n      params\n    });\n    const {\n      meeting,\n      bbb\n    } = response.data;\n    if (!meeting) throw new Error('No Meeting');\n    data.meeting = meeting;\n    data.bbb = bbb;\n  }\n\n  static onRegister({\n    username\n  }) {\n    const user = User.find({\n      username\n    });\n    if (!user || user.registered) return;\n    user.registered = true;\n\n    _users.default.update(user);\n  }\n\n  static onEchoTest(data) {\n    const {\n      nameId,\n      uuid,\n      start\n    } = data;\n    const user = User.find({\n      username: nameId\n    });\n    if (!user) return;\n    user.echoUuid = start ? uuid : null;\n\n    _users.default.update(user);\n  }\n\n}\n\nexports.default = User;\n\n_defineProperty(User, \"all\", []);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiVXNlciIsIkJhc2VVc2VyIiwiY29uc3RydWN0b3IiLCJjbGllbnQiLCJkYXRhIiwiaG9zdCIsImJiYiIsInBsYXRmb3JtVXJsIiwicGFzc3dvcmQiLCJjb25maWciLCJkZWZhdWx0Vm9pcFBhc3N3b3JkIiwibWVtYmVycyIsInJvbGUiLCJlY2hvVXVpZCIsImJyb3dzZXJJRCIsIm1lZXRpbmdJRCIsInJlZ2lzdGVyZWQiLCJ2YWxpZCIsInNldHVwVXNlckRhdGEiLCJzZXR1cFJvb21zIiwidmFsaWRhdGUiLCJzZXR1cENoYW5uZWxzIiwicmFpc2VIYW5kVGltZSIsImlzU3RhcnRUaW1lIiwic3RhcnRTdG9wVGltZSIsImlzUmVzZXRUaW1lIiwibGFzdEludGVycHJldGVyU2Vzc2lvblRpbWUiLCJzdGFydE1lZXRpbmciLCJzdGFydEhhbmRSYWlzZWQiLCJzdGFydFN0b3BIYW5kUmFpc2VkIiwic3RhcnRPbk1pa2VzIiwic3RhcnRTdG9wTWlrZXMiLCJzbG93U3BlYWsiLCJsZW5ndGgiLCJ1c2VybmFtZUlucHV0IiwidXNlcm5hbWUiLCJpc01vZGVyYXRvckVuZFVzZXIiLCJjb29yZGluYXRvciIsImlzTG9ja01pa2UiLCJpc01vZGVyYXRvciIsInVzZXJBdXRoIiwiZGlzcGxheU5hbWUiLCJpc1N3aXRjaGVyIiwic3dpdGNoZXJQYXNzd29yZCIsImdlbmVyYXRlTmFtZSIsInByZWZpeCIsImkiLCJ1c2VyIiwiZmluZCIsIm5hbWUiLCJtYXRjaCIsIm1lZXRpbmciLCJjb25mZXJlbmNlcyIsInVzZVN3aXRjaGVyIiwidXNlRmxvb3IiLCJjZjEiLCJjZjIiLCJmaXJzdCIsInNlY29uZCIsImxvdW5nZSIsImZsb29yIiwiYmFiZWwiLCJyb29tcyIsInJvb21zTGlzdCIsImZpbHRlciIsImMiLCJhY2Nlc3NpYmxlIiwibWFwIiwibnVtYmVyIiwidGl0bGVzTWFwIiwidGl0bGUiLCJmb3JFYWNoIiwiY29kZSIsImRlZXBsIiwiYWN0aXZlTGluZXMiLCJvcmF0b3IiLCJsYW5nYiIsImhlYXJSb29tSWQiLCJzcGVha1Jvb21JZCIsInNlY3JldFRva2VuIiwiT2JqZWN0IiwidmFsdWVzIiwiUk9MRVMiLCJpbmRleE9mIiwiY2hhbm5lbHMiLCJzZWxmIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwicHVibGljIiwiU29ja2V0IiwiUFVCTElDX0NIQU5ORUwiLCJhZGRDaGFubmVsIiwiYWRkQ2FsbGJhY2siLCJDTE9TRUQiLCJkZXN0cm95IiwiY29ubmVjdGVkIiwib25NZW1iZXJBZGQiLCJtZW1iZXIiLCJvbk1lbWJlclJlbW92ZSIsImhhbmRsZUNvbm5lY3Rpb25Mb3N0IiwiaW5Mb3VuZ2VSb29tIiwibWVtYmVyQnlSb29tSWQiLCJpbk9yYXRvclJvb20iLCJpbkxhbmdiUm9vbSIsImlzRmxvb3JIZWFyIiwiaGVhciIsImlzRmxvb3JTcGVhayIsInNwZWFrIiwiaXNGbG9vckVuYWJsZWQiLCJtZWV0aW5nQWRqdXN0bWVudHMiLCJBZGp1c3RtZW50cyIsIm1lZXRpbmdzIiwiZmxvb3JEaXNhYmxlZCIsImluQm9vdGhUZWFtIiwic29ydCIsImpvaW4iLCJib290aFRlYW0iLCJhbGwiLCJ1IiwiaWQiLCJoZWFyQm90aCIsImlzUmVndWxhciIsImhlYXJNZW1iZXIiLCJzcGVha01lbWJlciIsInNraXBSZWNvbm5lY3QiLCJyb29tSWQiLCJTZW5kZXIiLCJmaXJzdExpbmVDYWxsIiwic2Vjb25kTGluZUNhbGwiLCJ0b2dnbGVSYWlzZUhhbmQiLCJmb3JjZUNhbmNlbCIsIkRhdGUiLCJub3ciLCJVc2Vyc1NlcnZpY2UiLCJ1cGRhdGUiLCJ0b2dnbGVDb250cm9sTWlrZSIsInVwZGF0ZVVzZXJTdGF0ZSIsInByb3AiLCJ1c2VyU3RhdGUiLCJtZWRpYVNldHRpbmdzIiwiZGVidWdJbmZvIiwiYnJvd3NlckRhdGEiLCJlcnJvcnMiLCJwdXNoIiwiamFudXNMb2ciLCJ0dXJuU3R1biIsImFjdGl2ZUNoYW5uZWwiLCJ0b0pTT04iLCJhZGQiLCJmZXRjaE1lZXRpbmdJbmZvIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsImNsb3NlIiwibWFrZVVuaXEiLCJieU1lZXRpbmciLCJwYXJhbXMiLCJyZXNwb25zZSIsImF4aW9zIiwiZ2V0Iiwid2VicGhvbmVTZXJ2ZXIiLCJFcnJvciIsIm9uUmVnaXN0ZXIiLCJvbkVjaG9UZXN0IiwibmFtZUlkIiwidXVpZCIsInN0YXJ0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7QUFFZSxNQUFNQSxJQUFOLFNBQW1CQyxhQUFuQixDQUE0QjtBQUN6Q0MsRUFBQUEsV0FBVyxDQUFDQyxNQUFELEVBQVNDLElBQVQsRUFBZTtBQUN4QixVQUFNQSxJQUFOO0FBQ0EsU0FBS0QsTUFBTCxHQUFjQSxNQUFkO0FBQ0EsU0FBS0UsSUFBTCxHQUFZRCxJQUFJLENBQUNDLElBQWpCO0FBQ0EsU0FBS0MsR0FBTCxHQUFXRixJQUFJLENBQUNFLEdBQUwsSUFBWSxFQUF2QjtBQUNBLFNBQUtDLFdBQUwsR0FBbUIsSUFBbkI7QUFDQSxTQUFLQyxRQUFMLEdBQWdCSixJQUFJLENBQUNJLFFBQUwsSUFBaUJDLGdCQUFPQyxtQkFBeEM7QUFDQSxTQUFLQyxPQUFMLEdBQWUsRUFBZjtBQUNBLFNBQUtDLElBQUwsR0FBWVIsSUFBSSxDQUFDUSxJQUFMLElBQWEsS0FBS0EsSUFBOUI7QUFDQSxTQUFLQyxRQUFMLEdBQWdCLElBQWhCO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQixJQUFqQjtBQUNBLFNBQUtDLFNBQUwsR0FBaUJYLElBQUksQ0FBQ1csU0FBdEI7QUFDQSxTQUFLQyxVQUFMLEdBQWtCLEtBQWxCO0FBQ0EsU0FBS0MsS0FBTCxHQUFhLElBQWI7QUFDQSxTQUFLQyxhQUFMLENBQW1CZCxJQUFuQjtBQUNBLFNBQUtlLFVBQUwsQ0FBZ0JmLElBQWhCO0FBQ0EsU0FBS2dCLFFBQUwsQ0FBY2hCLElBQWQ7QUFD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QUNYQSxJQUFBQSxJQUFJLENBQUNsQyxRQUFMLEdBQWdCMkosS0FBSyxHQUFHRCxJQUFILEdBQVUsSUFBL0I7O0FBQ0FoQyxtQkFBYUMsTUFBYixDQUFvQnpGLElBQXBCO0FBQ0Q7O0FBelV3Qzs7OztnQkFBdEIvQyxJLFNBMlJOLEUiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvd2VicGhvbmUtbm9kZS9zcmMvbW9kZWxzL3VzZXIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi8uLi8uLi9jb25maWcnXG5pbXBvcnQgU29ja2V0LCB7IFNlbmRlciB9IGZyb20gJy4uLy4uL3NvY2tldCdcbmltcG9ydCBVc2VyU2VyaWFsaXplciBmcm9tICcuLi8uLi9zZXJpYWxpemVycy91c2VyJ1xuaW1wb3J0IFVzZXJzU2VydmljZSBmcm9tICcuLi8uLi9zZXJ2aWNlcy91c2VycydcbmltcG9ydCB7IGRpc3BsYXlOYW1lLCBnZXRCb29sZWFuIH0gZnJvbSAnLi4vLi4vaGVscGVycy91c2VySGVscGVyJ1xuaW1wb3J0IEJhc2VVc2VyIGZyb20gJy4vYmFzZSdcbmltcG9ydCBGcmVlc3dpdGNoIGZyb20gJy4uLy4uL3NlcnZpY2VzL2ZyZWVzd2l0Y2gnXG5pbXBvcnQgRXNsIGZyb20gJy4uLy4uL2VzbCdcbmltcG9ydCBBZGp1c3RtZW50cyBmcm9tICcuLi8uLi9saWJzL2FkanVzdG1lbnRzJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VyIGV4dGVuZHMgQmFzZVVzZXIge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGRhdGEpIHtcbiAgICBzdXBlcihkYXRhKVxuICAgIHRoaXMuY2xpZW50ID0gY2xpZW50XG4gICAgdGhpcy5ob3N0ID0gZGF0YS5ob3N0XG4gICAgdGhpcy5iYmIgPSBkYXRhLmJiYiB8fCB7fVxuICAgIHRoaXMucGxhdGZvcm1VcmwgPSBudWxsXG4gICAgdGhpcy5wYXNzd29yZCA9IGRhdGEucGFzc3dvcmQgfHwgY29uZmlnLmRlZmF1bHRWb2lwUGFzc3dvcmRcbiAgICB0aGlzLm1lbWJlcnMgPSBbXVxuICAgIHRoaXMucm9sZSA9IGRhdGEucm9sZSB8fCB0aGlzLnJvbGVcbiAgICB0aGlzLmVjaG9VdWlkID0gbnVsbFxuICAgIHRoaXMuYnJvd3NlcklEID0gbnVsbFxuICAgIHRoaXMubWVldGluZ0lEID0gZGF0YS5tZWV0aW5nSURcbiAgICB0aGlzLnJlZ2lzdGVyZWQgPSBmYWxzZVxuICAgIHRoaXMudmFsaWQgPSB0cnVlXG4gICAgdGhpcy5zZXR1cFVzZXJEYXRhKGRhdGEpXG4gICAgdGhpcy5zZXR1cFJvb21zKGRhdGEpXG4gICAgdGhpcy52YWxpZGF0ZShkYXRhKVxuICAgIHRoaXMuc2V0dXBDaGFubmVscyhkYXRhKVxuICAgIHRoaXMucmFpc2VIYW5kVGltZSA9IG51bGxcbiAgICB0aGlzLmlzU3RhcnRUaW1lPXRydWVcbiAgICB0aGlzLnN0YXJ0U3RvcFRpbWU9IG51bGxcbiAgICB0aGlzLmlzUmVzZXRUaW1lID0gZmFsc2VcbiAgICB0aGlzLmxhc3RJbnRlcnByZXRlclNlc3Npb25UaW1lID0gbnVsbFxuICAgIHRoaXMuc3RhcnRNZWV0aW5nPWZhbHNlXG4gICAgdGhpcy5zdGFydEhhbmRSYWlzZWQgPSB0cnVlLFxuICAgIHRoaXMuc3RhcnRTdG9wSGFuZFJhaXNlZCA9IG51bGwsXG4gICAgdGhpcy5zdGFydE9uTWlrZXMgPSB0cnVlLFxuICAgIHRoaXMuc3RhcnRTdG9wTWlrZXMgPSBudWxsICBcbiAgICB0aGlzLnNsb3dTcGVhayA9IG51bGxcbiAgXG4gIH1cblxuICBzZXR1cFVzZXJEYXRhKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5icm93c2VySUQgJiYgZGF0YS5icm93c2VySUQubGVuZ3RoKSB7XG4gICAgICB0aGlzLmJyb3dzZXJJRCA9IGRhdGEuYnJvd3NlcklEXG4gICAgfVxuICAgIHRoaXMudXNlcm5hbWVJbnB1dCA9IGRhdGEudXNlcm5hbWVcbiAgICB0aGlzLmlzTW9kZXJhdG9yRW5kVXNlciA9IGRhdGEuY29vcmRpbmF0b3JcbiAgICBpZiAoZGF0YS5jb29yZGluYXRvcikge1xuICAgICAgdGhpcy5pc0xvY2tNaWtlID0gdHJ1ZVxuICAgIH1cbiAgICBpZiAodGhpcy5pc01vZGVyYXRvcigpIHx8IGRhdGEudXNlckF1dGgpIHtcbiAgICAgIHRoaXMudXNlcm5hbWUgPSBkYXRhLnVzZXJuYW1lXG4gICAgICB0aGlzLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWUoZGF0YS51c2VybmFtZSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLmlzU3dpdGNoZXIoKSkge1xuICAgICAgdGhpcy5wYXNzd29yZCA9IGNvbmZpZy5zd2l0Y2hlclBhc3N3b3JkXG4gICAgICB0aGlzLmdlbmVyYXRlTmFtZSgnc3dpdGNoZXJfdXNlcl8nKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gcmVndWxhclxuICAgIHRoaXMuZ2VuZXJhdGVOYW1lKCdmaXhlZHVzZXJfJywgZGF0YSlcbiAgfVxuXG4gIGdlbmVyYXRlTmFtZShwcmVmaXgsIGRhdGEgPSB7fSkge1xuICAgIGxldCB1c2VybmFtZVxuICAgIGxldCBpID0gMVxuXG4gICAgd2hpbGUgKGkgPCA1MDApIHtcbiAgICAgIHVzZXJuYW1lID0gYCR7cHJlZml4fSR7aX1gXG4gICAgICBjb25zdCB1c2VyID0gVXNlci5maW5kKHsgdXNlcm5hbWUgfSlcbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICB0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWVcbiAgICAgICAgY29uc3QgbmFtZSA9IGRhdGEuZGlzcGxheU5hbWUgfHwgZGF0YS51c2VybmFtZSB8fCB1c2VybmFtZVxuICAgICAgICB0aGlzLmRpc3BsYXlOYW1lID0gbmFtZS5tYXRjaCgvXl9pYnBfJC8pID8gZGF0YS51c2VybmFtZSA6IGRpc3BsYXlOYW1lKG5hbWUpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaSsrXG4gICAgfVxuICAgIHRoaXMudmFsaWQgPSBmYWxzZVxuICB9XG5cbiAgc2V0dXBSb29tcyhkYXRhKSB7XG4gICAgY29uc3QgeyBtZWV0aW5nIH0gPSBkYXRhXG4gICAgY29uc3QgeyBjb25mZXJlbmNlcywgdXNlU3dpdGNoZXIsIHVzZUZsb29yLCBwbGF0Zm9ybVVybCB9ID0gbWVldGluZ1xuXG4gICAgdGhpcy5jZjEgPSBkYXRhLmNmMSA/IGAke2RhdGEuY2YxfWAgOiBudWxsO1xuICAgIHRoaXMuY2YyID0gZGF0YS5jZjIgPyBgJHtkYXRhLmNmMn1gIDogbnVsbDtcbiAgICBjb25zdCBmaXJzdCA9IHRoaXMuY2YxXG4gICAgY29uc3Qgc2Vjb25kID0gdGhpcy5jZjJcbiAgICBjb25zdCBsb3VuZ2UgPSBtZWV0aW5nLmxvdW5nZSA/IGAke21lZXRpbmcubG91bmdlfWAgOiBudWxsO1xuICAgIGNvbnN0IGZsb29yID0gbWVldGluZy5mbG9vciA/IGAke21lZXRpbmcuZmxvb3J9YCA6IG51bGw7XG4gICAgY29uc3QgYmFiZWwgPSBtZWV0aW5nLmJhYmVsID8gYCR7bWVldGluZy5iYWJlbH1gIDogbnVsbDtcblxuICAgIHRoaXMucm9vbXMgPSB7fVxuICAgIHRoaXMudXNlU3dpdGNoZXIgPSBnZXRCb29sZWFuKHVzZVN3aXRjaGVyKVxuICAgIHRoaXMudXNlRmxvb3IgPSBnZXRCb29sZWFuKHVzZUZsb29yKVxuICAgIHRoaXMucm9vbXNMaXN0ID0gY29uZmVyZW5jZXMuZmlsdGVyKGMgPT4gZGF0YS5yb2xlICE9PSAncmVndWxhcicgfHwgYy5hY2Nlc3NpYmxlKS5tYXAoYyA9PiBgJHtjLm51bWJlcn1gKVxuICAgIHRoaXMudGl0bGVzTWFwID0ge307XG4gICAgaWYobG91bmdlKSB0aGlzLnRpdGxlc01hcFtsb3VuZ2VdID0geyB0aXRsZTogJ0xvdW5nZScgfTtcbiAgICBpZihmbG9vcikgdGhpcy50aXRsZXNNYXBbZmxvb3JdID0geyB0aXRsZTogJ0Zsb29yJyB9O1xuICAgIGlmKGJhYmVsKSB0aGlzLnRpdGxlc01hcFtiYWJlbF0gPSB7IHRpdGxlOiAnQmFiZWwnIH07XG4gICAgY29uZmVyZW5jZXMuZm9yRWFjaChjID0+IHRoaXMudGl0bGVzTWFwW2Ake2MubnVtYmVyfWBdID0geyB0aXRsZTogYy50aXRsZSwgY29kZTogYy5jb2RlIHx8IGMuZGVlcGwgfSlcblxuICAgIGlmIChwbGF0Zm9ybVVybCkge1xuICAgICAgdGhpcy5wbGF0Zm9ybVVybCA9IHBsYXRmb3JtVXJsXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNTd2l0Y2hlcigpKSB7XG4gICAgICB0aGlzLmFjdGl2ZUxpbmVzID0gY29uZmVyZW5jZXMubGVuZ3RoICsgMVxuICAgICAgdGhpcy5yb29tcy5mbG9vciA9IGZsb29yXG4gICAgICAvLyBzd2l0Y2hlciBsb2dpYyBnb2VzIGhlcmVcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLmlzTW9kZXJhdG9yKCkpIHtcbiAgICAgIHRoaXMucm9vbXMgPSB7IGZpcnN0LCBzZWNvbmQsIGxvdW5nZSwgZmxvb3IsIGJhYmVsLCBvcmF0b3I6IG51bGwsIGxhbmdiOiBudWxsIH1cbiAgICAgIHRoaXMuaGVhclJvb21JZCA9IG51bGxcbiAgICAgIHRoaXMuc3BlYWtSb29tSWQgPSBudWxsXG4gICAgICB0aGlzLmFjdGl2ZUxpbmVzID0gdGhpcy51c2VGbG9vciB8fCB0aGlzLnVzZVN3aXRjaGVyID8gMyA6IDJcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIHJlZ3VsYXJcbiAgICB0aGlzLnJvb21zID0geyBmaXJzdCwgZmxvb3IsIGJhYmVsIH1cbiAgICB0aGlzLmhlYXJSb29tSWQgPSBmaXJzdFxuICAgIHRoaXMuc3BlYWtSb29tSWQgPSBmaXJzdFxuICAgIHRoaXMuYWN0aXZlTGluZXMgPSB0aGlzLnVzZUZsb29yID8gMiA6IDFcbiAgfVxuXG4gIHZhbGlkYXRlKGRhdGEpIHtcbiAgICBpZiAoIXRoaXMudmFsaWQpIHJldHVyblxuXG4gICAgaWYgKHRoaXMuaXNTd2l0Y2hlcigpKSB7XG4gICAgICBjb25zdCB7IHNlY3JldFRva2VuIH0gPSBjb25maWdcbiAgICAgIGlmIChkYXRhLnNlY3JldFRva2VuICE9PSBzZWNyZXRUb2tlbiB8fCAhZGF0YS5tZWV0aW5nLnVzZVN3aXRjaGVyKSB7XG4gICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgdXNlciA9IFVzZXIuZmluZCh7IG1lZXRpbmdJRDogdGhpcy5tZWV0aW5nSUQsIHJvbGU6IHRoaXMucm9sZSB9KVxuICAgICAgdGhpcy52YWxpZCA9ICF1c2VyXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgdmFsaWQgPSB0cnVlXG4gICAgaWYgKFxuICAgICAgKE9iamVjdC52YWx1ZXMoVXNlci5ST0xFUykuaW5kZXhPZih0aGlzLnJvbGUpID09PSAtMSlcbiAgICAgIHx8ICghdGhpcy5yb29tcy5maXJzdClcbiAgICAgIHx8ICh0aGlzLnJvb21zLmZpcnN0ID09PSB0aGlzLnJvb21zLnNlY29uZClcbiAgICApIHZhbGlkID0gZmFsc2VcbiAgICB0aGlzLnZhbGlkID0gdGhpcy52YWxpZCAmJiB2YWxpZFxuICB9XG5cbiAgc2V0dXBDaGFubmVscyhkYXRhKSB7XG4gICAgaWYgKCF0aGlzLnZhbGlkKSByZXR1cm5cbiAgICBjb25zdCB7IG1lZXRpbmcgfSA9IGRhdGFcbiAgICBjb25zdCBsb3VuZ2UgPSBgJHttZWV0aW5nLmxvdW5nZX1gXG4gICAgY29uc3QgZmxvb3IgPSBgJHttZWV0aW5nLmZsb29yfWBcbiAgICBjb25zdCByb29tcyA9IFsuLi50aGlzLnJvb21zTGlzdCwgbG91bmdlLCBmbG9vcl1cbiAgICB0aGlzLmNoYW5uZWxzID0ge1xuICAgICAgc2VsZjogTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIpLFxuICAgICAgcHVibGljOiBTb2NrZXQuUFVCTElDX0NIQU5ORUwsXG4gICAgICByb29tc1xuICAgIH1cbiAgICB0aGlzLmNsaWVudC51c2VyID0gdGhpc1xuICAgIHRoaXMuY2xpZW50LmFkZENoYW5uZWwoT2JqZWN0LnZhbHVlcyh0aGlzLmNoYW5uZWxzKSlcbiAgICB0aGlzLmNsaWVudC5hZGRDYWxsYmFjayhTb2NrZXQuQ0xPU0VELCAoKSA9PiB0aGlzLmRlc3Ryb3koKSlcbiAgfVxuXG4gIGNvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5tZW1iZXJzLmxlbmd0aCA+PSB0aGlzLmFjdGl2ZUxpbmVzXG4gIH1cblxuICBvbk1lbWJlckFkZChtZW1iZXIpIHtcbiAgICAvLyBJbml0aWFsIG11dGUvdW5tdXRlIGxvZ2ljIGlzIGRvbmUgaW4gbWVtYmVyLm9uTW9kZXJhdG9ySm9pbigpXG4gIH1cblxuICBvbk1lbWJlclJlbW92ZShtZW1iZXIpIHtcbiAgICB0aGlzLmhhbmRsZUNvbm5lY3Rpb25Mb3N0KG1lbWJlcilcbiAgfVxuXG4gIGluTG91bmdlUm9vbSgpIHtcbiAgICByZXR1cm4gISF0aGlzLm1lbWJlckJ5Um9vbUlkKHRoaXMucm9vbXMubG91bmdlKVxuICB9XG5cbiAgaW5PcmF0b3JSb29tKCkge1xuICAgIHJldHVybiAhIXRoaXMubWVtYmVyQnlSb29tSWQodGhpcy5yb29tcy5vcmF0b3IpXG4gIH1cblxuICBpbkxhbmdiUm9vbSgpIHtcbiAgICByZXR1cm4gISF0aGlzLm1lbWJlckJ5Um9vbUlkKHRoaXMucm9vbXMubGFuZ2IpXG4gIH1cblxuICBpc0Zsb29ySGVhcigpIHtcbiAgICBjb25zdCBtZW1iZXIgPSB0aGlzLm1lbWJlckJ5Um9vbUlkKHRoaXMucm9vbXMuZmxvb3IpXG4gICAgcmV0dXJuIG1lbWJlciAmJiBtZW1iZXIuaGVhclxuICB9XG5cbiAgaXNGbG9vclNwZWFrKCkge1xuICAgIGNvbnN0IG1lbWJlciA9IHRoaXMubWVtYmVyQnlSb29tSWQodGhpcy5yb29tcy5mbG9vcilcbiAgICByZXR1cm4gbWVtYmVyICYmIG1lbWJlci5zcGVha1xuICB9XG5cbiAgaXNGbG9vckVuYWJsZWQoKSB7XG4gICAgaWYgKCF0aGlzLnVzZUZsb29yKSByZXR1cm4gZmFsc2VcbiAgICBjb25zdCBtZWV0aW5nQWRqdXN0bWVudHMgPSBBZGp1c3RtZW50cy5tZWV0aW5nc1t0aGlzLm1lZXRpbmdJRF1cbiAgICByZXR1cm4gIShtZWV0aW5nQWRqdXN0bWVudHMgJiYgbWVldGluZ0FkanVzdG1lbnRzLmZsb29yRGlzYWJsZWQpXG4gIH1cblxuICBpbkJvb3RoVGVhbSh1c2VyKSB7XG4gICAgY29uc3QgeyBmaXJzdCwgc2Vjb25kIH0gPSB0aGlzLnJvb21zXG4gICAgcmV0dXJuIFtmaXJzdCwgc2Vjb25kXS5zb3J0KCkuam9pbigpID09PSBbdXNlci5yb29tcy5maXJzdCwgdXNlci5yb29tcy5zZWNvbmRdLnNvcnQoKS5qb2luKClcbiAgfVxuXG4gIGJvb3RoVGVhbSgpIHtcbiAgICByZXR1cm4gVXNlci5hbGwuZmlsdGVyKHUgPT4gdS5pZCAhPT0gdGhpcy5pZCAmJiB1LmlzTW9kZXJhdG9yKCkgJiYgdGhpcy5pbkJvb3RoVGVhbSh1KSlcbiAgfVxuXG4gIGhlYXJCb3RoKCkge1xuICAgIGlmICh0aGlzLmlzUmVndWxhcigpKSByZXR1cm4gZmFsc2VcbiAgICBjb25zdCBoZWFyTWVtYmVyID0gdGhpcy5tZW1iZXJCeVJvb21JZCh0aGlzLmhlYXJSb29tSWQpXG4gICAgY29uc3Qgc3BlYWtNZW1iZXIgPSB0aGlzLm1lbWJlckJ5Um9vbUlkKHRoaXMuc3BlYWtSb29tSWQpXG4gICAgcmV0dXJuIGhlYXJNZW1iZXIgJiYgc3BlYWtNZW1iZXIgJiYgaGVhck1lbWJlci5oZWFyICYmIHNwZWFrTWVtYmVyLmhlYXJcbiAgfVxuXG4gIGhhbmRsZUNvbm5lY3Rpb25Mb3N0KG1lbWJlcikge1xuICAgIGlmICh0aGlzLnNraXBSZWNvbm5lY3QpIHJldHVyblxuXG4gICAgaWYgKG1lbWJlci5yb29tSWQgPT09IHRoaXMuY2YxKSB7XG4gICAgICByZXR1cm4gU2VuZGVyLmZpcnN0TGluZUNhbGwodGhpcy5jaGFubmVscy5zZWxmLCB0aGlzLmNmMSlcbiAgICB9XG5cbiAgICBpZiAobWVtYmVyLnJvb21JZCA9PT0gdGhpcy5jZjIpIHtcbiAgICAgIHJldHVybiBTZW5kZXIuc2Vjb25kTGluZUNhbGwodGhpcy5jaGFubmVscy5zZWxmLCB0aGlzLmNmMilcbiAgICB9XG4gIH1cblxuICB0b2dnbGVSYWlzZUhhbmQoZGF0YSkge1xuICAgIGlmIChkYXRhLmZvcmNlQ2FuY2VsKSB7XG4gICAgICAgLy8gQ2FuY2VsIHJhaXNlIGhhbmRcbiAgICAgIHRoaXMucmFpc2VIYW5kVGltZSA9IG51bGw7XG4gICAgfSBlbHNlIGlmICh0aGlzLnJhaXNlSGFuZFRpbWUgPT09IG51bGwpIHtcbiAgICAgIC8vIFJhaXNlIGhhbmQgbm93XG4gICAgICB0aGlzLnJhaXNlSGFuZFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDYW5jZWwgcmFpc2UgaGFuZFxuICAgICAgdGhpcy5yYWlzZUhhbmRUaW1lID0gbnVsbDtcbiAgICB9XG4gICAgVXNlcnNTZXJ2aWNlLnVwZGF0ZSh0aGlzKTtcbiAgfVxuXG4gIHRvZ2dsZUNvbnRyb2xNaWtlKCkge1xuICAgIHRoaXMuaXNMb2NrTWlrZSA9ICF0aGlzLmlzTG9ja01pa2VcbiAgICBVc2Vyc1NlcnZpY2UudXBkYXRlKHRoaXMpO1xuICB9XG5cbiAgdXBkYXRlVXNlclN0YXRlKHsgcHJvcCwgZGF0YSB9KSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlZmF1bHQtY2FzZVxuICAgIHN3aXRjaCAocHJvcCkge1xuICAgICAgY2FzZSAnbWVkaWFTZXR0aW5ncyc6XG4gICAgICAgIHRoaXMudXNlclN0YXRlLm1lZGlhU2V0dGluZ3MgPSBkYXRhXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdkZWJ1Z0luZm8uYnJvd3NlckRhdGEnOiB7XG4gICAgICAgIHRoaXMudXNlclN0YXRlLmRlYnVnSW5mby5icm93c2VyRGF0YSA9IGRhdGFcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2RlYnVnSW5mby5lcnJvcnMnOiB7XG4gICAgICAgIHRoaXMudXNlclN0YXRlLmRlYnVnSW5mby5lcnJvcnMucHVzaChkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnZGVidWdJbmZvLmphbnVzTG9nJzoge1xuICAgICAgICB0aGlzLnVzZXJTdGF0ZS5kZWJ1Z0luZm8uamFudXNMb2cucHVzaChkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnZGVidWdJbmZvLnR1cm5TdHVuJzoge1xuICAgICAgICB0aGlzLnVzZXJTdGF0ZS5kZWJ1Z0luZm8udHVyblN0dW4gPSBkYXRhXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlICdhY3RpdmVDaGFubmVsJzoge1xuICAgICAgICB0aGlzLnVzZXJTdGF0ZS5hY3RpdmVDaGFubmVsID0gZGF0YVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gVXNlclNlcmlhbGl6ZXIodGhpcylcbiAgfVxuXG4gIHN0YXRpYyBhbGwgPSBbXVxuXG4gIHN0YXRpYyBhc3luYyBhZGQoY2xpZW50LCBkYXRhKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMuZmV0Y2hNZWV0aW5nSW5mbyhkYXRhKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yOiBmZXRjaE1lZXRpbmdJbmZvIGZhaWxlZDogJHtlfWApXG4gICAgICByZXR1cm4gY2xpZW50LmNsb3NlKClcbiAgICB9XG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKGNsaWVudCwgZGF0YSlcbiAgICBpZiAoIXVzZXIudmFsaWQpIHJldHVybiBjbGllbnQuY2xvc2UoKVxuXG4gICAgVXNlci5tYWtlVW5pcSh1c2VyKVxuICAgIFVzZXIuYWxsLnB1c2godXNlcilcbiAgICBVc2Vyc1NlcnZpY2UuYWRkKHVzZXIpXG4gIH1cblxuICBzdGF0aWMgYnlNZWV0aW5nKG1lZXRpbmdJRCkge1xuICAgIHJldHVybiBVc2VyLmFsbC5maWx0ZXIodSA9PiB1Lm1lZXRpbmdJRCA9PT0gbWVldGluZ0lEKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGZldGNoTWVldGluZ0luZm8oZGF0YSkge1xuICAgIGNvbnN0IHsgbWVldGluZ0lELCB1c2VybmFtZSB9ID0gZGF0YVxuICAgIGNvbnN0IHsgc2VjcmV0VG9rZW4gfSA9IGNvbmZpZ1xuICAgIGNvbnN0IHBhcmFtcyA9IHsgbWVldGluZ0lELCB1c2VybmFtZSwgc2VjcmV0VG9rZW4gfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAke2NvbmZpZy53ZWJwaG9uZVNlcnZlcn0vZ2V0TWVldGluZ0RhdGFgLCB7IHBhcmFtcyB9KVxuICAgIGNvbnN0IHsgbWVldGluZywgYmJiIH0gPSByZXNwb25zZS5kYXRhXG4gICAgaWYgKCFtZWV0aW5nKSB0aHJvdyBuZXcgRXJyb3IoJ05vIE1lZXRpbmcnKVxuXG4gICAgZGF0YS5tZWV0aW5nID0gbWVldGluZ1xuICAgIGRhdGEuYmJiID0gYmJiXG4gIH1cblxuICBzdGF0aWMgb25SZWdpc3Rlcih7IHVzZXJuYW1lIH0pIHtcbiAgICBjb25zdCB1c2VyID0gVXNlci5maW5kKHsgdXNlcm5hbWUgfSlcbiAgICBpZiAoIXVzZXIgfHwgdXNlci5yZWdpc3RlcmVkKSByZXR1cm5cbiAgICB1c2VyLnJlZ2lzdGVyZWQgPSB0cnVlXG4gICAgVXNlcnNTZXJ2aWNlLnVwZGF0ZSh1c2VyKVxuICB9XG5cbiAgc3RhdGljIG9uRWNob1Rlc3QoZGF0YSkge1xuICAgIGNvbnN0IHsgbmFtZUlkLCB1dWlkLCBzdGFydCB9ID0gZGF0YVxuICAgIGNvbnN0IHVzZXIgPSBVc2VyLmZpbmQoeyB1c2VybmFtZTogbmFtZUlkIH0pXG4gICAgaWYgKCF1c2VyKSByZXR1cm5cbiAgICB1c2VyLmVjaG9VdWlkID0gc3RhcnQgPyB1dWlkIDogbnVsbFxuICAgIFVzZXJzU2VydmljZS51cGRhdGUodXNlcilcbiAgfVxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "User",
        "BaseUser",
        "constructor",
        "client",
        "data",
        "host",
        "bbb",
        "platformUrl",
        "password",
        "config",
        "defaultVoipPassword",
        "members",
        "role",
        "echoUuid",
        "browserID",
        "meetingID",
        "registered",
        "valid",
        "setupUserData",
        "setupRooms",
        "validate",
        "setupChannels",
        "raiseHandTime",
        "isStartTime",
        "startStopTime",
        "isResetTime",
        "lastInterpreterSessionTime",
        "startMeeting",
        "startHandRaised",
        "startStopHandRaised",
        "startOnMikes",
        "startStopMikes",
        "slowSpeak",
        "length",
        "usernameInput",
        "username",
        "isModeratorEndUser",
        "coordinator",
        "isLockMike",
        "isModerator",
        "userAuth",
        "displayName",
        "isSwitcher",
        "switcherPassword",
        "generateName",
        "prefix",
        "i",
        "user",
        "find",
        "name",
        "match",
        "meeting",
        "conferences",
        "useSwitcher",
        "useFloor",
        "cf1",
        "cf2",
        "first",
        "second",
        "lounge",
        "floor",
        "babel",
        "rooms",
        "roomsList",
        "filter",
        "c",
        "accessible",
        "map",
        "number",
        "titlesMap",
        "title",
        "forEach",
        "code",
        "deepl",
        "activeLines",
        "orator",
        "langb",
        "hearRoomId",
        "speakRoomId",
        "secretToken",
        "Object",
        "values",
        "ROLES",
        "indexOf",
        "channels",
        "self",
        "Math",
        "random",
        "toString",
        "substr",
        "public",
        "Socket",
        "PUBLIC_CHANNEL",
        "addChannel",
        "addCallback",
        "CLOSED",
        "destroy",
        "connected",
        "onMemberAdd",
        "member",
        "onMemberRemove",
        "handleConnectionLost",
        "inLoungeRoom",
        "memberByRoomId",
        "inOratorRoom",
        "inLangbRoom",
        "isFloorHear",
        "hear",
        "isFloorSpeak",
        "speak",
        "isFloorEnabled",
        "meetingAdjustments",
        "Adjustments",
        "meetings",
        "floorDisabled",
        "inBoothTeam",
        "sort",
        "join",
        "boothTeam",
        "all",
        "u",
        "id",
        "hearBoth",
        "isRegular",
        "hearMember",
        "speakMember",
        "skipReconnect",
        "roomId",
        "Sender",
        "firstLineCall",
        "secondLineCall",
        "toggleRaiseHand",
        "forceCancel",
        "Date",
        "now",
        "UsersService",
        "update",
        "toggleControlMike",
        "updateUserState",
        "prop",
        "userState",
        "mediaSettings",
        "debugInfo",
        "browserData",
        "errors",
        "push",
        "janusLog",
        "turnStun",
        "activeChannel",
        "toJSON",
        "add",
        "fetchMeetingInfo",
        "e",
        "console",
        "error",
        "close",
        "makeUniq",
        "byMeeting",
        "params",
        "response",
        "axios",
        "get",
        "webphoneServer",
        "Error",
        "onRegister",
        "onEchoTest",
        "nameId",
        "uuid",
        "start"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
      "sourcesContent": [
        "import axios from 'axios'\nimport config from '../../../config'\nimport Socket, { Sender } from '../../socket'\nimport UserSerializer from '../../serializers/user'\nimport UsersService from '../../services/users'\nimport { displayName, getBoolean } from '../../helpers/userHelper'\nimport BaseUser from './base'\nimport Freeswitch from '../../services/freeswitch'\nimport Esl from '../../esl'\nimport Adjustments from '../../libs/adjustments'\n\nexport default class User extends BaseUser {\n  constructor(client, data) {\n    super(data)\n    this.client = client\n    this.host = data.host\n    this.bbb = data.bbb || {}\n    this.platformUrl = null\n    this.password = data.password || config.defaultVoipPassword\n    this.members = []\n    this.role = data.role || this.role\n    this.echoUuid = null\n    this.browserID = null\n    this.meetingID = data.meetingID\n    this.registered = false\n    this.valid = true\n    this.setupUserData(data)\n    this.setupRooms(data)\n    this.validate(data)\n    this.setupChannels(data)\n    this.raiseHandTime = null\n    this.isStartTime=true\n    this.startStopTime= null\n    this.isResetTime = false\n    this.lastInterpreterSessionTime = null\n    this.startMeeting=false\n    this.startHandRaised = true,\n    this.startStopHandRaised = null,\n    this.startOnMikes = true,\n    this.startStopMikes = null  \n    this.slowSpeak = null\n  \n  }\n\n  setupUserData(data) {\n    if (data.browserID && data.browserID.length) {\n      this.browserID = data.browserID\n    }\n    this.usernameInput = data.username\n    this.isModeratorEndUser = data.coordinator\n    if (data.coordinator) {\n      this.isLockMike = true\n    }\n    if (this.isModerator() || data.userAuth) {\n      this.username = data.username\n      this.displayName = displayName(data.username)\n      return\n    }\n\n    if (this.isSwitcher()) {\n      this.password = config.switcherPassword\n      this.generateName('switcher_user_')\n      return\n    }\n\n    // regular\n    this.generateName('fixeduser_', data)\n  }\n\n  generateName(prefix, data = {}) {\n    let username\n    let i = 1\n\n    while (i < 500) {\n      username = `${prefix}${i}`\n      const user = User.find({ username })\n      if (!user) {\n        this.username = username\n        const name = data.displayName || data.username || username\n        this.displayName = name.match(/^_ibp_$/) ? data.username : displayName(name)\n        return\n      }\n      i++\n    }\n    this.valid = false\n  }\n\n  setupRooms(data) {\n    const { meeting } = data\n    const { conferences, useSwitcher, useFloor, platformUrl } = meeting\n\n    this.cf1 = data.cf1 ? `${data.cf1}` : null;\n    this.cf2 = data.cf2 ? `${data.cf2}` : null;\n    const first = this.cf1\n    const second = this.cf2\n    const lounge = meeting.lounge ? `${meeting.lounge}` : null;\n    const floor = meeting.floor ? `${meeting.floor}` : null;\n    const babel = meeting.babel ? `${meeting.babel}` : null;\n\n    this.rooms = {}\n    this.useSwitcher = getBoolean(useSwitcher)\n    this.useFloor = getBoolean(useFloor)\n    this.roomsList = conferences.filter(c => data.role !== 'regular' || c.accessible).map(c => `${c.number}`)\n    this.titlesMap = {};\n    if(lounge) this.titlesMap[lounge] = { title: 'Lounge' };\n    if(floor) this.titlesMap[floor] = { title: 'Floor' };\n    if(babel) this.titlesMap[babel] = { title: 'Babel' };\n    conferences.forEach(c => this.titlesMap[`${c.number}`] = { title: c.title, code: c.code || c.deepl })\n\n    if (platformUrl) {\n      this.platformUrl = platformUrl\n    }\n\n    if (this.isSwitcher()) {\n      this.activeLines = conferences.length + 1\n      this.rooms.floor = floor\n      // switcher logic goes here\n      return\n    }\n\n    if (this.isModerator()) {\n      this.rooms = { first, second, lounge, floor, babel, orator: null, langb: null }\n      this.hearRoomId = null\n      this.speakRoomId = null\n      this.activeLines = this.useFloor || this.useSwitcher ? 3 : 2\n      return\n    }\n\n    // regular\n    this.rooms = { first, floor, babel }\n    this.hearRoomId = first\n    this.speakRoomId = first\n    this.activeLines = this.useFloor ? 2 : 1\n  }\n\n  validate(data) {\n    if (!this.valid) return\n\n    if (this.isSwitcher()) {\n      const { secretToken } = config\n      if (data.secretToken !== secretToken || !data.meeting.useSwitcher) {\n        this.valid = false\n        return\n      }\n\n      const user = User.find({ meetingID: this.meetingID, role: this.role })\n      this.valid = !user\n      return\n    }\n\n    let valid = true\n    if (\n      (Object.values(User.ROLES).indexOf(this.role) === -1)\n      || (!this.rooms.first)\n      || (this.rooms.first === this.rooms.second)\n    ) valid = false\n    this.valid = this.valid && valid\n  }\n\n  setupChannels(data) {\n    if (!this.valid) return\n    const { meeting } = data\n    const lounge = `${meeting.lounge}`\n    const floor = `${meeting.floor}`\n    const rooms = [...this.roomsList, lounge, floor]\n    this.channels = {\n      self: Math.random().toString(36).substr(2),\n      public: Socket.PUBLIC_CHANNEL,\n      rooms\n    }\n    this.client.user = this\n    this.client.addChannel(Object.values(this.channels))\n    this.client.addCallback(Socket.CLOSED, () => this.destroy())\n  }\n\n  connected() {\n    return this.members.length >= this.activeLines\n  }\n\n  onMemberAdd(member) {\n    // Initial mute/unmute logic is done in member.onModeratorJoin()\n  }\n\n  onMemberRemove(member) {\n    this.handleConnectionLost(member)\n  }\n\n  inLoungeRoom() {\n    return !!this.memberByRoomId(this.rooms.lounge)\n  }\n\n  inOratorRoom() {\n    return !!this.memberByRoomId(this.rooms.orator)\n  }\n\n  inLangbRoom() {\n    return !!this.memberByRoomId(this.rooms.langb)\n  }\n\n  isFloorHear() {\n    const member = this.memberByRoomId(this.rooms.floor)\n    return member && member.hear\n  }\n\n  isFloorSpeak() {\n    const member = this.memberByRoomId(this.rooms.floor)\n    return member && member.speak\n  }\n\n  isFloorEnabled() {\n    if (!this.useFloor) return false\n    const meetingAdjustments = Adjustments.meetings[this.meetingID]\n    return !(meetingAdjustments && meetingAdjustments.floorDisabled)\n  }\n\n  inBoothTeam(user) {\n    const { first, second } = this.rooms\n    return [first, second].sort().join() === [user.rooms.first, user.rooms.second].sort().join()\n  }\n\n  boothTeam() {\n    return User.all.filter(u => u.id !== this.id && u.isModerator() && this.inBoothTeam(u))\n  }\n\n  hearBoth() {\n    if (this.isRegular()) return false\n    const hearMember = this.memberByRoomId(this.hearRoomId)\n    const speakMember = this.memberByRoomId(this.speakRoomId)\n    return hearMember && speakMember && hearMember.hear && speakMember.hear\n  }\n\n  handleConnectionLost(member) {\n    if (this.skipReconnect) return\n\n    if (member.roomId === this.cf1) {\n      return Sender.firstLineCall(this.channels.self, this.cf1)\n    }\n\n    if (member.roomId === this.cf2) {\n      return Sender.secondLineCall(this.channels.self, this.cf2)\n    }\n  }\n\n  toggleRaiseHand(data) {\n    if (data.forceCancel) {\n       // Cancel raise hand\n      this.raiseHandTime = null;\n    } else if (this.raiseHandTime === null) {\n      // Raise hand now\n      this.raiseHandTime = Date.now();\n    } else {\n      // Cancel raise hand\n      this.raiseHandTime = null;\n    }\n    UsersService.update(this);\n  }\n\n  toggleControlMike() {\n    this.isLockMike = !this.isLockMike\n    UsersService.update(this);\n  }\n\n  updateUserState({ prop, data }) {\n    // eslint-disable-next-line default-case\n    switch (prop) {\n      case 'mediaSettings':\n        this.userState.mediaSettings = data\n        break\n      case 'debugInfo.browserData': {\n        this.userState.debugInfo.browserData = data\n        break\n      }\n      case 'debugInfo.errors': {\n        this.userState.debugInfo.errors.push(data)\n        break\n      }\n      case 'debugInfo.janusLog': {\n        this.userState.debugInfo.janusLog.push(data)\n        break\n      }\n      case 'debugInfo.turnStun': {\n        this.userState.debugInfo.turnStun = data\n        break\n      }\n      case 'activeChannel': {\n        this.userState.activeChannel = data\n      }\n    }\n  }\n\n  toJSON() {\n    return UserSerializer(this)\n  }\n\n  static all = []\n\n  static async add(client, data) {\n    try {\n      await this.fetchMeetingInfo(data)\n    } catch (e) {\n      console.error(`Error: fetchMeetingInfo failed: ${e}`)\n      return client.close()\n    }\n    const user = new User(client, data)\n    if (!user.valid) return client.close()\n\n    User.makeUniq(user)\n    User.all.push(user)\n    UsersService.add(user)\n  }\n\n  static byMeeting(meetingID) {\n    return User.all.filter(u => u.meetingID === meetingID)\n  }\n\n  static async fetchMeetingInfo(data) {\n    const { meetingID, username } = data\n    const { secretToken } = config\n    const params = { meetingID, username, secretToken }\n    const response = await axios.get(`${config.webphoneServer}/getMeetingData`, { params })\n    const { meeting, bbb } = response.data\n    if (!meeting) throw new Error('No Meeting')\n\n    data.meeting = meeting\n    data.bbb = bbb\n  }\n\n  static onRegister({ username }) {\n    const user = User.find({ username })\n    if (!user || user.registered) return\n    user.registered = true\n    UsersService.update(user)\n  }\n\n  static onEchoTest(data) {\n    const { nameId, uuid, start } = data\n    const user = User.find({ username: nameId })\n    if (!user) return\n    user.echoUuid = start ? uuid : null\n    UsersService.update(user)\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _user.default;\n  }\n});\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9zZXJpYWxpemVycy91c2VyLyIsInNvdXJjZXNDb250ZW50IjpbXX0=",
    "map": {
      "version": 3,
      "sources": [],
      "names": [],
      "mappings": "",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/",
      "sourcesContent": []
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/user.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/user.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/user.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = (user, options = {}) => {\n  const result = {\n    id: user.id,\n    remote: false,\n    client: user.client,\n    host: user.host,\n    bbb: user.bbb,\n    platformUrl: user.platformUrl,\n    username: user.username,\n    usernameInput: user.usernameInput,\n    password: user.password,\n    displayName: user.displayName,\n    shortName: user.shortName(),\n    members: user.members,\n    role: user.role,\n    isSwitcher: user.isSwitcher(),\n    isModerator: user.isModerator(),\n    isRegular: user.isRegular(),\n    isTechAssistant: user.isTechAssistant(),\n    isAdministrator: user.isAdministrator(),\n    isHear: user.isHear(),\n    isSpeak: user.isSpeak(),\n    connected: user.connected(),\n    registered: user.registered,\n    useFloor: user.useFloor,\n    useSwitcher: user.useSwitcher,\n    rooms: user.rooms,\n    roomsList: user.roomsList,\n    inLoungeRoom: user.inLoungeRoom(),\n    inOratorRoom: user.inOratorRoom(),\n    inLangbRoom: user.inLangbRoom(),\n    isFloorHear: user.isFloorHear(),\n    hearBoth: user.hearBoth(),\n    speakRoomId: user.speakRoomId,\n    hearRoomId: user.hearRoomId,\n    channels: user.channels,\n    echoUuid: user.echoUuid,\n    browserID: user.browserID,\n    meetingID: user.meetingID,\n    titlesMap: user.titlesMap,\n    raiseHandTime: user.raiseHandTime,\n    isStartTime: user.isStartTime,\n    startStopTime: user.startStopTime,\n    isResetTime: user.isResetTime,\n    startMeeting: true,\n    lastInterpreterSessionTime: user.lastInterpreterSessionTime,\n    userState: user.userState,\n    startHandRaised: user.startHandRaised,\n    startStopHandRaised: user.startStopHandRaised,\n    startOnMikes: user.startOnMikes,\n    startStopMikes: user.startStopMikes,\n    slowSpeak: user.slowSpeak,\n    cf1: user.cf1,\n    cf2: user.cf2,\n    isLockMike: user.isLockMike\n  };\n\n  if (options.memberIds) {\n    result.members = user.members.map(m => m.id);\n  }\n\n  return result;\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsidXNlciIsIm9wdGlvbnMiLCJyZXN1bHQiLCJpZCIsInJlbW90ZSIsImNsaWVudCIsImhvc3QiLCJiYmIiLCJwbGF0Zm9ybVVybCIsInVzZXJuYW1lIiwidXNlcm5hbWVJbnB1dCIsInBhc3N3b3JkIiwiZGlzcGxheU5hbWUiLCJzaG9ydE5hbWUiLCJtZW1iZXJzIiwicm9sZSIsImlzU3dpdGNoZXIiLCJpc01vZGVyYXRvciIsImlzUmVndWxhciIsImlzVGVjaEFzc2lzdGFudCIsImlzQWRtaW5pc3RyYXRvciIsImlzSGVhciIsImlzU3BlYWsiLCJjb25uZWN0ZWQiLCJyZWdpc3RlcmVkIiwidXNlRmxvb3IiLCJ1c2VTd2l0Y2hlciIsInJvb21zIiwicm9vbXNMaXN0IiwiaW5Mb3VuZ2VSb29tIiwiaW5PcmF0b3JSb29tIiwiaW5MYW5nYlJvb20iLCJpc0Zsb29ySGVhciIsImhlYXJCb3RoIiwic3BlYWtSb29tSWQiLCJoZWFyUm9vbUlkIiwiY2hhbm5lbHMiLCJlY2hvVXVpZCIsImJyb3dzZXJJRCIsIm1lZXRpbmdJRCIsInRpdGxlc01hcCIsInJhaXNlSGFuZFRpbWUiLCJpc1N0YXJ0VGltZSIsInN0YXJ0U3RvcFRpbWUiLCJpc1Jlc2V0VGltZSIsInN0YXJ0TWVldGluZyIsImxhc3RJbnRlcnByZXRlclNlc3Npb25UaW1lIiwidXNlclN0YXRlIiwic3RhcnRIYW5kUmFpc2VkIiwic3RhcnRTdG9wSGFuZFJhaXNlZCIsInN0YXJ0T25NaWtlcyIsInN0YXJ0U3RvcE1pa2VzIiwic2xvd1NwZWFrIiwiY2YxIiwiY2YyIiwiaXNMb2NrTWlrZSIsIm1lbWJlcklkcyIsIm1hcCIsIm0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7ZUFBZSxDQUFDQSxJQUFELEVBQU9DLE9BQU8sR0FBRyxFQUFqQixLQUF3QjtBQUNyQyxRQUFNQyxNQUFNLEdBQUc7QUFDYkMsSUFBQUEsRUFBRSxFQUFFSCxJQUFJLENBQUNHLEVBREk7QUFFYkMsSUFB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QSwwQkFBMEIsRUFBRTlDLElBQUksQ0FBQzhDLDBCQTVDcEI7QUE2Q2JDLElBQUFBLFNBQVMsRUFBRS9DLElBQUksQ0FBQytDLFNBN0NIO0FBOENiQyxJQUFBQSxlQUFlLEVBQUVoRCxJQUFJLENBQUNnRCxlQTlDVDtBQStDYkMsSUFBQUEsbUJBQW1CLEVBQUdqRCxJQUFJLENBQUNpRCxtQkEvQ2Q7QUFnRGJDLElBQUFBLFlBQVksRUFBR2xELElBQUksQ0FBQ2tELFlBaERQO0FBaURiQyxJQUFBQSxjQUFjLEVBQUduRCxJQUFJLENBQUNtRCxjQWpEVDtBQWtEYkMsSUFBQUEsU0FBUyxFQUFFcEQsSUFBSSxDQUFDb0QsU0FsREg7QUFtRGJDLElBQUFBLEdBQUcsRUFBRXJELElBQUksQ0FBQ3FELEdBbkRHO0FBb0RiQyxJQUFBQSxHQUFHLEVBQUV0RCxJQUFJLENBQUNzRCxHQXBERztBQXFEYkMsSUFBQUEsVUFBVSxFQUFFdkQsSUFBSSxDQUFDdUQ7QUFyREosR0FBZjs7QUF3REEsTUFBSXRELE9BQU8sQ0FBQ3VELFNBQVosRUFBdUI7QUFDckJ0RCxJQUFBQSxNQUFNLENBQUNZLE9BQVAsR0FBaUJkLElBQUksQ0FBQ2MsT0FBTCxDQUFhMkMsR0FBYixDQUFpQkMsQ0FBQyxJQUFJQSxDQUFDLENBQUN2RCxFQUF4QixDQUFqQjtBQUNEOztBQUNELFNBQU9ELE1BQVA7QUFDRCxDIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3dlYnBob25lLW5vZGUvc3JjL3NlcmlhbGl6ZXJzL3VzZXIvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgKHVzZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCByZXN1bHQgPSB7XG4gICAgaWQ6IHVzZXIuaWQsXG4gICAgcmVtb3RlOiBmYWxzZSxcbiAgICBjbGllbnQ6IHVzZXIuY2xpZW50LFxuICAgIGhvc3Q6IHVzZXIuaG9zdCxcbiAgICBiYmI6IHVzZXIuYmJiLFxuICAgIHBsYXRmb3JtVXJsOiB1c2VyLnBsYXRmb3JtVXJsLFxuICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgIHVzZXJuYW1lSW5wdXQ6IHVzZXIudXNlcm5hbWVJbnB1dCxcbiAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZCxcbiAgICBkaXNwbGF5TmFtZTogdXNlci5kaXNwbGF5TmFtZSxcbiAgICBzaG9ydE5hbWU6IHVzZXIuc2hvcnROYW1lKCksXG4gICAgbWVtYmVyczogdXNlci5tZW1iZXJzLFxuICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICBpc1N3aXRjaGVyOiB1c2VyLmlzU3dpdGNoZXIoKSxcbiAgICBpc01vZGVyYXRvcjogdXNlci5pc01vZGVyYXRvcigpLFxuICAgIGlzUmVndWxhcjogdXNlci5pc1JlZ3VsYXIoKSxcbiAgICBpc1RlY2hBc3Npc3RhbnQ6IHVzZXIuaXNUZWNoQXNzaXN0YW50KCksXG4gICAgaXNBZG1pbmlzdHJhdG9yOiB1c2VyLmlzQWRtaW5pc3RyYXRvcigpLFxuICAgIGlzSGVhcjogdXNlci5pc0hlYXIoKSxcbiAgICBpc1NwZWFrOiB1c2VyLmlzU3BlYWsoKSxcbiAgICBjb25uZWN0ZWQ6IHVzZXIuY29ubmVjdGVkKCksXG4gICAgcmVnaXN0ZXJlZDogdXNlci5yZWdpc3RlcmVkLFxuICAgIHVzZUZsb29yOiB1c2VyLnVzZUZsb29yLFxuICAgIHVzZVN3aXRjaGVyOiB1c2VyLnVzZVN3aXRjaGVyLFxuICAgIHJvb21zOiB1c2VyLnJvb21zLFxuICAgIHJvb21zTGlzdDogdXNlci5yb29tc0xpc3QsXG4gICAgaW5Mb3VuZ2VSb29tOiB1c2VyLmluTG91bmdlUm9vbSgpLFxuICAgIGluT3JhdG9yUm9vbTogdXNlci5pbk9yYXRvclJvb20oKSxcbiAgICBpbkxhbmdiUm9vbTogdXNlci5pbkxhbmdiUm9vbSgpLFxuICAgIGlzRmxvb3JIZWFyOiB1c2VyLmlzRmxvb3JIZWFyKCksXG4gICAgaGVhckJvdGg6IHVzZXIuaGVhckJvdGgoKSxcbiAgICBzcGVha1Jvb21JZDogdXNlci5zcGVha1Jvb21JZCxcbiAgICBoZWFyUm9vbUlkOiB1c2VyLmhlYXJSb29tSWQsXG4gICAgY2hhbm5lbHM6IHVzZXIuY2hhbm5lbHMsXG4gICAgZWNob1V1aWQ6IHVzZXIuZWNob1V1aWQsXG4gICAgYnJvd3NlcklEOiB1c2VyLmJyb3dzZXJJRCxcbiAgICBtZWV0aW5nSUQ6IHVzZXIubWVldGluZ0lELFxuICAgIHRpdGxlc01hcDogdXNlci50aXRsZXNNYXAsXG4gICAgcmFpc2VIYW5kVGltZTogdXNlci5yYWlzZUhhbmRUaW1lLFxuICAgIGlzU3RhcnRUaW1lOiB1c2VyLmlzU3RhcnRUaW1lLFxuICAgIHN0YXJ0U3RvcFRpbWU6IHVzZXIuc3RhcnRTdG9wVGltZSxcbiAgICBpc1Jlc2V0VGltZTogdXNlci5pc1Jlc2V0VGltZSxcbiAgICBzdGFydE1lZXRpbmc6IHRydWUsXG4gICAgbGFzdEludGVycHJldGVyU2Vzc2lvblRpbWU6IHVzZXIubGFzdEludGVycHJldGVyU2Vzc2lvblRpbWUsXG4gICAgdXNlclN0YXRlOiB1c2VyLnVzZXJTdGF0ZSxcbiAgICBzdGFydEhhbmRSYWlzZWQ6IHVzZXIuc3RhcnRIYW5kUmFpc2VkLFxuICAgIHN0YXJ0U3RvcEhhbmRSYWlzZWQgOiB1c2VyLnN0YXJ0U3RvcEhhbmRSYWlzZWQsXG4gICAgc3RhcnRPbk1pa2VzIDogdXNlci5zdGFydE9uTWlrZXMsXG4gICAgc3RhcnRTdG9wTWlrZXMgOiB1c2VyLnN0YXJ0U3RvcE1pa2VzLFxuICAgIHNsb3dTcGVhazogdXNlci5zbG93U3BlYWssXG4gICAgY2YxOiB1c2VyLmNmMSxcbiAgICBjZjI6IHVzZXIuY2YyLFxuICAgIGlzTG9ja01pa2U6IHVzZXIuaXNMb2NrTWlrZVxuICB9XG5cbiAgaWYgKG9wdGlvbnMubWVtYmVySWRzKSB7XG4gICAgcmVzdWx0Lm1lbWJlcnMgPSB1c2VyLm1lbWJlcnMubWFwKG0gPT4gbS5pZClcbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "user",
        "options",
        "result",
        "id",
        "remote",
        "client",
        "host",
        "bbb",
        "platformUrl",
        "username",
        "usernameInput",
        "password",
        "displayName",
        "shortName",
        "members",
        "role",
        "isSwitcher",
        "isModerator",
        "isRegular",
        "isTechAssistant",
        "isAdministrator",
        "isHear",
        "isSpeak",
        "connected",
        "registered",
        "useFloor",
        "useSwitcher",
        "rooms",
        "roomsList",
        "inLoungeRoom",
        "inOratorRoom",
        "inLangbRoom",
        "isFloorHear",
        "hearBoth",
        "speakRoomId",
        "hearRoomId",
        "channels",
        "echoUuid",
        "browserID",
        "meetingID",
        "titlesMap",
        "raiseHandTime",
        "isStartTime",
        "startStopTime",
        "isResetTime",
        "startMeeting",
        "lastInterpreterSessionTime",
        "userState",
        "startHandRaised",
        "startStopHandRaised",
        "startOnMikes",
        "startStopMikes",
        "slowSpeak",
        "cf1",
        "cf2",
        "isLockMike",
        "memberIds",
        "map",
        "m"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/user/",
      "sourcesContent": [
        "export default (user, options = {}) => {\n  const result = {\n    id: user.id,\n    remote: false,\n    client: user.client,\n    host: user.host,\n    bbb: user.bbb,\n    platformUrl: user.platformUrl,\n    username: user.username,\n    usernameInput: user.usernameInput,\n    password: user.password,\n    displayName: user.displayName,\n    shortName: user.shortName(),\n    members: user.members,\n    role: user.role,\n    isSwitcher: user.isSwitcher(),\n    isModerator: user.isModerator(),\n    isRegular: user.isRegular(),\n    isTechAssistant: user.isTechAssistant(),\n    isAdministrator: user.isAdministrator(),\n    isHear: user.isHear(),\n    isSpeak: user.isSpeak(),\n    connected: user.connected(),\n    registered: user.registered,\n    useFloor: user.useFloor,\n    useSwitcher: user.useSwitcher,\n    rooms: user.rooms,\n    roomsList: user.roomsList,\n    inLoungeRoom: user.inLoungeRoom(),\n    inOratorRoom: user.inOratorRoom(),\n    inLangbRoom: user.inLangbRoom(),\n    isFloorHear: user.isFloorHear(),\n    hearBoth: user.hearBoth(),\n    speakRoomId: user.speakRoomId,\n    hearRoomId: user.hearRoomId,\n    channels: user.channels,\n    echoUuid: user.echoUuid,\n    browserID: user.browserID,\n    meetingID: user.meetingID,\n    titlesMap: user.titlesMap,\n    raiseHandTime: user.raiseHandTime,\n    isStartTime: user.isStartTime,\n    startStopTime: user.startStopTime,\n    isResetTime: user.isResetTime,\n    startMeeting: true,\n    lastInterpreterSessionTime: user.lastInterpreterSessionTime,\n    userState: user.userState,\n    startHandRaised: user.startHandRaised,\n    startStopHandRaised : user.startStopHandRaised,\n    startOnMikes : user.startOnMikes,\n    startStopMikes : user.startStopMikes,\n    slowSpeak: user.slowSpeak,\n    cf1: user.cf1,\n    cf2: user.cf2,\n    isLockMike: user.isLockMike\n  }\n\n  if (options.memberIds) {\n    result.members = user.members.map(m => m.id)\n  }\n  return result\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/member.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/member.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/member.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/member.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/",
        "sourceFileName": "member.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _remote = _interopRequireDefault(require(\"./user/remote\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = member => {\n  const serializeUser = user => {\n    const remote = user.constructor.name === 'RemoteUser';\n\n    if (remote) {\n      return (0, _remote.default)(user, {\n        memberIds: true\n      });\n    }\n\n    return (0, _user.default)(user, {\n      memberIds: true\n    });\n  };\n\n  return {\n    id: member.id,\n    user: serializeUser(member.user),\n    roomId: member.roomId,\n    nameId: member.nameId,\n    speak: member.speak,\n    hear: member.hear,\n    talking: member.talking,\n    userId: member.user.id,\n    moderatorStatus: member.moderatorStatus,\n    isStartTime: member.isStartTime,\n    startStopTime: member.startStopTime,\n    isResetTime: member.isResetTime,\n    lastInterpreterSessionTime: member.lastInterpreterSessionTime,\n    startMeeting: member.startMeeting,\n    startHandRaised: member.startHandRaised,\n    startStopHandRaised: member.startStopHandRaised,\n    startOnMikes: member.startOnMikes,\n    startStopMikes: member.startStopMikes,\n    slowSpeak: member.slowSpeak\n  };\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbWJlci5qcyJdLCJuYW1lcyI6WyJtZW1iZXIiLCJzZXJpYWxpemVVc2VyIiwidXNlciIsInJlbW90ZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsIm1lbWJlcklkcyIsImlkIiwicm9vbUlkIiwibmFtZUlkIiwic3BlYWsiLCJoZWFyIiwidGFsa2luZyIsInVzZXJJZCIsIm1vZGVyYXRvclN0YXR1cyIsImlzU3RhcnRUaW1lIiwic3RhcnRTdG9wVGltZSIsImlzUmVzZXRUaW1lIiwibGFzdEludGVycHJldGVyU2Vzc2lvblRpbWUiLCJzdGFydE1lZXRpbmciLCJzdGFydEhhbmRSYWlzZWQiLCJzdGFydFN0b3BIYW5kUmFpc2VkIiwic3RhcnRPbk1pa2VzIiwic3RhcnRTdG9wTWlrZXMiLCJzbG93U3BlYWsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztlQUVnQkEsTUFBRCxJQUFZO0FBQ3pCLFFBQU1DLGFBQWEsR0FBSUMsSUFBRCxJQUFVO0FBQzlCLFVBQU1DLE1BQU0sR0FBR0QsSUFBSSxDQUFDRSxXQUFMLENBQWlCQyxJQUFqQixLQUEwQixZQUF6Qzs7QUFDQSxRQUFJRixNQUFKLEVBQVk7QUFDVixhQUFPLHFCQUFxQkQsSUFBckIsRUFBMkI7QUFBRUksUUFBQUEsU0FBUyxFQUFFO0FBQWIsT0FBM0IsQ0FBUDtBQUNEOztBQUNELFdBQU8sbUJBQWVKLElBQWYsRUFBcUI7QUFBRUksTUFBQUEsU0FBUyxFQUFFO0FBQWIsS0FBckIsQ0FBUDtBQUNELEdBTkQ7O0FBUUEsU0FBTztBQUNMQyxJQUFBQSxFQUFFLEVBQUVQLE1BQU0sQ0FBQ08sRUFETjtBQUVMTCxJQUFBQSxJQUFJLEVBQUVELGFBQWEsQ0FBQ0QsTUFBTSxDQUFDRSxJQUFSLENBRmQ7QUFHTE0sSUFBQUEsTUFBTSxFQUFFUixNQUFNLENBQUNRLE1BSFY7QUFJTEMsSUFBQUEsTUFBTSxFQUFFVCxNQUFNLENBQUNTLE1BSlY7QUFLTEMsSUFBQUEsS0FBSyxFQUFFVixNQUFNLENBQUNVLEtBTFQ7QUFNTEMsSUFBQUEsSUFBSSxFQUFFWCxNQUFNLENBQUNXLElBTlI7QUFPTEMsSUFBQUEsT0FBTyxFQUFFWixNQUFNLENBQUNZLE9BUFg7QUFRTEMsSUFBQUEsTUFBTSxFQUFFYixNQUFNLENBQUNFLElBQVAsQ0FBWUssRUFSZjtBQVNMTyxJQUFBQSxlQUFlLEVBQUVkLE1BQU0sQ0FBQ2MsZUFUbkI7QUFVTEMsSUFBQUEsV0FBVyxFQUFFZixNQUFNLENBQUNlLFdBVmY7QUFXTEMsSUFBQUEsYUFBYSxFQUFFaEIsTUFBTSxDQUFDZ0IsYUFYakI7QUFZTEMsSUFBQUEsV0FBVyxFQUFFakIsTUFBTSxDQUFDaUIsV0FaZjtBQWFMQyxJQUFBQSwwQkFBMEIsRUFBRWxCLE1BQU0sQ0FBQ2tCLDBCQWI5QjtBQWNMQyxJQUFBQSxZQUFZLEVBQUVuQixNQUFNLENBQUNtQixZQWRoQjtBQWVMQyxJQUFBQSxlQUFlLEVBQUVwQixNQUFNLENBQUNvQixlQWZuQjtBQWdCTEMsSUFBQUEsbUJBQW1CLEVBQUVyQixNQUFNLENBQUNxQixtQkFoQnZCO0FBaUJMQyxJQUFBQSxZQUFZLEVBQUd0QixNQUFNLENBQUNzQixZQWpCakI7QUFrQkxDLElBQUFBLGNBQWMsRUFBR3ZCLE1BQU0sQ0FBQ3VCLGNBbEJuQjtBQW1CTEMsSUFBQUEsU0FBUyxFQUFFeEIsTUFBTSxDQUFDd0I7QUFuQmIsR0FBUDtBQXFCRCxDIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3dlYnBob25lLW5vZGUvc3JjL3NlcmlhbGl6ZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyU2VyaWFsaXplciBmcm9tICcuL3VzZXInXG5pbXBvcnQgUmVtb3RlVXNlclNlcmlhbGl6ZXIgZnJvbSAnLi91c2VyL3JlbW90ZSdcblxuZXhwb3J0IGRlZmF1bHQgKG1lbWJlcikgPT4ge1xuICBjb25zdCBzZXJpYWxpemVVc2VyID0gKHVzZXIpID0+IHtcbiAgICBjb25zdCByZW1vdGUgPSB1c2VyLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdSZW1vdGVVc2VyJ1xuICAgIGlmIChyZW1vdGUpIHtcbiAgICAgIHJldHVybiBSZW1vdGVVc2VyU2VyaWFsaXplcih1c2VyLCB7IG1lbWJlcklkczogdHJ1ZSB9KVxuICAgIH1cbiAgICByZXR1cm4gVXNlclNlcmlhbGl6ZXIodXNlciwgeyBtZW1iZXJJZHM6IHRydWUgfSlcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaWQ6IG1lbWJlci5pZCxcbiAgICB1c2VyOiBzZXJpYWxpemVVc2VyKG1lbWJlci51c2VyKSxcbiAgICByb29tSWQ6IG1lbWJlci5yb29tSWQsXG4gICAgbmFtZUlkOiBtZW1iZXIubmFtZUlkLFxuICAgIHNwZWFrOiBtZW1iZXIuc3BlYWssXG4gICAgaGVhcjogbWVtYmVyLmhlYXIsXG4gICAgdGFsa2luZzogbWVtYmVyLnRhbGtpbmcsXG4gICAgdXNlcklkOiBtZW1iZXIudXNlci5pZCxcbiAgICBtb2RlcmF0b3JTdGF0dXM6IG1lbWJlci5tb2RlcmF0b3JTdGF0dXMsXG4gICAgaXNTdGFydFRpbWU6IG1lbWJlci5pc1N0YXJ0VGltZSxcbiAgICBzdGFydFN0b3BUaW1lOiBtZW1iZXIuc3RhcnRTdG9wVGltZSxcbiAgICBpc1Jlc2V0VGltZTogbWVtYmVyLmlzUmVzZXRUaW1lLFxuICAgIGxhc3RJbnRlcnByZXRlclNlc3Npb25UaW1lOiBtZW1iZXIubGFzdEludGVycHJldGVyU2Vzc2lvblRpbWUsXG4gICAgc3RhcnRNZWV0aW5nOiBtZW1iZXIuc3RhcnRNZWV0aW5nLFxuICAgIHN0YXJ0SGFuZFJhaXNlZDogbWVtYmVyLnN0YXJ0SGFuZFJhaXNlZCxcbiAgICBzdGFydFN0b3BIYW5kUmFpc2VkOiBtZW1iZXIuc3RhcnRTdG9wSGFuZFJhaXNlZCxcbiAgICBzdGFydE9uTWlrZXMgOiBtZW1iZXIuc3RhcnRPbk1pa2VzLFxuICAgIHN0YXJ0U3RvcE1pa2VzIDogbWVtYmVyLnN0YXJ0U3RvcE1pa2VzLFxuICAgIHNsb3dTcGVhazogbWVtYmVyLnNsb3dTcGVha1xuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "member.js"
      ],
      "names": [
        "member",
        "serializeUser",
        "user",
        "remote",
        "constructor",
        "name",
        "memberIds",
        "id",
        "roomId",
        "nameId",
        "speak",
        "hear",
        "talking",
        "userId",
        "moderatorStatus",
        "isStartTime",
        "startStopTime",
        "isResetTime",
        "lastInterpreterSessionTime",
        "startMeeting",
        "startHandRaised",
        "startStopHandRaised",
        "startOnMikes",
        "startStopMikes",
        "slowSpeak"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;eAEgBA,MAAD,IAAY;AACzB,QAAMC,aAAa,GAAIC,IAAD,IAAU;AAC9B,UAAMC,MAAM,GAAGD,IAAI,CAACE,WAAL,CAAiBC,IAAjB,KAA0B,YAAzC;;AACA,QAAIF,MAAJ,EAAY;AACV,aAAO,qBAAqBD,IAArB,EAA2B;AAAEI,QAAAA,SAAS,EAAE;AAAb,OAA3B,CAAP;AACD;;AACD,WAAO,mBAAeJ,IAAf,EAAqB;AAAEI,MAAAA,SAAS,EAAE;AAAb,KAArB,CAAP;AACD,GAND;;AAQA,SAAO;AACLC,IAAAA,EAAE,EAAEP,MAAM,CAACO,EADN;AAELL,IAAAA,IAAI,EAAED,aAAa,CAACD,MAAM,CAACE,IAAR,CAFd;AAGLM,IAAAA,MAAM,EAAER,MAAM,CAACQ,MAHV;AAILC,IAAAA,MAAM,EAAET,MAAM,CAACS,MAJV;AAKLC,IAAAA,KAAK,EAAEV,MAAM,CAACU,KALT;AAMLC,IAAAA,IAAI,EAAEX,MAAM,CAACW,IANR;AAOLC,IAAAA,OAAO,EAAEZ,MAAM,CAACY,OAPX;AAQLC,IAAAA,MAAM,EAAEb,MAAM,CAACE,IAAP,CAAYK,EARf;AASLO,IAAAA,eAAe,EAAEd,MAAM,CAACc,eATnB;AAULC,IAAAA,WAAW,EAAEf,MAAM,CAACe,WAVf;AAWLC,IAAAA,aAAa,EAAEhB,MAAM,CAACgB,aAXjB;AAYLC,IAAAA,WAAW,EAAEjB,MAAM,CAACiB,WAZf;AAaLC,IAAAA,0BAA0B,EAAElB,MAAM,CAACkB,0BAb9B;AAcLC,IAAAA,YAAY,EAAEnB,MAAM,CAACmB,YAdhB;AAeLC,IAAAA,eAAe,EAAEpB,MAAM,CAACoB,eAfnB;AAgBLC,IAAAA,mBAAmB,EAAErB,MAAM,CAACqB,mBAhBvB;AAiBLC,IAAAA,YAAY,EAAGtB,MAAM,CAACsB,YAjBjB;AAkBLC,IAAAA,cAAc,EAAGvB,MAAM,CAACuB,cAlBnB;AAmBLC,IAAAA,SAAS,EAAExB,MAAM,CAACwB;AAnBb,GAAP;AAqBD,C",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/serializers/",
      "sourcesContent": [
        "import UserSerializer from './user'\nimport RemoteUserSerializer from './user/remote'\n\nexport default (member) => {\n  const serializeUser = (user) => {\n    const remote = user.constructor.name === 'RemoteUser'\n    if (remote) {\n      return RemoteUserSerializer(user, { memberIds: true })\n    }\n    return UserSerializer(user, { memberIds: true })\n  }\n\n  return {\n    id: member.id,\n    user: serializeUser(member.user),\n    roomId: member.roomId,\n    nameId: member.nameId,\n    speak: member.speak,\n    hear: member.hear,\n    talking: member.talking,\n    userId: member.user.id,\n    moderatorStatus: member.moderatorStatus,\n    isStartTime: member.isStartTime,\n    startStopTime: member.startStopTime,\n    isResetTime: member.isResetTime,\n    lastInterpreterSessionTime: member.lastInterpreterSessionTime,\n    startMeeting: member.startMeeting,\n    startHandRaised: member.startHandRaised,\n    startStopHandRaised: member.startStopHandRaised,\n    startOnMikes : member.startOnMikes,\n    startStopMikes : member.startStopMikes,\n    slowSpeak: member.slowSpeak\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/services/members.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/members.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/members.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/members.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/",
        "sourceFileName": "members.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _socket = require(\"../socket\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// TODO get rid of class\nclass MembersService {}\n\nexports.default = MembersService;\n\n_defineProperty(MembersService, \"addMember\", member => {\n  _socket.Sender.addMember(member.roomId, member);\n\n  _socket.Sender.updateProfile(member.user.channels.self, member.user);\n});\n\n_defineProperty(MembersService, \"delMember\", member => {\n  _socket.Sender.delMember(member.roomId, member);\n\n  _socket.Sender.updateProfile(member.user.channels.self, member.user);\n});\n\n_defineProperty(MembersService, \"updateMember\", member => {\n  if (!member.persisted) return;\n\n  _socket.Sender.updateMember(member.roomId, member);\n\n  _socket.Sender.updateProfile(member.user.channels.self, member.user);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbWJlcnMuanMiXSwibmFtZXMiOlsiTWVtYmVyc1NlcnZpY2UiLCJtZW1iZXIiLCJTZW5kZXIiLCJhZGRNZW1iZXIiLCJyb29tSWQiLCJ1cGRhdGVQcm9maWxlIiwidXNlciIsImNoYW5uZWxzIiwic2VsZiIsImRlbE1lbWJlciIsInBlcnNpc3RlZCIsInVwZGF0ZU1lbWJlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUE7QUFDZSxNQUFNQSxjQUFOLENBQXFCOzs7O2dCQUFmQSxjLGVBQ0NDLE1BQUQsSUFBWTtBQUM3QkMsaUJBQU9DLFNBQVAsQ0FBaUJGLE1BQU0sQ0FBQ0csTUFBeEIsRUFBZ0NILE1BQWhDOztBQUNBQyxpQkFBT0csYUFBUCxDQUFxQkosTUFBTSxDQUFDSyxJQUFQLENBQVlDLFFBQVosQ0FBcUJDLElBQTFDLEVBQWdEUCxNQUFNLENBQUNLLElBQXZEO0FBQ0QsQzs7Z0JBSmtCTixjLGVBTUNDLE1BQUQsSUFBWTtBQUM3QkMsaUJBQU9PLFNBQVAsQ0FBaUJSLE1BQU0sQ0FBQ0csTUFBeEIsRUFBZ0NILE1BQWhDOztBQUNBQyxpQkFBT0csYUFBUCxDQUFxQkosTUFBTSxDQUFDSyxJQUFQLENBQVlDLFFBQVosQ0FBcUJDLElBQTFDLEVBQWdEUCxNQUFNLENBQUNLLElBQXZEO0FBQ0QsQzs7Z0JBVGtCTixjLGtCQVdJQyxNQUFELElBQVk7QUFDaEMsTUFBSSxDQUFDQSxNQUFNLENBQUNTLFNBQVosRUFBdUI7O0FBQ3ZCUixpQkFBT1MsWUFBUCxDQUFvQlYsTUFBTSxDQUFDRyxNQUEzQixFQUFtQ0gsTUFBbkM7O0FBQ0FDLGlCQUFPRyxhQUFQLENBQXFCSixNQUFNLENBQUNLLElBQVAsQ0FBWUMsUUFBWixDQUFxQkMsSUFBMUMsRUFBZ0RQLE1BQU0sQ0FBQ0ssSUFBdkQ7QUFDRCxDIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3dlYnBob25lLW5vZGUvc3JjL3NlcnZpY2VzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlbmRlciB9IGZyb20gJy4uL3NvY2tldCdcblxuLy8gVE9ETyBnZXQgcmlkIG9mIGNsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZW1iZXJzU2VydmljZSB7XG4gIHN0YXRpYyBhZGRNZW1iZXIgPSAobWVtYmVyKSA9PiB7XG4gICAgU2VuZGVyLmFkZE1lbWJlcihtZW1iZXIucm9vbUlkLCBtZW1iZXIpXG4gICAgU2VuZGVyLnVwZGF0ZVByb2ZpbGUobWVtYmVyLnVzZXIuY2hhbm5lbHMuc2VsZiwgbWVtYmVyLnVzZXIpXG4gIH07XG5cbiAgc3RhdGljIGRlbE1lbWJlciA9IChtZW1iZXIpID0+IHtcbiAgICBTZW5kZXIuZGVsTWVtYmVyKG1lbWJlci5yb29tSWQsIG1lbWJlcilcbiAgICBTZW5kZXIudXBkYXRlUHJvZmlsZShtZW1iZXIudXNlci5jaGFubmVscy5zZWxmLCBtZW1iZXIudXNlcilcbiAgfTtcblxuICBzdGF0aWMgdXBkYXRlTWVtYmVyID0gKG1lbWJlcikgPT4ge1xuICAgIGlmICghbWVtYmVyLnBlcnNpc3RlZCkgcmV0dXJuXG4gICAgU2VuZGVyLnVwZGF0ZU1lbWJlcihtZW1iZXIucm9vbUlkLCBtZW1iZXIpXG4gICAgU2VuZGVyLnVwZGF0ZVByb2ZpbGUobWVtYmVyLnVzZXIuY2hhbm5lbHMuc2VsZiwgbWVtYmVyLnVzZXIpXG4gIH07XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "members.js"
      ],
      "names": [
        "MembersService",
        "member",
        "Sender",
        "addMember",
        "roomId",
        "updateProfile",
        "user",
        "channels",
        "self",
        "delMember",
        "persisted",
        "updateMember"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA;AACe,MAAMA,cAAN,CAAqB;;;;gBAAfA,c,eACCC,MAAD,IAAY;AAC7BC,iBAAOC,SAAP,CAAiBF,MAAM,CAACG,MAAxB,EAAgCH,MAAhC;;AACAC,iBAAOG,aAAP,CAAqBJ,MAAM,CAACK,IAAP,CAAYC,QAAZ,CAAqBC,IAA1C,EAAgDP,MAAM,CAACK,IAAvD;AACD,C;;gBAJkBN,c,eAMCC,MAAD,IAAY;AAC7BC,iBAAOO,SAAP,CAAiBR,MAAM,CAACG,MAAxB,EAAgCH,MAAhC;;AACAC,iBAAOG,aAAP,CAAqBJ,MAAM,CAACK,IAAP,CAAYC,QAAZ,CAAqBC,IAA1C,EAAgDP,MAAM,CAACK,IAAvD;AACD,C;;gBATkBN,c,kBAWIC,MAAD,IAAY;AAChC,MAAI,CAACA,MAAM,CAACS,SAAZ,EAAuB;;AACvBR,iBAAOS,YAAP,CAAoBV,MAAM,CAACG,MAA3B,EAAmCH,MAAnC;;AACAC,iBAAOG,aAAP,CAAqBJ,MAAM,CAACK,IAAP,CAAYC,QAAZ,CAAqBC,IAA1C,EAAgDP,MAAM,CAACK,IAAvD;AACD,C",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/services/",
      "sourcesContent": [
        "import { Sender } from '../socket'\n\n// TODO get rid of class\nexport default class MembersService {\n  static addMember = (member) => {\n    Sender.addMember(member.roomId, member)\n    Sender.updateProfile(member.user.channels.self, member.user)\n  };\n\n  static delMember = (member) => {\n    Sender.delMember(member.roomId, member)\n    Sender.updateProfile(member.user.channels.self, member.user)\n  };\n\n  static updateMember = (member) => {\n    if (!member.persisted) return\n    Sender.updateMember(member.roomId, member)\n    Sender.updateProfile(member.user.channels.self, member.user)\n  };\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/sofiaHandler.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/sofiaHandler.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/sofiaHandler.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/sofiaHandler.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/",
        "sourceFileName": "sofiaHandler.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _user = _interopRequireDefault(require(\"../../models/user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst REGISTER_USER = 'REGISTER_USER';\n\nclass SofiaHandler {\n  constructor(esl) {\n    this.esl = esl;\n    this.subscribe();\n  }\n\n  subscribe() {\n    this.esl.on(REGISTER_USER, _user.default.onRegister);\n  }\n\n  process(e) {\n    const eventSubclass = e.getHeader('Event-Subclass');\n    if (eventSubclass !== 'sofia::register') return;\n    const username = e.getHeader('username');\n    this.esl.emit(REGISTER_USER, {\n      username\n    });\n  }\n\n}\n\nexports.default = SofiaHandler;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvZmlhSGFuZGxlci5qcyJdLCJuYW1lcyI6WyJSRUdJU1RFUl9VU0VSIiwiU29maWFIYW5kbGVyIiwiY29uc3RydWN0b3IiLCJlc2wiLCJzdWJzY3JpYmUiLCJvbiIsIlVzZXIiLCJvblJlZ2lzdGVyIiwicHJvY2VzcyIsImUiLCJldmVudFN1YmNsYXNzIiwiZ2V0SGVhZGVyIiwidXNlcm5hbWUiLCJlbWl0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxhQUFhLEdBQUcsZUFBdEI7O0FBRWUsTUFBTUMsWUFBTixDQUFtQjtBQUNoQ0MsRUFBQUEsV0FBVyxDQUFDQyxHQUFELEVBQU07QUFDZixTQUFLQSxHQUFMLEdBQVdBLEdBQVg7QUFDQSxTQUFLQyxTQUFMO0FBQ0Q7O0FBRURBLEVBQUFBLFNBQVMsR0FBRztBQUNWLFNBQUtELEdBQUwsQ0FDR0UsRUFESCxDQUNNTCxhQUROLEVBQ3FCTSxjQUFLQyxVQUQxQjtBQUVEOztBQUVEQyxFQUFBQSxPQUFPLENBQUNDLENBQUQsRUFBSTtBQUNULFVBQU1DLGFBQWEsR0FBR0QsQ0FBQyxDQUFDRSxTQUFGLENBQVksZ0JBQVosQ0FBdEI7QUFDQSxRQUFJRCxhQUFhLEtBQUssaUJBQXRCLEVBQXlDO0FBRXpDLFVBQU1FLFFBQVEsR0FBR0gsQ0FBQyxDQUFDRSxTQUFGLENBQVksVUFBWixDQUFqQjtBQUNBLFNBQUtSLEdBQUwsQ0FBU1UsSUFBVCxDQUFjYixhQUFkLEVBQTZCO0FBQUVZLE1BQUFBO0FBQUYsS0FBN0I7QUFDRDs7QUFqQitCIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3dlYnBob25lLW5vZGUvc3JjL2VzbC9oYW5kbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tICcuLi8uLi9tb2RlbHMvdXNlcidcblxuY29uc3QgUkVHSVNURVJfVVNFUiA9ICdSRUdJU1RFUl9VU0VSJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb2ZpYUhhbmRsZXIge1xuICBjb25zdHJ1Y3Rvcihlc2wpIHtcbiAgICB0aGlzLmVzbCA9IGVzbFxuICAgIHRoaXMuc3Vic2NyaWJlKClcbiAgfVxuXG4gIHN1YnNjcmliZSgpIHtcbiAgICB0aGlzLmVzbFxuICAgICAgLm9uKFJFR0lTVEVSX1VTRVIsIFVzZXIub25SZWdpc3RlcilcbiAgfVxuXG4gIHByb2Nlc3MoZSkge1xuICAgIGNvbnN0IGV2ZW50U3ViY2xhc3MgPSBlLmdldEhlYWRlcignRXZlbnQtU3ViY2xhc3MnKVxuICAgIGlmIChldmVudFN1YmNsYXNzICE9PSAnc29maWE6OnJlZ2lzdGVyJykgcmV0dXJuXG5cbiAgICBjb25zdCB1c2VybmFtZSA9IGUuZ2V0SGVhZGVyKCd1c2VybmFtZScpXG4gICAgdGhpcy5lc2wuZW1pdChSRUdJU1RFUl9VU0VSLCB7IHVzZXJuYW1lIH0pXG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "sofiaHandler.js"
      ],
      "names": [
        "REGISTER_USER",
        "SofiaHandler",
        "constructor",
        "esl",
        "subscribe",
        "on",
        "User",
        "onRegister",
        "process",
        "e",
        "eventSubclass",
        "getHeader",
        "username",
        "emit"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,aAAa,GAAG,eAAtB;;AAEe,MAAMC,YAAN,CAAmB;AAChCC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACf,SAAKA,GAAL,GAAWA,GAAX;AACA,SAAKC,SAAL;AACD;;AAEDA,EAAAA,SAAS,GAAG;AACV,SAAKD,GAAL,CACGE,EADH,CACML,aADN,EACqBM,cAAKC,UAD1B;AAED;;AAEDC,EAAAA,OAAO,CAACC,CAAD,EAAI;AACT,UAAMC,aAAa,GAAGD,CAAC,CAACE,SAAF,CAAY,gBAAZ,CAAtB;AACA,QAAID,aAAa,KAAK,iBAAtB,EAAyC;AAEzC,UAAME,QAAQ,GAAGH,CAAC,CAACE,SAAF,CAAY,UAAZ,CAAjB;AACA,SAAKR,GAAL,CAASU,IAAT,CAAcb,aAAd,EAA6B;AAAEY,MAAAA;AAAF,KAA7B;AACD;;AAjB+B",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/",
      "sourcesContent": [
        "import User from '../../models/user'\n\nconst REGISTER_USER = 'REGISTER_USER'\n\nexport default class SofiaHandler {\n  constructor(esl) {\n    this.esl = esl\n    this.subscribe()\n  }\n\n  subscribe() {\n    this.esl\n      .on(REGISTER_USER, User.onRegister)\n  }\n\n  process(e) {\n    const eventSubclass = e.getHeader('Event-Subclass')\n    if (eventSubclass !== 'sofia::register') return\n\n    const username = e.getHeader('username')\n    this.esl.emit(REGISTER_USER, { username })\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/channelExecuteHander.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/channelExecuteHander.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/channelExecuteHander.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/channelExecuteHander.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/",
        "sourceFileName": "channelExecuteHander.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _user = _interopRequireDefault(require(\"../../models/user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst ECHO_TEST = 'ECHO_TEST';\n\nclass ChannelExecuteHander {\n  constructor(esl) {\n    this.esl = esl;\n    this.subscribe();\n  }\n\n  subscribe() {\n    this.esl.on(ECHO_TEST, _user.default.onEchoTest);\n  }\n\n  process(e) {\n    this.application = e.getHeader('Application');\n\n    switch (e.type) {\n      case 'CHANNEL_EXECUTE':\n        this.complete = false;\n        break;\n\n      case 'CHANNEL_EXECUTE_COMPLETE':\n        this.complete = true;\n        break;\n    }\n\n    this.channelExecute(e);\n  }\n\n  channelExecute(e) {\n    switch (this.application) {\n      case 'echo':\n        return this.onEchoTest(e);\n    }\n  }\n\n  onEchoTest(e) {\n    const start = !this.complete;\n    const nameId = e.getHeader('Caller-Caller-ID-Name');\n    const uuid = e.getHeader('Channel-Call-UUID');\n    this.esl.emit(ECHO_TEST, {\n      nameId,\n      uuid,\n      start\n    });\n  }\n\n}\n\nexports.default = ChannelExecuteHander;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYW5uZWxFeGVjdXRlSGFuZGVyLmpzIl0sIm5hbWVzIjpbIkVDSE9fVEVTVCIsIkNoYW5uZWxFeGVjdXRlSGFuZGVyIiwiY29uc3RydWN0b3IiLCJlc2wiLCJzdWJzY3JpYmUiLCJvbiIsIlVzZXIiLCJvbkVjaG9UZXN0IiwicHJvY2VzcyIsImUiLCJhcHBsaWNhdGlvbiIsImdldEhlYWRlciIsInR5cGUiLCJjb21wbGV0ZSIsImNoYW5uZWxFeGVjdXRlIiwic3RhcnQiLCJuYW1lSWQiLCJ1dWlkIiwiZW1pdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsU0FBUyxHQUFHLFdBQWxCOztBQUVlLE1BQU1DLG9CQUFOLENBQTJCO0FBQ3hDQyxFQUFBQSxXQUFXLENBQUNDLEdBQUQsRUFBTTtBQUNmLFNBQUtBLEdBQUwsR0FBV0EsR0FBWDtBQUNBLFNBQUtDLFNBQUw7QUFDRDs7QUFFREEsRUFBQUEsU0FBUyxHQUFHO0FBQ1YsU0FBS0QsR0FBTCxDQUNHRSxFQURILENBQ01MLFNBRE4sRUFDaUJNLGNBQUtDLFVBRHRCO0FBRUQ7O0FBRURDLEVBQUFBLE9BQU8sQ0FBQ0MsQ0FBRCxFQUFJO0FBQ1QsU0FBS0MsV0FBTCxHQUFtQkQsQ0FBQyxDQUFDRSxTQUFGLENBQVksYUFBWixDQUFuQjs7QUFDQSxZQUFRRixDQUFDLENBQUNHLElBQVY7QUFDRSxXQUFLLGlCQUFMO0FBQ0UsYUFBS0MsUUFBTCxHQUFnQixLQUFoQjtBQUNBOztBQUNGLFdBQUssMEJBQUw7QUFDRSxhQUFLQSxRQUFMLEdBQWdCLElBQWhCO0FBQ0E7QUFOSjs7QUFRQSxTQUFLQyxjQUFMLENBQW9CTCxDQUFwQjtBQUNEOztBQUVESyxFQUFBQSxjQUFjLENBQUNMLENBQUQsRUFBSTtBQUNoQixZQUFRLEtBQUtDLFdBQWI7QUFDRSxXQUFLLE1BQUw7QUFDRSxlQUFPLEtBQUtILFVBQUwsQ0FBZ0JFLENBQWhCLENBQVA7QUFGSjtBQUlEOztBQUVERixFQUFBQSxVQUFVLENBQUNFLENBQUQsRUFBSTtBQUNaLFVBQU1NLEtBQUssR0FBRyxDQUFDLEtBQUtGLFFBQXBCO0FBQ0EsVUFBTUcsTUFBTSxHQUFHUCxDQUFDLENBQUNFLFNBQUYsQ0FBWSx1QkFBWixDQUFmO0FBQ0EsVUFBTU0sSUFBSSxHQUFHUixDQUFDLENBQUNFLFNBQUYsQ0FBWSxtQkFBWixDQUFiO0FBQ0EsU0FBS1IsR0FBTCxDQUFTZSxJQUFULENBQWNsQixTQUFkLEVBQXlCO0FBQUVnQixNQUFBQSxNQUFGO0FBQVVDLE1BQUFBLElBQVY7QUFBZ0JGLE1BQUFBO0FBQWhCLEtBQXpCO0FBQ0Q7O0FBcEN1QyIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9lc2wvaGFuZGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vbW9kZWxzL3VzZXInXG5cbmNvbnN0IEVDSE9fVEVTVCA9ICdFQ0hPX1RFU1QnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYW5uZWxFeGVjdXRlSGFuZGVyIHtcbiAgY29uc3RydWN0b3IoZXNsKSB7XG4gICAgdGhpcy5lc2wgPSBlc2xcbiAgICB0aGlzLnN1YnNjcmliZSgpXG4gIH1cblxuICBzdWJzY3JpYmUoKSB7XG4gICAgdGhpcy5lc2xcbiAgICAgIC5vbihFQ0hPX1RFU1QsIFVzZXIub25FY2hvVGVzdClcbiAgfVxuXG4gIHByb2Nlc3MoZSkge1xuICAgIHRoaXMuYXBwbGljYXRpb24gPSBlLmdldEhlYWRlcignQXBwbGljYXRpb24nKVxuICAgIHN3aXRjaCAoZS50eXBlKSB7XG4gICAgICBjYXNlICdDSEFOTkVMX0VYRUNVVEUnOlxuICAgICAgICB0aGlzLmNvbXBsZXRlID0gZmFsc2VcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ0NIQU5ORUxfRVhFQ1VURV9DT01QTEVURSc6XG4gICAgICAgIHRoaXMuY29tcGxldGUgPSB0cnVlXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIHRoaXMuY2hhbm5lbEV4ZWN1dGUoZSlcbiAgfVxuXG4gIGNoYW5uZWxFeGVjdXRlKGUpIHtcbiAgICBzd2l0Y2ggKHRoaXMuYXBwbGljYXRpb24pIHtcbiAgICAgIGNhc2UgJ2VjaG8nOlxuICAgICAgICByZXR1cm4gdGhpcy5vbkVjaG9UZXN0KGUpXG4gICAgfVxuICB9XG5cbiAgb25FY2hvVGVzdChlKSB7XG4gICAgY29uc3Qgc3RhcnQgPSAhdGhpcy5jb21wbGV0ZVxuICAgIGNvbnN0IG5hbWVJZCA9IGUuZ2V0SGVhZGVyKCdDYWxsZXItQ2FsbGVyLUlELU5hbWUnKVxuICAgIGNvbnN0IHV1aWQgPSBlLmdldEhlYWRlcignQ2hhbm5lbC1DYWxsLVVVSUQnKVxuICAgIHRoaXMuZXNsLmVtaXQoRUNIT19URVNULCB7IG5hbWVJZCwgdXVpZCwgc3RhcnQgfSlcbiAgfVxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "channelExecuteHander.js"
      ],
      "names": [
        "ECHO_TEST",
        "ChannelExecuteHander",
        "constructor",
        "esl",
        "subscribe",
        "on",
        "User",
        "onEchoTest",
        "process",
        "e",
        "application",
        "getHeader",
        "type",
        "complete",
        "channelExecute",
        "start",
        "nameId",
        "uuid",
        "emit"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,SAAS,GAAG,WAAlB;;AAEe,MAAMC,oBAAN,CAA2B;AACxCC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACf,SAAKA,GAAL,GAAWA,GAAX;AACA,SAAKC,SAAL;AACD;;AAEDA,EAAAA,SAAS,GAAG;AACV,SAAKD,GAAL,CACGE,EADH,CACML,SADN,EACiBM,cAAKC,UADtB;AAED;;AAEDC,EAAAA,OAAO,CAACC,CAAD,EAAI;AACT,SAAKC,WAAL,GAAmBD,CAAC,CAACE,SAAF,CAAY,aAAZ,CAAnB;;AACA,YAAQF,CAAC,CAACG,IAAV;AACE,WAAK,iBAAL;AACE,aAAKC,QAAL,GAAgB,KAAhB;AACA;;AACF,WAAK,0BAAL;AACE,aAAKA,QAAL,GAAgB,IAAhB;AACA;AANJ;;AAQA,SAAKC,cAAL,CAAoBL,CAApB;AACD;;AAEDK,EAAAA,cAAc,CAACL,CAAD,EAAI;AAChB,YAAQ,KAAKC,WAAb;AACE,WAAK,MAAL;AACE,eAAO,KAAKH,UAAL,CAAgBE,CAAhB,CAAP;AAFJ;AAID;;AAEDF,EAAAA,UAAU,CAACE,CAAD,EAAI;AACZ,UAAMM,KAAK,GAAG,CAAC,KAAKF,QAApB;AACA,UAAMG,MAAM,GAAGP,CAAC,CAACE,SAAF,CAAY,uBAAZ,CAAf;AACA,UAAMM,IAAI,GAAGR,CAAC,CAACE,SAAF,CAAY,mBAAZ,CAAb;AACA,SAAKR,GAAL,CAASe,IAAT,CAAclB,SAAd,EAAyB;AAAEgB,MAAAA,MAAF;AAAUC,MAAAA,IAAV;AAAgBF,MAAAA;AAAhB,KAAzB;AACD;;AApCuC",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/",
      "sourcesContent": [
        "import User from '../../models/user'\n\nconst ECHO_TEST = 'ECHO_TEST'\n\nexport default class ChannelExecuteHander {\n  constructor(esl) {\n    this.esl = esl\n    this.subscribe()\n  }\n\n  subscribe() {\n    this.esl\n      .on(ECHO_TEST, User.onEchoTest)\n  }\n\n  process(e) {\n    this.application = e.getHeader('Application')\n    switch (e.type) {\n      case 'CHANNEL_EXECUTE':\n        this.complete = false\n        break\n      case 'CHANNEL_EXECUTE_COMPLETE':\n        this.complete = true\n        break\n    }\n    this.channelExecute(e)\n  }\n\n  channelExecute(e) {\n    switch (this.application) {\n      case 'echo':\n        return this.onEchoTest(e)\n    }\n  }\n\n  onEchoTest(e) {\n    const start = !this.complete\n    const nameId = e.getHeader('Caller-Caller-ID-Name')\n    const uuid = e.getHeader('Channel-Call-UUID')\n    this.esl.emit(ECHO_TEST, { nameId, uuid, start })\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/config/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/config/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/config/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/config/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/config/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.env = void 0;\n\nvar _environments = _interopRequireDefault(require(\"./environments\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst NODE_ENV = process.env.NODE_ENV || 'development';\nconst env = {\n  [NODE_ENV]: true\n};\nexports.env = env;\nconst configMode = process.env.CONFIG_MODE;\nvar config = Object.assign(_environments.default.default, _environments.default[NODE_ENV]);\n\nif (typeof configMode !== 'undefined' && _environments.default[configMode]) {\n  config = Object.assign(config, _environments.default[configMode]);\n}\n\nvar _default = config;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIk5PREVfRU5WIiwicHJvY2VzcyIsImVudiIsImNvbmZpZ01vZGUiLCJDT05GSUdfTU9ERSIsImNvbmZpZyIsIk9iamVjdCIsImFzc2lnbiIsInNldHRpbmdzIiwiZGVmYXVsdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsUUFBWixJQUF3QixhQUF6QztBQUNBLE1BQU1FLEdBQUcsR0FBRztBQUFFLEdBQUNGLFFBQUQsR0FBWTtBQUFkLENBQVo7O0FBRUEsTUFBTUcsVUFBVSxHQUFHRixPQUFPLENBQUNDLEdBQVIsQ0FBWUUsV0FBL0I7QUFDQSxJQUFJQyxNQUFNLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjQyxzQkFBU0MsT0FBdkIsRUFBZ0NELHNCQUFTUixRQUFULENBQWhDLENBQWI7O0FBQ0EsSUFBSSxPQUFPRyxVQUFQLEtBQXNCLFdBQXRCLElBQXFDSyxzQkFBU0wsVUFBVCxDQUF6QyxFQUErRDtBQUM5REUsRUFBQUEsTUFBTSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBY0YsTUFBZCxFQUFzQkcsc0JBQVNMLFVBQVQsQ0FBdEIsQ0FBVDtBQUNBOztlQUdjRSxNIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3dlYnBob25lLW5vZGUvY29uZmlnLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZXR0aW5ncyBmcm9tICcuL2Vudmlyb25tZW50cydcblxuY29uc3QgTk9ERV9FTlYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnXG5jb25zdCBlbnYgPSB7IFtOT0RFX0VOVl06IHRydWUgfVxuXG5jb25zdCBjb25maWdNb2RlID0gcHJvY2Vzcy5lbnYuQ09ORklHX01PREVcbnZhciBjb25maWcgPSBPYmplY3QuYXNzaWduKHNldHRpbmdzLmRlZmF1bHQsIHNldHRpbmdzW05PREVfRU5WXSlcbmlmICh0eXBlb2YgY29uZmlnTW9kZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2V0dGluZ3NbY29uZmlnTW9kZV0pIHtcblx0Y29uZmlnID0gT2JqZWN0LmFzc2lnbihjb25maWcsIHNldHRpbmdzW2NvbmZpZ01vZGVdKVxufVxuXG5leHBvcnQgeyBlbnYgfVxuZXhwb3J0IGRlZmF1bHQgY29uZmlnXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "NODE_ENV",
        "process",
        "env",
        "configMode",
        "CONFIG_MODE",
        "config",
        "Object",
        "assign",
        "settings",
        "default"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYF,QAAZ,IAAwB,aAAzC;AACA,MAAME,GAAG,GAAG;AAAE,GAACF,QAAD,GAAY;AAAd,CAAZ;;AAEA,MAAMG,UAAU,GAAGF,OAAO,CAACC,GAAR,CAAYE,WAA/B;AACA,IAAIC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAcC,sBAASC,OAAvB,EAAgCD,sBAASR,QAAT,CAAhC,CAAb;;AACA,IAAI,OAAOG,UAAP,KAAsB,WAAtB,IAAqCK,sBAASL,UAAT,CAAzC,EAA+D;AAC9DE,EAAAA,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAcF,MAAd,EAAsBG,sBAASL,UAAT,CAAtB,CAAT;AACA;;eAGcE,M",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/config/",
      "sourcesContent": [
        "import settings from './environments'\n\nconst NODE_ENV = process.env.NODE_ENV || 'development'\nconst env = { [NODE_ENV]: true }\n\nconst configMode = process.env.CONFIG_MODE\nvar config = Object.assign(settings.default, settings[NODE_ENV])\nif (typeof configMode !== 'undefined' && settings[configMode]) {\n\tconfig = Object.assign(config, settings[configMode])\n}\n\nexport { env }\nexport default config\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/config/environments.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/config/environments.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/config/environments.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/config/environments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/config/",
        "sourceFileName": "environments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar path = _interopRequireWildcard(require(\"path\"));\n\nvar _envSmart = _interopRequireDefault(require(\"env-smart\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// TODO CamelCase\n_envSmart.default.load();\n\nconst rootDir = path.join(__dirname, '..');\nvar _default = {\n  default: {\n    pid_file: process.env.pidFile,\n    port: process.env.port,\n    eslDebug: process.env.eslDebug,\n    use_socket: process.env.useSocket,\n    voipHost: process.env.voipHost,\n    voip_password: process.env.voipPassword,\n    voip_port: process.env.voipPort,\n    rootDir,\n    secretToken: process.env.secretToken,\n    allowedOrigin: process.env.allowedOrigin,\n    switcherPassword: process.env.switcherPassword,\n    webphoneServer: process.env.webphoneServer,\n    techAssistantUser: process.env.techAssistantUser,\n    defaultVoipPassword: process.env.defaultVoipPassword\n  },\n  development: {\n    allowedOrigin: process.env.devAllowedOrigin\n  },\n  docker: {\n    use_socket: process.env.dockerUse_socket,\n    socket_file: process.env.dockerSocket_file,\n    webphoneServer: process.env.dockerWebphoneServer,\n    allowedOrigin: process.env.dockerAllowedOrigin\n  },\n  staging: {\n    use_socket: process.env.stagingUseSocket,\n    socket_file: process.env.stagingSocketFile,\n    voipHost: process.env.stagingVoipHost,\n    voip_password: process.env.stagingVoip_password,\n    webphoneServer: process.env.stagingWebphoneServer,\n    allowedOrigin: process.env.stagingAllowedOrigin\n  },\n  bench: {\n    use_socket: process.env.benchUse_socket,\n    socket_file: process.env.benchSocket_file,\n    voipHost: process.env.benchVoipHost,\n    voip_password: process.env.benchVoip_password,\n    webphoneServer: process.env.benchWebphoneServer,\n    allowedOrigin: process.env.benchAllowedOrigin\n  },\n  production: {\n    use_socket: process.env.prodUse_socket,\n    socket_file: process.env.prodSocket_file,\n    voipHost: process.env.prodVoipHost,\n    voip_password: process.env.prodVoip_password,\n    webphoneServer: process.env.prodWebphoneServer,\n    allowedOrigin: process.env.prodAllowedOrigin\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudmlyb25tZW50cy5qcyJdLCJuYW1lcyI6WyJlbnYiLCJsb2FkIiwicm9vdERpciIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwiZGVmYXVsdCIsInBpZF9maWxlIiwicHJvY2VzcyIsInBpZEZpbGUiLCJwb3J0IiwiZXNsRGVidWciLCJ1c2Vfc29ja2V0IiwidXNlU29ja2V0Iiwidm9pcEhvc3QiLCJ2b2lwX3Bhc3N3b3JkIiwidm9pcFBhc3N3b3JkIiwidm9pcF9wb3J0Iiwidm9pcFBvcnQiLCJzZWNyZXRUb2tlbiIsImFsbG93ZWRPcmlnaW4iLCJzd2l0Y2hlclBhc3N3b3JkIiwid2VicGhvbmVTZXJ2ZXIiLCJ0ZWNoQXNzaXN0YW50VXNlciIsImRlZmF1bHRWb2lwUGFzc3dvcmQiLCJkZXZlbG9wbWVudCIsImRldkFsbG93ZWRPcmlnaW4iLCJkb2NrZXIiLCJkb2NrZXJVc2Vfc29ja2V0Iiwic29ja2V0X2ZpbGUiLCJkb2NrZXJTb2NrZXRfZmlsZSIsImRvY2tlcldlYnBob25lU2VydmVyIiwiZG9ja2VyQWxsb3dlZE9yaWdpbiIsInN0YWdpbmciLCJzdGFnaW5nVXNlU29ja2V0Iiwic3RhZ2luZ1NvY2tldEZpbGUiLCJzdGFnaW5nVm9pcEhvc3QiLCJzdGFnaW5nVm9pcF9wYXNzd29yZCIsInN0YWdpbmdXZWJwaG9uZVNlcnZlciIsInN0YWdpbmdBbGxvd2VkT3JpZ2luIiwiYmVuY2giLCJiZW5jaFVzZV9zb2NrZXQiLCJiZW5jaFNvY2tldF9maWxlIiwiYmVuY2hWb2lwSG9zdCIsImJlbmNoVm9pcF9wYXNzd29yZCIsImJlbmNoV2VicGhvbmVTZXJ2ZXIiLCJiZW5jaEFsbG93ZWRPcmlnaW4iLCJwcm9kdWN0aW9uIiwicHJvZFVzZV9zb2NrZXQiLCJwcm9kU29ja2V0X2ZpbGUiLCJwcm9kVm9pcEhvc3QiLCJwcm9kVm9pcF9wYXNzd29yZCIsInByb2RXZWJwaG9uZVNlcnZlciIsInByb2RBbGxvd2VkT3JpZ2luIl0sIm1hcHBpbmdzIjoiOzs7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QjtBQU1MekIsSUFBQUEsYUFBYSxFQUFFWixPQUFPLENBQUNSLEdBQVIsQ0FBWThDO0FBTnRCLEdBbkNNO0FBMkNiQyxFQUFBQSxVQUFVLEVBQUU7QUFDVm5DLElBQUFBLFVBQVUsRUFBRUosT0FBTyxDQUFDUixHQUFSLENBQVlnRCxjQURkO0FBRVZuQixJQUFBQSxXQUFXLEVBQUVyQixPQUFPLENBQUNSLEdBQVIsQ0FBWWlELGVBRmY7QUFHVm5DLElBQUFBLFFBQVEsRUFBRU4sT0FBTyxDQUFDUixHQUFSLENBQVlrRCxZQUhaO0FBSVZuQyxJQUFBQSxhQUFhLEVBQUVQLE9BQU8sQ0FBQ1IsR0FBUixDQUFZbUQsaUJBSmpCO0FBS1Y3QixJQUFBQSxjQUFjLEVBQUVkLE9BQU8sQ0FBQ1IsR0FBUixDQUFZb0Qsa0JBTGxCO0FBTVZoQyxJQUFBQSxhQUFhLEVBQUVaLE9BQU8sQ0FBQ1IsR0FBUixDQUFZcUQ7QUFOakI7QUEzQ0MsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL2NvbmZpZy8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUT0RPIENhbWVsQ2FzZVxuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IGVudiBmcm9tICdlbnYtc21hcnQnO1xuZW52LmxvYWQoKTtcblxuY29uc3Qgcm9vdERpciA9IHBhdGguam9pbihfX2Rpcm5hbWUsICcuLicpXG5leHBvcnQgZGVmYXVsdCB7XG4gIGRlZmF1bHQ6IHtcbiAgICBwaWRfZmlsZTogcHJvY2Vzcy5lbnYucGlkRmlsZSxcbiAgICBwb3J0OiBwcm9jZXNzLmVudi5wb3J0LFxuICAgIGVzbERlYnVnOiBwcm9jZXNzLmVudi5lc2xEZWJ1ZyxcbiAgICB1c2Vfc29ja2V0OiBwcm9jZXNzLmVudi51c2VTb2NrZXQsXG4gICAgdm9pcEhvc3Q6IHByb2Nlc3MuZW52LnZvaXBIb3N0LFxuICAgIHZvaXBfcGFzc3dvcmQ6IHByb2Nlc3MuZW52LnZvaXBQYXNzd29yZCxcbiAgICB2b2lwX3BvcnQ6IHByb2Nlc3MuZW52LnZvaXBQb3J0LFxuICAgIHJvb3REaXIsXG4gICAgc2VjcmV0VG9rZW46IHByb2Nlc3MuZW52LnNlY3JldFRva2VuLFxuICAgIGFsbG93ZWRPcmlnaW46IHByb2Nlc3MuZW52LmFsbG93ZWRPcmlnaW4sXG4gICAgc3dpdGNoZXJQYXNzd29yZDogcHJvY2Vzcy5lbnYuc3dpdGNoZXJQYXNzd29yZCxcbiAgICB3ZWJwaG9uZVNlcnZlcjogcHJvY2Vzcy5lbnYud2VicGhvbmVTZXJ2ZXIsXG4gICAgdGVjaEFzc2lzdGFudFVzZXI6IHByb2Nlc3MuZW52LnRlY2hBc3Npc3RhbnRVc2VyLFxuICAgIGRlZmF1bHRWb2lwUGFzc3dvcmQ6IHByb2Nlc3MuZW52LmRlZmF1bHRWb2lwUGFzc3dvcmRcblxuICB9LFxuICBkZXZlbG9wbWVudDoge1xuICAgIGFsbG93ZWRPcmlnaW46IHByb2Nlc3MuZW52LmRldkFsbG93ZWRPcmlnaW5cbiAgfSxcbiAgZG9ja2VyOiB7XG4gICAgdXNlX3NvY2tldDogcHJvY2Vzcy5lbnYuZG9ja2VyVXNlX3NvY2tldCxcbiAgICBzb2NrZXRfZmlsZTogcHJvY2Vzcy5lbnYuZG9ja2VyU29ja2V0X2ZpbGUsXG4gICAgd2VicGhvbmVTZXJ2ZXI6IHByb2Nlc3MuZW52LmRvY2tlcldlYnBob25lU2VydmVyLFxuICAgIGFsbG93ZWRPcmlnaW46IHByb2Nlc3MuZW52LmRvY2tlckFsbG93ZWRPcmlnaW5cbiAgfSxcbiAgc3RhZ2luZzoge1xuICAgIHVzZV9zb2NrZXQ6IHByb2Nlc3MuZW52LnN0YWdpbmdVc2VTb2NrZXQsXG4gICAgc29ja2V0X2ZpbGU6IHByb2Nlc3MuZW52LnN0YWdpbmdTb2NrZXRGaWxlLFxuICAgIHZvaXBIb3N0OiBwcm9jZXNzLmVudi5zdGFnaW5nVm9pcEhvc3QsXG4gICAgdm9pcF9wYXNzd29yZDogcHJvY2Vzcy5lbnYuc3RhZ2luZ1ZvaXBfcGFzc3dvcmQsXG4gICAgd2VicGhvbmVTZXJ2ZXI6IHByb2Nlc3MuZW52LnN0YWdpbmdXZWJwaG9uZVNlcnZlcixcbiAgICBhbGxvd2VkT3JpZ2luOiBwcm9jZXNzLmVudi5zdGFnaW5nQWxsb3dlZE9yaWdpblxuICB9LFxuICBiZW5jaDoge1xuICAgIHVzZV9zb2NrZXQ6IHByb2Nlc3MuZW52LmJlbmNoVXNlX3NvY2tldCxcbiAgICBzb2NrZXRfZmlsZTogcHJvY2Vzcy5lbnYuYmVuY2hTb2NrZXRfZmlsZSxcbiAgICB2b2lwSG9zdDogcHJvY2Vzcy5lbnYuYmVuY2hWb2lwSG9zdCxcbiAgICB2b2lwX3Bhc3N3b3JkOiBwcm9jZXNzLmVudi5iZW5jaFZvaXBfcGFzc3dvcmQsXG4gICAgd2VicGhvbmVTZXJ2ZXI6IHByb2Nlc3MuZW52LmJlbmNoV2VicGhvbmVTZXJ2ZXIsXG4gICAgYWxsb3dlZE9yaWdpbjogcHJvY2Vzcy5lbnYuYmVuY2hBbGxvd2VkT3JpZ2luXG4gIH0sXG4gIHByb2R1Y3Rpb246IHtcbiAgICB1c2Vfc29ja2V0OiBwcm9jZXNzLmVudi5wcm9kVXNlX3NvY2tldCxcbiAgICBzb2NrZXRfZmlsZTogcHJvY2Vzcy5lbnYucHJvZFNvY2tldF9maWxlLFxuICAgIHZvaXBIb3N0OiBwcm9jZXNzLmVudi5wcm9kVm9pcEhvc3QsXG4gICAgdm9pcF9wYXNzd29yZDogcHJvY2Vzcy5lbnYucHJvZFZvaXBfcGFzc3dvcmQsXG4gICAgd2VicGhvbmVTZXJ2ZXI6IHByb2Nlc3MuZW52LnByb2RXZWJwaG9uZVNlcnZlcixcbiAgICBhbGxvd2VkT3JpZ2luOiBwcm9jZXNzLmVudi5wcm9kQWxsb3dlZE9yaWdpblxuICB9XG5cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "environments.js"
      ],
      "names": [
        "env",
        "load",
        "rootDir",
        "path",
        "join",
        "__dirname",
        "default",
        "pid_file",
        "process",
        "pidFile",
        "port",
        "eslDebug",
        "use_socket",
        "useSocket",
        "voipHost",
        "voip_password",
        "voipPassword",
        "voip_port",
        "voipPort",
        "secretToken",
        "allowedOrigin",
        "switcherPassword",
        "webphoneServer",
        "techAssistantUser",
        "defaultVoipPassword",
        "development",
        "devAllowedOrigin",
        "docker",
        "dockerUse_socket",
        "socket_file",
        "dockerSocket_file",
        "dockerWebphoneServer",
        "dockerAllowedOrigin",
        "staging",
        "stagingUseSocket",
        "stagingSocketFile",
        "stagingVoipHost",
        "stagingVoip_password",
        "stagingWebphoneServer",
        "stagingAllowedOrigin",
        "bench",
        "benchUse_socket",
        "benchSocket_file",
        "benchVoipHost",
        "benchVoip_password",
        "benchWebphoneServer",
        "benchAllowedOrigin",
        "production",
        "prodUse_socket",
        "prodSocket_file",
        "prodVoipHost",
        "prodVoip_password",
        "prodWebphoneServer",
        "prodAllowedOrigin"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/config/",
      "sourcesContent": [
        "// TODO CamelCase\nimport * as path from 'path'\nimport env from 'env-smart';\nenv.load();\n\nconst rootDir = path.join(__dirname, '..')\nexport default {\n  default: {\n    pid_file: process.env.pidFile,\n    port: process.env.port,\n    eslDebug: process.env.eslDebug,\n    use_socket: process.env.useSocket,\n    voipHost: process.env.voipHost,\n    voip_password: process.env.voipPassword,\n    voip_port: process.env.voipPort,\n    rootDir,\n    secretToken: process.env.secretToken,\n    allowedOrigin: process.env.allowedOrigin,\n    switcherPassword: process.env.switcherPassword,\n    webphoneServer: process.env.webphoneServer,\n    techAssistantUser: process.env.techAssistantUser,\n    defaultVoipPassword: process.env.defaultVoipPassword\n\n  },\n  development: {\n    allowedOrigin: process.env.devAllowedOrigin\n  },\n  docker: {\n    use_socket: process.env.dockerUse_socket,\n    socket_file: process.env.dockerSocket_file,\n    webphoneServer: process.env.dockerWebphoneServer,\n    allowedOrigin: process.env.dockerAllowedOrigin\n  },\n  staging: {\n    use_socket: process.env.stagingUseSocket,\n    socket_file: process.env.stagingSocketFile,\n    voipHost: process.env.stagingVoipHost,\n    voip_password: process.env.stagingVoip_password,\n    webphoneServer: process.env.stagingWebphoneServer,\n    allowedOrigin: process.env.stagingAllowedOrigin\n  },\n  bench: {\n    use_socket: process.env.benchUse_socket,\n    socket_file: process.env.benchSocket_file,\n    voipHost: process.env.benchVoipHost,\n    voip_password: process.env.benchVoip_password,\n    webphoneServer: process.env.benchWebphoneServer,\n    allowedOrigin: process.env.benchAllowedOrigin\n  },\n  production: {\n    use_socket: process.env.prodUse_socket,\n    socket_file: process.env.prodSocket_file,\n    voipHost: process.env.prodVoipHost,\n    voip_password: process.env.prodVoip_password,\n    webphoneServer: process.env.prodWebphoneServer,\n    allowedOrigin: process.env.prodAllowedOrigin\n  }\n\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/esl/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/esl/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _esl.default;\n  }\n});\n\nvar _esl = _interopRequireDefault(require(\"./esl\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9lc2wvIiwic291cmNlc0NvbnRlbnQiOltdfQ==",
    "map": {
      "version": 3,
      "sources": [],
      "names": [],
      "mappings": "",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/",
      "sourcesContent": []
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/esl/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/esl/esl.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/esl.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/esl.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/esl.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/",
        "sourceFileName": "esl.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util = _interopRequireDefault(require(\"util\"));\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar _config = _interopRequireDefault(require(\"../../config\"));\n\nvar _conferenceHandler = _interopRequireDefault(require(\"./handlers/conferenceHandler\"));\n\nvar _sofiaHandler = _interopRequireDefault(require(\"./handlers/sofiaHandler\"));\n\nvar _channelExecuteHander = _interopRequireDefault(require(\"./handlers/channelExecuteHander\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass Esl extends _events.default {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"init\", connection => {\n      this.connection = connection;\n      connection.events('json', ['CHANNEL_EXECUTE', 'CHANNEL_EXECUTE_COMPLETE', 'CUSTOM conference::maintenance sofia::register'].join(' '), e => console.log('subscribed on: CUSTOM conference::maintenance'));\n      connection.on('esl::**', e => {\n        if (_config.default.eslDebug) {\n          console.log(_util.default.inspect(e, {\n            maxArrayLength: null\n          }));\n        }\n\n        if (!e) return;\n\n        switch (e.type) {\n          case 'CUSTOM':\n            this.conferenceHandler.process(e);\n            this.sofiaHandler.process(e);\n            break;\n\n          case 'CHANNEL_EXECUTE':\n          case 'CHANNEL_EXECUTE_COMPLETE':\n            this.channelExecuteHander.process(e);\n            break;\n        }\n      });\n    });\n\n    this.conferenceHandler = new _conferenceHandler.default(this);\n    this.sofiaHandler = new _sofiaHandler.default(this);\n    this.channelExecuteHander = new _channelExecuteHander.default(this);\n  }\n\n  kickMember(memberId, roomId) {\n    return this.run(`conference ${roomId} kick ${memberId}`).catch(err => {\n      console.error(`ESL: Unable to kick ${memberId} from ${roomId}: ${err}`);\n    });\n  }\n\n  hupMember(memberId, roomId) {\n    return this.run(`conference ${roomId} hup ${memberId}`).catch(err => {\n      console.error(`ESL: Unable to hup ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  toggleSpeak(memberId, roomId) {\n    return this.run(`conference ${roomId} tmute ${memberId}`).catch(err => {\n      console.error(`ESL: Unable toggle speak for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  toggleHear(memberId, roomId, hear) {\n    const command = hear ? 'deaf' : 'undeaf';\n    return this.run(`conference ${roomId} ${command} ${memberId}`).catch(err => {\n      console.error(`ESL: Unable to toggle hear for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  muteSpeak(memberId, roomId) {\n    return this.run(`conference ${roomId} mute ${memberId}`).catch(err => {\n      console.error(`ESL: Unable to mute speak for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  unmuteSpeak(memberId, roomId) {\n    return this.run(`conference ${roomId} unmute ${memberId}`).catch(err => {\n      console.error(`ESL: Unable to unmute speak for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  muteHear(memberId, roomId) {\n    return this.run(`conference ${roomId} deaf ${memberId}`).catch(err => {\n      console.error(`ESL: Unable to mute hear for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  unmuteHear(memberId, roomId) {\n    return this.run(`conference ${roomId} undeaf ${memberId}`).catch(err => {\n      console.error(`ESL: Unable to unmute hear for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  volumeIn(memberId, roomId, level) {\n    return this.run(`conference ${roomId} volume_in ${memberId} ${level}`).catch(err => {\n      console.error(`ESL: Unable to set volume in for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  uuid_audio(uuid, command) {\n    return this.run(`uuid_audio ${uuid} ${command}`).catch(err => {\n      console.error(`ESL: Unable to run command '${command}' for uuid '${uuid}': ${err}`);\n    });\n  }\n\n  run(command, callback) {\n    return new Promise((resolve, reject) => {\n      this.connection.bgapi(command, res => {\n        if (res.getBody().indexOf('not found') !== -1) return reject(new Error(\"Not found\"));\n        if (callback) callback.call();\n        resolve(res);\n      });\n    });\n  }\n\n}\n\nvar _default = new Esl();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVzbC5qcyJdLCJuYW1lcyI6WyJFc2wiLCJFdmVudEVtaXR0ZXIiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwiY29ubmVjdGlvbiIsImV2ZW50cyIsImpvaW4iLCJlIiwiY29uc29sZSIsImxvZyIsIm9uIiwiY29uZmlnIiwiZXNsRGVidWciLCJ1dGlsIiwiaW5zcGVjdCIsIm1heEFycmF5TGVuZ3RoIiwidHlwZSIsImNvbmZlcmVuY2VIYW5kbGVyIiwicHJvY2VzcyIsInNvZmlhSGFuZGxlciIsImNoYW5uZWxFeGVjdXRlSGFuZGVyIiwiQ29uZmVyZW5jZUhhbmRsZXIiLCJTb2ZpYUhhbmRsZXIiLCJDaGFubmVsRXhlY3V0ZUhhbmRlciIsImtpY2tNZW1iZXIiLCJtZW1iZXJJZCIsInJvb21JZCIsInJ1biIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJodXBNZW1iZXIiLCJ0b2dnbGVTcGVhayIsInRvZ2dsZUhlYXIiLCJoZWFyIiwiY29tbWFuZCIsIm11dGVTcGVhayIsInVubXV0ZVNwZWFrIiwibXV0ZUhlYXIiLCJ1bm11dGVIZWFyIiwidm9sdW1lSW4iLCJsZXZlbCIsInV1aWRfYXVkaW8iLCJ1dWlkIiwiY2FsbGJhY2siLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImJnYXBpIiwicmVzIiwiZ2V0Qm9keSIsImluZGV4T2YiLCJFcnJvciIsImNhbGwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUEsTUFBTUEsR0FBTixTQUFrQkMsZUFBbEIsQ0FBK0I7QUFDN0JDLEVBQUFBLFdBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47O0FBRGlCLGtDQU9aQyxVQUFVLElBQUk7QUFDbkIsV0FBS0EsVUFBTCxHQUFrQkEsVUFBbEI7QUFDQUEsTUFBQUEsVUFBVSxDQUFDQyxNQUFYLENBQWtCLE1BQWxCLEVBQ0UsQ0FDRSxpQkFERixFQUVFLDBCQUZGLEVBR0UsZ0RBSEYs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TyxjQUFhRCxRQUFTLElBQUdnQixLQUFNLEVBQTdELEVBQWdFYixLQUFoRSxDQUF1RUMsR0FBRCxJQUFTO0FBQ3BGckIsTUFBQUEsT0FBTyxDQUFDc0IsS0FBUixDQUFlLG9DQUFtQ0wsUUFBUyxPQUFNQyxNQUFPLEtBQUlHLEdBQUksRUFBaEY7QUFDRCxLQUZNLENBQVA7QUFHRDs7QUFFRGEsRUFBQUEsVUFBVSxDQUFDQyxJQUFELEVBQU9SLE9BQVAsRUFBZ0I7QUFDeEIsV0FBTyxLQUFLUixHQUFMLENBQVUsY0FBYWdCLElBQUssSUFBR1IsT0FBUSxFQUF2QyxFQUEwQ1AsS0FBMUMsQ0FBaURDLEdBQUQsSUFBUztBQUM5RHJCLE1BQUFBLE9BQU8sQ0FBQ3NCLEtBQVIsQ0FBZSwrQkFBOEJLLE9BQVEsZUFBY1EsSUFBSyxNQUFLZCxHQUFJLEVBQWpGO0FBQ0QsS0FGTSxDQUFQO0FBR0Q7O0FBRURGLEVBQUFBLEdBQUcsQ0FBQ1EsT0FBRCxFQUFVUyxRQUFWLEVBQW9CO0FBQ3JCLFdBQU8sSUFBSUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0QyxXQUFLM0MsVUFBTCxDQUFnQjRDLEtBQWhCLENBQXNCYixPQUF0QixFQUFnQ2MsR0FBRCxJQUFTO0FBQ3RDLFlBQUlBLEdBQUcsQ0FBQ0MsT0FBSixHQUFjQyxPQUFkLENBQXNCLFdBQXRCLE1BQXVDLENBQUMsQ0FBNUMsRUFBK0MsT0FBT0osTUFBTSxDQUFDLElBQUlLLEtBQUosQ0FBVSxXQUFWLENBQUQsQ0FBYjtBQUMvQyxZQUFJUixRQUFKLEVBQWNBLFFBQVEsQ0FBQ1MsSUFBVDtBQUNkUCxRQUFBQSxPQUFPLENBQUNHLEdBQUQsQ0FBUDtBQUNELE9BSkQ7QUFLRCxLQU5NLENBQVA7QUFPRDs7QUF6RzRCOztlQTRHaEIsSUFBSWpELEdBQUosRSIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9lc2wvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHV0aWwgZnJvbSAndXRpbCdcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi8uLi9jb25maWcnXG5pbXBvcnQgQ29uZmVyZW5jZUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVycy9jb25mZXJlbmNlSGFuZGxlcidcbmltcG9ydCBTb2ZpYUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVycy9zb2ZpYUhhbmRsZXInXG5pbXBvcnQgQ2hhbm5lbEV4ZWN1dGVIYW5kZXIgZnJvbSAnLi9oYW5kbGVycy9jaGFubmVsRXhlY3V0ZUhhbmRlcidcblxuY2xhc3MgRXNsIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLmNvbmZlcmVuY2VIYW5kbGVyID0gbmV3IENvbmZlcmVuY2VIYW5kbGVyKHRoaXMpXG4gICAgdGhpcy5zb2ZpYUhhbmRsZXIgPSBuZXcgU29maWFIYW5kbGVyKHRoaXMpXG4gICAgdGhpcy5jaGFubmVsRXhlY3V0ZUhhbmRlciA9IG5ldyBDaGFubmVsRXhlY3V0ZUhhbmRlcih0aGlzKVxuICB9XG5cbiAgaW5pdCA9IGNvbm5lY3Rpb24gPT4ge1xuICAgIHRoaXMuY29ubmVjdGlvbiA9IGNvbm5lY3Rpb25cbiAgICBjb25uZWN0aW9uLmV2ZW50cygnanNvbicsXG4gICAgICBbXG4gICAgICAgICdDSEFOTkVMX0VYRUNVVEUnLFxuICAgICAgICAnQ0hBTk5FTF9FWEVDVVRFX0NPTVBMRVRFJyxcbiAgICAgICAgJ0NVU1RPTSBjb25mZXJlbmNlOjptYWludGVuYW5jZSBzb2ZpYTo6cmVnaXN0ZXInXG4gICAgICBdLmpvaW4oJyAnKSwgKGUpID0+IGNvbnNvbGUubG9nKCdzdWJzY3JpYmVkIG9uOiBDVVNUT00gY29uZmVyZW5jZTo6bWFpbnRlbmFuY2UnKSlcblxuICAgIGNvbm5lY3Rpb24ub24oJ2VzbDo6KionLCAoZSkgPT4ge1xuICAgICAgaWYgKGNvbmZpZy5lc2xEZWJ1Zykge1xuICAgICAgICBjb25zb2xlLmxvZyh1dGlsLmluc3BlY3QoZSwgeyBtYXhBcnJheUxlbmd0aDogbnVsbCB9KSlcbiAgICAgIH1cbiAgICAgIGlmICghZSkgcmV0dXJuXG5cbiAgICAgIHN3aXRjaCAoZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ0NVU1RPTSc6XG4gICAgICAgICAgdGhpcy5jb25mZXJlbmNlSGFuZGxlci5wcm9jZXNzKGUpXG4gICAgICAgICAgdGhpcy5zb2ZpYUhhbmRsZXIucHJvY2VzcyhlKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ0NIQU5ORUxfRVhFQ1VURSc6XG4gICAgICAgIGNhc2UgJ0NIQU5ORUxfRVhFQ1VURV9DT01QTEVURSc6XG4gICAgICAgICAgdGhpcy5jaGFubmVsRXhlY3V0ZUhhbmRlci5wcm9jZXNzKGUpXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAga2lja01lbWJlcihtZW1iZXJJZCwgcm9vbUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucnVuKGBjb25mZXJlbmNlICR7cm9vbUlkfSBraWNrICR7bWVtYmVySWR9YCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihgRVNMOiBVbmFibGUgdG8ga2ljayAke21lbWJlcklkfSBmcm9tICR7cm9vbUlkfTogJHtlcnJ9YCk7XG4gICAgfSk7XG4gIH1cblxuICBodXBNZW1iZXIobWVtYmVySWQsIHJvb21JZCkge1xuICAgIHJldHVybiB0aGlzLnJ1bihgY29uZmVyZW5jZSAke3Jvb21JZH0gaHVwICR7bWVtYmVySWR9YCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihgRVNMOiBVbmFibGUgdG8gaHVwICR7bWVtYmVySWR9IGluICR7cm9vbUlkfTogJHtlcnJ9YCk7XG4gICAgfSk7XG4gIH1cblxuICB0b2dnbGVTcGVhayhtZW1iZXJJZCwgcm9vbUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucnVuKGBjb25mZXJlbmNlICR7cm9vbUlkfSB0bXV0ZSAke21lbWJlcklkfWApLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVTTDogVW5hYmxlIHRvZ2dsZSBzcGVhayBmb3IgJHttZW1iZXJJZH0gaW4gJHtyb29tSWR9OiAke2Vycn1gKTtcbiAgICB9KTtcbiAgfVxuXG4gIHRvZ2dsZUhlYXIobWVtYmVySWQsIHJvb21JZCwgaGVhcikge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBoZWFyID8gJ2RlYWYnIDogJ3VuZGVhZidcbiAgICByZXR1cm4gdGhpcy5ydW4oYGNvbmZlcmVuY2UgJHtyb29tSWR9ICR7Y29tbWFuZH0gJHttZW1iZXJJZH1gKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFU0w6IFVuYWJsZSB0byB0b2dnbGUgaGVhciBmb3IgJHttZW1iZXJJZH0gaW4gJHtyb29tSWR9OiAke2Vycn1gKTtcbiAgICB9KTtcbiAgfVxuXG4gIG11dGVTcGVhayhtZW1iZXJJZCwgcm9vbUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucnVuKGBjb25mZXJlbmNlICR7cm9vbUlkfSBtdXRlICR7bWVtYmVySWR9YCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihgRVNMOiBVbmFibGUgdG8gbXV0ZSBzcGVhayBmb3IgJHttZW1iZXJJZH0gaW4gJHtyb29tSWR9OiAke2Vycn1gKTtcbiAgICB9KTtcbiAgfVxuXG4gIHVubXV0ZVNwZWFrKG1lbWJlcklkLCByb29tSWQpIHtcbiAgICByZXR1cm4gdGhpcy5ydW4oYGNvbmZlcmVuY2UgJHtyb29tSWR9IHVubXV0ZSAke21lbWJlcklkfWApLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVTTDogVW5hYmxlIHRvIHVubXV0ZSBzcGVhayBmb3IgJHttZW1iZXJJZH0gaW4gJHtyb29tSWR9OiAke2Vycn1gKTtcbiAgICB9KTtcbiAgfVxuXG4gIG11dGVIZWFyKG1lbWJlcklkLCByb29tSWQpIHtcbiAgICByZXR1cm4gdGhpcy5ydW4oYGNvbmZlcmVuY2UgJHtyb29tSWR9IGRlYWYgJHttZW1iZXJJZH1gKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFU0w6IFVuYWJsZSB0byBtdXRlIGhlYXIgZm9yICR7bWVtYmVySWR9IGluICR7cm9vbUlkfTogJHtlcnJ9YCk7XG4gICAgfSk7XG4gIH1cblxuICB1bm11dGVIZWFyKG1lbWJlcklkLCByb29tSWQpIHtcbiAgICByZXR1cm4gdGhpcy5ydW4oYGNvbmZlcmVuY2UgJHtyb29tSWR9IHVuZGVhZiAke21lbWJlcklkfWApLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVTTDogVW5hYmxlIHRvIHVubXV0ZSBoZWFyIGZvciAke21lbWJlcklkfSBpbiAke3Jvb21JZH06ICR7ZXJyfWApO1xuICAgIH0pO1xuICB9XG5cbiAgdm9sdW1lSW4obWVtYmVySWQsIHJvb21JZCwgbGV2ZWwpIHtcbiAgICByZXR1cm4gdGhpcy5ydW4oYGNvbmZlcmVuY2UgJHtyb29tSWR9IHZvbHVtZV9pbiAke21lbWJlcklkfSAke2xldmVsfWApLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVTTDogVW5hYmxlIHRvIHNldCB2b2x1bWUgaW4gZm9yICR7bWVtYmVySWR9IGluICR7cm9vbUlkfTogJHtlcnJ9YCk7XG4gICAgfSk7XG4gIH1cblxuICB1dWlkX2F1ZGlvKHV1aWQsIGNvbW1hbmQpIHtcbiAgICByZXR1cm4gdGhpcy5ydW4oYHV1aWRfYXVkaW8gJHt1dWlkfSAke2NvbW1hbmR9YCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihgRVNMOiBVbmFibGUgdG8gcnVuIGNvbW1hbmQgJyR7Y29tbWFuZH0nIGZvciB1dWlkICcke3V1aWR9JzogJHtlcnJ9YCk7XG4gICAgfSk7XG4gIH1cblxuICBydW4oY29tbWFuZCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5jb25uZWN0aW9uLmJnYXBpKGNvbW1hbmQsIChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5nZXRCb2R5KCkuaW5kZXhPZignbm90IGZvdW5kJykgIT09IC0xKSByZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcIk5vdCBmb3VuZFwiKSlcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjay5jYWxsKClcbiAgICAgICAgcmVzb2x2ZShyZXMpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEVzbCgpXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "esl.js"
      ],
      "names": [
        "Esl",
        "EventEmitter",
        "constructor",
        "props",
        "connection",
        "events",
        "join",
        "e",
        "console",
        "log",
        "on",
        "config",
        "eslDebug",
        "util",
        "inspect",
        "maxArrayLength",
        "type",
        "conferenceHandler",
        "process",
        "sofiaHandler",
        "channelExecuteHander",
        "ConferenceHandler",
        "SofiaHandler",
        "ChannelExecuteHander",
        "kickMember",
        "memberId",
        "roomId",
        "run",
        "catch",
        "err",
        "error",
        "hupMember",
        "toggleSpeak",
        "toggleHear",
        "hear",
        "command",
        "muteSpeak",
        "unmuteSpeak",
        "muteHear",
        "unmuteHear",
        "volumeIn",
        "level",
        "uuid_audio",
        "uuid",
        "callback",
        "Promise",
        "resolve",
        "reject",
        "bgapi",
        "res",
        "getBody",
        "indexOf",
        "Error",
        "call"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,MAAMA,GAAN,SAAkBC,eAAlB,CAA+B;AAC7BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,kCAOZC,UAAU,IAAI;AACnB,WAAKA,UAAL,GAAkBA,UAAlB;AACAA,MAAAA,UAAU,CAACC,MAAX,CAAkB,MAAlB,EACE,CACE,iBADF,EAEE,0BAFF,EAGE,gDAHF,EAIEC,IAJF,CAIO,GAJP,CADF,EAKgBC,CAAD,IAAOC,OAAO,CAACC,GAAR,CAAY,+CAAZ,CALtB;AAOAL,MAAAA,UAAU,CAACM,EAAX,CAAc,SAAd,EAA0BH,CAAD,IAAO;AAC9B,YAAII,gBAAOC,QAAX,EAAqB;AACnBJ,UAAAA,OAAO,CAACC,GAAR,CAAYI,cAAKC,OAAL,CAAaP,CAAb,EAAgB;AAAEQ,YAAAA,cAAc,EAAE;AAAlB,WAAhB,CAAZ;AACD;;AACD,YAAI,CAACR,CAAL,EAAQ;;AAER,gBAAQA,CAAC,CAACS,IAAV;AACE,eAAK,QAAL;AACE,iBAAKC,iBAAL,CAAuBC,OAAvB,CAA+BX,CAA/B;AACA,iBAAKY,YAAL,CAAkBD,OAAlB,CAA0BX,CAA1B;AACA;;AACF,eAAK,iBAAL;AACA,eAAK,0BAAL;AACE,iBAAKa,oBAAL,CAA0BF,OAA1B,CAAkCX,CAAlC;AACA;AARJ;AAUD,OAhBD;AAiBD,KAjCkB;;AAEjB,SAAKU,iBAAL,GAAyB,IAAII,0BAAJ,CAAsB,IAAtB,CAAzB;AACA,SAAKF,YAAL,GAAoB,IAAIG,qBAAJ,CAAiB,IAAjB,CAApB;AACA,SAAKF,oBAAL,GAA4B,IAAIG,6BAAJ,CAAyB,IAAzB,CAA5B;AACD;;AA8BDC,EAAAA,UAAU,CAACC,QAAD,EAAWC,MAAX,EAAmB;AAC3B,WAAO,KAAKC,GAAL,CAAU,cAAaD,MAAO,SAAQD,QAAS,EAA/C,EAAkDG,KAAlD,CAAyDC,GAAD,IAAS;AACtErB,MAAAA,OAAO,CAACsB,KAAR,CAAe,uBAAsBL,QAAS,SAAQC,MAAO,KAAIG,GAAI,EAArE;AACD,KAFM,CAAP;AAGD;;AAEDE,EAAAA,SAAS,CAACN,QAAD,EAAWC,MAAX,EAAmB;AAC1B,WAAO,KAAKC,GAAL,CAAU,cAAaD,MAAO,QAAOD,QAAS,EAA9C,EAAiDG,KAAjD,CAAwDC,GAAD,IAAS;AACrErB,MAAAA,OAAO,CAACsB,KAAR,CAAe,sBAAqBL,QAAS,OAAMC,MAAO,KAAIG,GAAI,EAAlE;AACD,KAFM,CAAP;AAGD;;AAEDG,EAAAA,WAAW,CAACP,QAAD,EAAWC,MAAX,EAAmB;AAC5B,WAAO,KAAKC,GAAL,CAAU,cAAaD,MAAO,UAASD,QAAS,EAAhD,EAAmDG,KAAnD,CAA0DC,GAAD,IAAS;AACvErB,MAAAA,OAAO,CAACsB,KAAR,CAAe,gCAA+BL,QAAS,OAAMC,MAAO,KAAIG,GAAI,EAA5E;AACD,KAFM,CAAP;AAGD;;AAEDI,EAAAA,UAAU,CAACR,QAAD,EAAWC,MAAX,EAAmBQ,IAAnB,EAAyB;AACjC,UAAMC,OAAO,GAAGD,IAAI,GAAG,MAAH,GAAY,QAAhC;AACA,WAAO,KAAKP,GAAL,CAAU,cAAaD,MAAO,IAAGS,OAAQ,IAAGV,QAAS,EAArD,EAAwDG,KAAxD,CAA+DC,GAAD,IAAS;AAC5ErB,MAAAA,OAAO,CAACsB,KAAR,CAAe,kCAAiCL,QAAS,OAAMC,MAAO,KAAIG,GAAI,EAA9E;AACD,KAFM,CAAP;AAGD;;AAEDO,EAAAA,SAAS,CAACX,QAAD,EAAWC,MAAX,EAAmB;AAC1B,WAAO,KAAKC,GAAL,CAAU,cAAaD,MAAO,SAAQD,QAAS,EAA/C,EAAkDG,KAAlD,CAAyDC,GAAD,IAAS;AACtErB,MAAAA,OAAO,CAACsB,KAAR,CAAe,iCAAgCL,QAAS,OAAMC,MAAO,KAAIG,GAAI,EAA7E;AACD,KAFM,CAAP;AAGD;;AAEDQ,EAAAA,WAAW,CAACZ,QAAD,EAAWC,MAAX,EAAmB;AAC5B,WAAO,KAAKC,GAAL,CAAU,cAAaD,MAAO,WAAUD,QAAS,EAAjD,EAAoDG,KAApD,CAA2DC,GAAD,IAAS;AACxErB,MAAAA,OAAO,CAACsB,KAAR,CAAe,mCAAkCL,QAAS,OAAMC,MAAO,KAAIG,GAAI,EAA/E;AACD,KAFM,CAAP;AAGD;;AAEDS,EAAAA,QAAQ,CAACb,QAAD,EAAWC,MAAX,EAAmB;AACzB,WAAO,KAAKC,GAAL,CAAU,cAAaD,MAAO,SAAQD,QAAS,EAA/C,EAAkDG,KAAlD,CAAyDC,GAAD,IAAS;AACtErB,MAAAA,OAAO,CAACsB,KAAR,CAAe,gCAA+BL,QAAS,OAAMC,MAAO,KAAIG,GAAI,EAA5E;AACD,KAFM,CAAP;AAGD;;AAEDU,EAAAA,UAAU,CAACd,QAAD,EAAWC,MAAX,EAAmB;AAC3B,WAAO,KAAKC,GAAL,CAAU,cAAaD,MAAO,WAAUD,QAAS,EAAjD,EAAoDG,KAApD,CAA2DC,GAAD,IAAS;AACxErB,MAAAA,OAAO,CAACsB,KAAR,CAAe,kCAAiCL,QAAS,OAAMC,MAAO,KAAIG,GAAI,EAA9E;AACD,KAFM,CAAP;AAGD;;AAEDW,EAAAA,QAAQ,CAACf,QAAD,EAAWC,MAAX,EAAmBe,KAAnB,EAA0B;AAChC,WAAO,KAAKd,GAAL,CAAU,cAAaD,MAAO,cAAaD,QAAS,IAAGgB,KAAM,EAA7D,EAAgEb,KAAhE,CAAuEC,GAAD,IAAS;AACpFrB,MAAAA,OAAO,CAACsB,KAAR,CAAe,oCAAmCL,QAAS,OAAMC,MAAO,KAAIG,GAAI,EAAhF;AACD,KAFM,CAAP;AAGD;;AAEDa,EAAAA,UAAU,CAACC,IAAD,EAAOR,OAAP,EAAgB;AACxB,WAAO,KAAKR,GAAL,CAAU,cAAagB,IAAK,IAAGR,OAAQ,EAAvC,EAA0CP,KAA1C,CAAiDC,GAAD,IAAS;AAC9DrB,MAAAA,OAAO,CAACsB,KAAR,CAAe,+BAA8BK,OAAQ,eAAcQ,IAAK,MAAKd,GAAI,EAAjF;AACD,KAFM,CAAP;AAGD;;AAEDF,EAAAA,GAAG,CAACQ,OAAD,EAAUS,QAAV,EAAoB;AACrB,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,WAAK3C,UAAL,CAAgB4C,KAAhB,CAAsBb,OAAtB,EAAgCc,GAAD,IAAS;AACtC,YAAIA,GAAG,CAACC,OAAJ,GAAcC,OAAd,CAAsB,WAAtB,MAAuC,CAAC,CAA5C,EAA+C,OAAOJ,MAAM,CAAC,IAAIK,KAAJ,CAAU,WAAV,CAAD,CAAb;AAC/C,YAAIR,QAAJ,EAAcA,QAAQ,CAACS,IAAT;AACdP,QAAAA,OAAO,CAACG,GAAD,CAAP;AACD,OAJD;AAKD,KANM,CAAP;AAOD;;AAzG4B;;eA4GhB,IAAIjD,GAAJ,E",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/",
      "sourcesContent": [
        "import util from 'util'\nimport EventEmitter from 'events'\nimport config from '../../config'\nimport ConferenceHandler from './handlers/conferenceHandler'\nimport SofiaHandler from './handlers/sofiaHandler'\nimport ChannelExecuteHander from './handlers/channelExecuteHander'\n\nclass Esl extends EventEmitter {\n  constructor(props) {\n    super(props)\n    this.conferenceHandler = new ConferenceHandler(this)\n    this.sofiaHandler = new SofiaHandler(this)\n    this.channelExecuteHander = new ChannelExecuteHander(this)\n  }\n\n  init = connection => {\n    this.connection = connection\n    connection.events('json',\n      [\n        'CHANNEL_EXECUTE',\n        'CHANNEL_EXECUTE_COMPLETE',\n        'CUSTOM conference::maintenance sofia::register'\n      ].join(' '), (e) => console.log('subscribed on: CUSTOM conference::maintenance'))\n\n    connection.on('esl::**', (e) => {\n      if (config.eslDebug) {\n        console.log(util.inspect(e, { maxArrayLength: null }))\n      }\n      if (!e) return\n\n      switch (e.type) {\n        case 'CUSTOM':\n          this.conferenceHandler.process(e)\n          this.sofiaHandler.process(e)\n          break\n        case 'CHANNEL_EXECUTE':\n        case 'CHANNEL_EXECUTE_COMPLETE':\n          this.channelExecuteHander.process(e)\n          break\n      }\n    })\n  }\n\n  kickMember(memberId, roomId) {\n    return this.run(`conference ${roomId} kick ${memberId}`).catch((err) => {\n      console.error(`ESL: Unable to kick ${memberId} from ${roomId}: ${err}`);\n    });\n  }\n\n  hupMember(memberId, roomId) {\n    return this.run(`conference ${roomId} hup ${memberId}`).catch((err) => {\n      console.error(`ESL: Unable to hup ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  toggleSpeak(memberId, roomId) {\n    return this.run(`conference ${roomId} tmute ${memberId}`).catch((err) => {\n      console.error(`ESL: Unable toggle speak for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  toggleHear(memberId, roomId, hear) {\n    const command = hear ? 'deaf' : 'undeaf'\n    return this.run(`conference ${roomId} ${command} ${memberId}`).catch((err) => {\n      console.error(`ESL: Unable to toggle hear for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  muteSpeak(memberId, roomId) {\n    return this.run(`conference ${roomId} mute ${memberId}`).catch((err) => {\n      console.error(`ESL: Unable to mute speak for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  unmuteSpeak(memberId, roomId) {\n    return this.run(`conference ${roomId} unmute ${memberId}`).catch((err) => {\n      console.error(`ESL: Unable to unmute speak for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  muteHear(memberId, roomId) {\n    return this.run(`conference ${roomId} deaf ${memberId}`).catch((err) => {\n      console.error(`ESL: Unable to mute hear for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  unmuteHear(memberId, roomId) {\n    return this.run(`conference ${roomId} undeaf ${memberId}`).catch((err) => {\n      console.error(`ESL: Unable to unmute hear for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  volumeIn(memberId, roomId, level) {\n    return this.run(`conference ${roomId} volume_in ${memberId} ${level}`).catch((err) => {\n      console.error(`ESL: Unable to set volume in for ${memberId} in ${roomId}: ${err}`);\n    });\n  }\n\n  uuid_audio(uuid, command) {\n    return this.run(`uuid_audio ${uuid} ${command}`).catch((err) => {\n      console.error(`ESL: Unable to run command '${command}' for uuid '${uuid}': ${err}`);\n    });\n  }\n\n  run(command, callback) {\n    return new Promise((resolve, reject) => {\n      this.connection.bgapi(command, (res) => {\n        if (res.getBody().indexOf('not found') !== -1) return reject(new Error(\"Not found\"))\n        if (callback) callback.call()\n        resolve(res)\n      })\n    })\n  }\n}\n\nexport default new Esl()\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/conferenceHandler.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/conferenceHandler.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/conferenceHandler.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/conferenceHandler.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/",
        "sourceFileName": "conferenceHandler.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _member = _interopRequireDefault(require(\"../../models/member\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst ADD_MEMBER = 'ADD_MEMBER';\nconst DEL_MEMBER = 'DEL_MEMBER';\nconst TOGGLE_SPEAK = 'TOGGLE_SPEAK';\nconst TOGGLE_HEAR = 'TOGGLE_HEAR';\nconst TOGGLE_TALKING = 'TOGGLE_TALKING';\n\nclass ConferenceHandler {\n  constructor(esl) {\n    this.esl = esl;\n    this.subscribe();\n  }\n\n  subscribe() {\n    this.esl.on(ADD_MEMBER, _member.default.add).on(DEL_MEMBER, _member.default.remove).on(TOGGLE_SPEAK, _member.default.update).on(TOGGLE_HEAR, _member.default.update).on(TOGGLE_TALKING, _member.default.update);\n  }\n\n  process(e) {\n    const eventSubclass = e.getHeader('Event-Subclass');\n    if (eventSubclass !== 'conference::maintenance') return;\n    const action = e.getHeader('Action');\n\n    switch (action) {\n      case 'add-member':\n        return this.onAddMember(e);\n\n      case 'del-member':\n        return this.onDelMember.call(this, e);\n\n      case 'mute-member':\n      case 'unmute-member':\n        return this.onToggleSpeak.call(this, e, action);\n\n      case 'deaf-member':\n      case 'undeaf-member':\n        return this.onToggleHear(e, action);\n\n      case 'start-talking':\n      case 'stop-talking':\n        return this.onToggleTalking(e);\n\n      case 'volume-in-member':\n        // Handle volume_in\n        break;\n    }\n  }\n\n  onAddMember(e) {\n    const id = e.getHeader('Member-ID');\n    const roomId = e.getHeader('Conference-Name');\n    const nameId = e.getHeader('Caller-Caller-ID-Name');\n    const speak = e.getHeader('Speak') === 'true';\n    const hear = e.getHeader('Hear') === 'true';\n    console.log(`Conference ${roomId}, add Member ${id}, ${nameId}`);\n    this.esl.emit(ADD_MEMBER, {\n      id,\n      roomId,\n      nameId,\n      speak,\n      hear\n    });\n  }\n\n  onDelMember(e) {\n    const id = e.getHeader('Member-ID');\n    const nameId = e.getHeader('Caller-Caller-ID-Name');\n    const roomId = e.getHeader('Conference-Name');\n    console.log(`Conference ${roomId}, del Member ${id}, ${nameId}`);\n    this.esl.emit(DEL_MEMBER, id, roomId);\n  }\n\n  onToggleSpeak(e, event) {\n    const id = e.getHeader('Member-ID');\n    const speak = e.getHeader('Speak') === 'true';\n    const nameId = e.getHeader('Caller-Caller-ID-Name');\n    const roomId = e.getHeader('Conference-Name');\n    console.log(`Conference ${roomId}, ${event} Member ${id}, ${nameId}`);\n    this.esl.emit(TOGGLE_SPEAK, id, {\n      speak\n    });\n  }\n\n  onToggleHear(e, event) {\n    const id = e.getHeader('Member-ID');\n    const hear = e.getHeader('Hear') === 'true';\n    const nameId = e.getHeader('Caller-Caller-ID-Name');\n    const roomId = e.getHeader('Conference-Name');\n    console.log(`Conference ${roomId}, ${event} Member ${id}, ${nameId}`);\n    this.esl.emit(TOGGLE_HEAR, id, {\n      hear\n    });\n  }\n\n  onToggleTalking(e) {\n    const id = e.getHeader('Member-ID');\n    const nameId = e.getHeader('Caller-Caller-ID-Name');\n    const roomId = e.getHeader('Conference-Name');\n    const talking = e.getHeader('Talking') === 'true';\n    console.log(`Conference ${roomId}, member ${id} ${nameId} talking ${talking}`);\n    this.esl.emit(TOGGLE_TALKING, id, {\n      talking\n    });\n  }\n\n}\n\nexports.default = ConferenceHandler;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZlcmVuY2VIYW5kbGVyLmpzIl0sIm5hbWVzIjpbIkFERF9NRU1CRVIiLCJERUxfTUVNQkVSIiwiVE9HR0xFX1NQRUFLIiwiVE9HR0xFX0hFQVIiLCJUT0dHTEVfVEFMS0lORyIsIkNvbmZlcmVuY2VIYW5kbGVyIiwiY29uc3RydWN0b3IiLCJlc2wiLCJzdWJzY3JpYmUiLCJvbiIsIk1lbWJlciIsImFkZCIsInJlbW92ZSIsInVwZGF0ZSIsInByb2Nlc3MiLCJlIiwiZXZlbnRTdWJjbGFzcyIsImdldEhlYWRlciIsImFjdGlvbiIsIm9uQWRkTWVtYmVyIiwib25EZWxNZW1iZXIiLCJjYWxsIiwib25Ub2dnbGVTcGVhayIsIm9uVG9nZ2xlSGVhciIsIm9uVG9nZ2xlVGFsa2luZyIsImlkIiwicm9vbUlkIiwibmFtZUlkIiwic3BlYWsiLCJoZWFyIiwiY29uc29sZSIsImxvZyIsImVtaXQiLCJldmVudCIsInRhbGtpbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFVBQVUsR0FBRyxZQUFuQjtBQUNBLE1BQU1DLFVBQVUsR0FBRyxZQUFuQjtBQUNBLE1BQU1DLFlBQVksR0FBRyxjQUFyQjtBQUNBLE1BQU1DLFdBQVcsR0FBRyxhQUFwQjtBQUNBLE1BQU1DLGNBQWMsR0FBRyxnQkFBdkI7O0FBRWUsTUFBTUMsaUJBQU4sQ0FBd0I7QUFDckNDLEVBQUFBLFdBQVcsQ0FBQ0MsR0FBRCxFQUFNO0FBQ2YsU0FBS0EsR0FBTCxHQUFXQSxHQUFYO0FBQ0EsU0FBS0MsU0FBTDtBQUNEOztBQUVEQSxFQUFBQSxTQUFTLEdBQUc7QUFDVixTQUFLRCxHQUFMLENBQ0dFLEVBREgsQ0FDTVQsVUFETixFQUNrQlUsZ0JBQU9DLEdBRHpCLEVBRUdGLEVBRkgsQ0FFTVIsVUFGTixFQUVrQlMsZ0JBQU9FLE1BRnpCLEVBR0dILEVBSEgsQ0FHTVAsWUFITixFQUdvQlEsZ0JBQU9HLE1BSDNCLEVBSUdKLEVBSkgsQ0FJTU4sV0FKTixFQUltQk8sZ0JB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QUFDQWEsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQWEsY0FBYUwsTUFBTyxZQUFXRCxFQUFHLElBQUdFLE1BQU8sWUFBV08sT0FBUSxFQUE1RTtBQUNBLFNBQUszQixHQUFMLENBQVN5QixJQUFULENBQWM1QixjQUFkLEVBQThCcUIsRUFBOUIsRUFBa0M7QUFBRVMsTUFBQUE7QUFBRixLQUFsQztBQUNEOztBQW5Gb0MiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvd2VicGhvbmUtbm9kZS9zcmMvZXNsL2hhbmRsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNZW1iZXIgZnJvbSAnLi4vLi4vbW9kZWxzL21lbWJlcidcblxuY29uc3QgQUREX01FTUJFUiA9ICdBRERfTUVNQkVSJ1xuY29uc3QgREVMX01FTUJFUiA9ICdERUxfTUVNQkVSJ1xuY29uc3QgVE9HR0xFX1NQRUFLID0gJ1RPR0dMRV9TUEVBSydcbmNvbnN0IFRPR0dMRV9IRUFSID0gJ1RPR0dMRV9IRUFSJ1xuY29uc3QgVE9HR0xFX1RBTEtJTkcgPSAnVE9HR0xFX1RBTEtJTkcnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmZlcmVuY2VIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoZXNsKSB7XG4gICAgdGhpcy5lc2wgPSBlc2xcbiAgICB0aGlzLnN1YnNjcmliZSgpXG4gIH1cblxuICBzdWJzY3JpYmUoKSB7XG4gICAgdGhpcy5lc2xcbiAgICAgIC5vbihBRERfTUVNQkVSLCBNZW1iZXIuYWRkKVxuICAgICAgLm9uKERFTF9NRU1CRVIsIE1lbWJlci5yZW1vdmUpXG4gICAgICAub24oVE9HR0xFX1NQRUFLLCBNZW1iZXIudXBkYXRlKVxuICAgICAgLm9uKFRPR0dMRV9IRUFSLCBNZW1iZXIudXBkYXRlKVxuICAgICAgLm9uKFRPR0dMRV9UQUxLSU5HLCBNZW1iZXIudXBkYXRlKVxuICB9XG5cbiAgcHJvY2VzcyhlKSB7XG4gICAgY29uc3QgZXZlbnRTdWJjbGFzcyA9IGUuZ2V0SGVhZGVyKCdFdmVudC1TdWJjbGFzcycpXG4gICAgaWYgKGV2ZW50U3ViY2xhc3MgIT09ICdjb25mZXJlbmNlOjptYWludGVuYW5jZScpIHJldHVyblxuXG4gICAgY29uc3QgYWN0aW9uID0gZS5nZXRIZWFkZXIoJ0FjdGlvbicpXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgIGNhc2UgJ2FkZC1tZW1iZXInOlxuICAgICAgICByZXR1cm4gdGhpcy5vbkFkZE1lbWJlcihlKVxuICAgICAgY2FzZSAnZGVsLW1lbWJlcic6XG4gICAgICAgIHJldHVybiB0aGlzLm9uRGVsTWVtYmVyLmNhbGwodGhpcywgZSlcbiAgICAgIGNhc2UgJ211dGUtbWVtYmVyJzpcbiAgICAgIGNhc2UgJ3VubXV0ZS1tZW1iZXInOlxuICAgICAgICByZXR1cm4gdGhpcy5vblRvZ2dsZVNwZWFrLmNhbGwodGhpcywgZSwgYWN0aW9uKVxuICAgICAgY2FzZSAnZGVhZi1tZW1iZXInOlxuICAgICAgY2FzZSAndW5kZWFmLW1lbWJlcic6XG4gICAgICAgIHJldHVybiB0aGlzLm9uVG9nZ2xlSGVhcihlLCBhY3Rpb24pXG4gICAgICBjYXNlICdzdGFydC10YWxraW5nJzpcbiAgICAgIGNhc2UgJ3N0b3AtdGFsa2luZyc6XG4gICAgICAgIHJldHVybiB0aGlzLm9uVG9nZ2xlVGFsa2luZyhlKVxuICAgICAgY2FzZSAndm9sdW1lLWluLW1lbWJlcic6XG4gICAgICAgIC8vIEhhbmRsZSB2b2x1bWVfaW5cbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBvbkFkZE1lbWJlcihlKSB7XG4gICAgY29uc3QgaWQgPSBlLmdldEhlYWRlcignTWVtYmVyLUlEJylcbiAgICBjb25zdCByb29tSWQgPSBlLmdldEhlYWRlcignQ29uZmVyZW5jZS1OYW1lJylcbiAgICBjb25zdCBuYW1lSWQgPSBlLmdldEhlYWRlcignQ2FsbGVyLUNhbGxlci1JRC1OYW1lJylcbiAgICBjb25zdCBzcGVhayA9IGUuZ2V0SGVhZGVyKCdTcGVhaycpID09PSAndHJ1ZSdcbiAgICBjb25zdCBoZWFyID0gZS5nZXRIZWFkZXIoJ0hlYXInKSA9PT0gJ3RydWUnXG4gICAgY29uc29sZS5sb2coYENvbmZlcmVuY2UgJHtyb29tSWR9LCBhZGQgTWVtYmVyICR7aWR9LCAke25hbWVJZH1gKVxuICAgIHRoaXMuZXNsLmVtaXQoQUREX01FTUJFUiwgeyBpZCwgcm9vbUlkLCBuYW1lSWQsIHNwZWFrLCBoZWFyIH0pXG4gIH1cblxuICBvbkRlbE1lbWJlcihlKSB7XG4gICAgY29uc3QgaWQgPSBlLmdldEhlYWRlcignTWVtYmVyLUlEJylcbiAgICBjb25zdCBuYW1lSWQgPSBlLmdldEhlYWRlcignQ2FsbGVyLUNhbGxlci1JRC1OYW1lJylcbiAgICBjb25zdCByb29tSWQgPSBlLmdldEhlYWRlcignQ29uZmVyZW5jZS1OYW1lJylcbiAgICBjb25zb2xlLmxvZyhgQ29uZmVyZW5jZSAke3Jvb21JZH0sIGRlbCBNZW1iZXIgJHtpZH0sICR7bmFtZUlkfWApXG4gICAgdGhpcy5lc2wuZW1pdChERUxfTUVNQkVSLCBpZCwgcm9vbUlkKVxuICB9XG5cbiAgb25Ub2dnbGVTcGVhayhlLCBldmVudCkge1xuICAgIGNvbnN0IGlkID0gZS5nZXRIZWFkZXIoJ01lbWJlci1JRCcpXG4gICAgY29uc3Qgc3BlYWsgPSBlLmdldEhlYWRlcignU3BlYWsnKSA9PT0gJ3RydWUnXG4gICAgY29uc3QgbmFtZUlkID0gZS5nZXRIZWFkZXIoJ0NhbGxlci1DYWxsZXItSUQtTmFtZScpXG4gICAgY29uc3Qgcm9vbUlkID0gZS5nZXRIZWFkZXIoJ0NvbmZlcmVuY2UtTmFtZScpXG4gICAgY29uc29sZS5sb2coYENvbmZlcmVuY2UgJHtyb29tSWR9LCAke2V2ZW50fSBNZW1iZXIgJHtpZH0sICR7bmFtZUlkfWApXG4gICAgdGhpcy5lc2wuZW1pdChUT0dHTEVfU1BFQUssIGlkLCB7IHNwZWFrIH0pXG4gIH1cblxuICBvblRvZ2dsZUhlYXIoZSwgZXZlbnQpIHtcbiAgICBjb25zdCBpZCA9IGUuZ2V0SGVhZGVyKCdNZW1iZXItSUQnKVxuICAgIGNvbnN0IGhlYXIgPSBlLmdldEhlYWRlcignSGVhcicpID09PSAndHJ1ZSdcbiAgICBjb25zdCBuYW1lSWQgPSBlLmdldEhlYWRlcignQ2FsbGVyLUNhbGxlci1JRC1OYW1lJylcbiAgICBjb25zdCByb29tSWQgPSBlLmdldEhlYWRlcignQ29uZmVyZW5jZS1OYW1lJylcbiAgICBjb25zb2xlLmxvZyhgQ29uZmVyZW5jZSAke3Jvb21JZH0sICR7ZXZlbnR9IE1lbWJlciAke2lkfSwgJHtuYW1lSWR9YClcbiAgICB0aGlzLmVzbC5lbWl0KFRPR0dMRV9IRUFSLCBpZCwgeyBoZWFyIH0pXG4gIH1cblxuICBvblRvZ2dsZVRhbGtpbmcoZSkge1xuICAgIGNvbnN0IGlkID0gZS5nZXRIZWFkZXIoJ01lbWJlci1JRCcpXG4gICAgY29uc3QgbmFtZUlkID0gZS5nZXRIZWFkZXIoJ0NhbGxlci1DYWxsZXItSUQtTmFtZScpXG4gICAgY29uc3Qgcm9vbUlkID0gZS5nZXRIZWFkZXIoJ0NvbmZlcmVuY2UtTmFtZScpXG4gICAgY29uc3QgdGFsa2luZyA9IGUuZ2V0SGVhZGVyKCdUYWxraW5nJykgPT09ICd0cnVlJ1xuICAgIGNvbnNvbGUubG9nKGBDb25mZXJlbmNlICR7cm9vbUlkfSwgbWVtYmVyICR7aWR9ICR7bmFtZUlkfSB0YWxraW5nICR7dGFsa2luZ31gKVxuICAgIHRoaXMuZXNsLmVtaXQoVE9HR0xFX1RBTEtJTkcsIGlkLCB7IHRhbGtpbmcgfSlcbiAgfVxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "conferenceHandler.js"
      ],
      "names": [
        "ADD_MEMBER",
        "DEL_MEMBER",
        "TOGGLE_SPEAK",
        "TOGGLE_HEAR",
        "TOGGLE_TALKING",
        "ConferenceHandler",
        "constructor",
        "esl",
        "subscribe",
        "on",
        "Member",
        "add",
        "remove",
        "update",
        "process",
        "e",
        "eventSubclass",
        "getHeader",
        "action",
        "onAddMember",
        "onDelMember",
        "call",
        "onToggleSpeak",
        "onToggleHear",
        "onToggleTalking",
        "id",
        "roomId",
        "nameId",
        "speak",
        "hear",
        "console",
        "log",
        "emit",
        "event",
        "talking"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/esl/handlers/",
      "sourcesContent": [
        "import Member from '../../models/member'\n\nconst ADD_MEMBER = 'ADD_MEMBER'\nconst DEL_MEMBER = 'DEL_MEMBER'\nconst TOGGLE_SPEAK = 'TOGGLE_SPEAK'\nconst TOGGLE_HEAR = 'TOGGLE_HEAR'\nconst TOGGLE_TALKING = 'TOGGLE_TALKING'\n\nexport default class ConferenceHandler {\n  constructor(esl) {\n    this.esl = esl\n    this.subscribe()\n  }\n\n  subscribe() {\n    this.esl\n      .on(ADD_MEMBER, Member.add)\n      .on(DEL_MEMBER, Member.remove)\n      .on(TOGGLE_SPEAK, Member.update)\n      .on(TOGGLE_HEAR, Member.update)\n      .on(TOGGLE_TALKING, Member.update)\n  }\n\n  process(e) {\n    const eventSubclass = e.getHeader('Event-Subclass')\n    if (eventSubclass !== 'conference::maintenance') return\n\n    const action = e.getHeader('Action')\n    switch (action) {\n      case 'add-member':\n        return this.onAddMember(e)\n      case 'del-member':\n        return this.onDelMember.call(this, e)\n      case 'mute-member':\n      case 'unmute-member':\n        return this.onToggleSpeak.call(this, e, action)\n      case 'deaf-member':\n      case 'undeaf-member':\n        return this.onToggleHear(e, action)\n      case 'start-talking':\n      case 'stop-talking':\n        return this.onToggleTalking(e)\n      case 'volume-in-member':\n        // Handle volume_in\n        break\n    }\n  }\n\n  onAddMember(e) {\n    const id = e.getHeader('Member-ID')\n    const roomId = e.getHeader('Conference-Name')\n    const nameId = e.getHeader('Caller-Caller-ID-Name')\n    const speak = e.getHeader('Speak') === 'true'\n    const hear = e.getHeader('Hear') === 'true'\n    console.log(`Conference ${roomId}, add Member ${id}, ${nameId}`)\n    this.esl.emit(ADD_MEMBER, { id, roomId, nameId, speak, hear })\n  }\n\n  onDelMember(e) {\n    const id = e.getHeader('Member-ID')\n    const nameId = e.getHeader('Caller-Caller-ID-Name')\n    const roomId = e.getHeader('Conference-Name')\n    console.log(`Conference ${roomId}, del Member ${id}, ${nameId}`)\n    this.esl.emit(DEL_MEMBER, id, roomId)\n  }\n\n  onToggleSpeak(e, event) {\n    const id = e.getHeader('Member-ID')\n    const speak = e.getHeader('Speak') === 'true'\n    const nameId = e.getHeader('Caller-Caller-ID-Name')\n    const roomId = e.getHeader('Conference-Name')\n    console.log(`Conference ${roomId}, ${event} Member ${id}, ${nameId}`)\n    this.esl.emit(TOGGLE_SPEAK, id, { speak })\n  }\n\n  onToggleHear(e, event) {\n    const id = e.getHeader('Member-ID')\n    const hear = e.getHeader('Hear') === 'true'\n    const nameId = e.getHeader('Caller-Caller-ID-Name')\n    const roomId = e.getHeader('Conference-Name')\n    console.log(`Conference ${roomId}, ${event} Member ${id}, ${nameId}`)\n    this.esl.emit(TOGGLE_HEAR, id, { hear })\n  }\n\n  onToggleTalking(e) {\n    const id = e.getHeader('Member-ID')\n    const nameId = e.getHeader('Caller-Caller-ID-Name')\n    const roomId = e.getHeader('Conference-Name')\n    const talking = e.getHeader('Talking') === 'true'\n    console.log(`Conference ${roomId}, member ${id} ${nameId} talking ${talking}`)\n    this.esl.emit(TOGGLE_TALKING, id, { talking })\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/member.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/member.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/member.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/member.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/",
        "sourceFileName": "member.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _esl = _interopRequireDefault(require(\"../esl\"));\n\nvar _record = _interopRequireDefault(require(\"./record\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _remote = _interopRequireDefault(require(\"./user/remote\"));\n\nvar _member = _interopRequireDefault(require(\"../serializers/member\"));\n\nvar _members = _interopRequireDefault(require(\"../services/members\"));\n\nvar _freeswitch = _interopRequireDefault(require(\"../services/freeswitch\"));\n\nvar _users = _interopRequireDefault(require(\"../services/users\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass Member extends _record.default {\n  constructor(data) {\n    super(data);\n    this.id = data.id;\n    this.roomId = data.roomId;\n    this.nameId = data.nameId;\n    this.speak = data.speak;\n    this.hear = data.hear;\n    this.talking = false;\n    this.user = null;\n    this.persisted = false;\n    this.moderatorStatus = data.moderatorStatus || \"OFFLINE\";\n    this.isStartTime = true;\n    this.startStopTime = null;\n    this.isResetTime = false;\n    this.lastInterpreterSessionTime = null;\n    this.startMeeting = false, this.startHandRaised = true, this.startStopHandRaised = null, this.startOnMikes = true, this.startStopMikes = null;\n    this.slowSpeak = null;\n  }\n\n  destroy(o = {}) {\n    const index = Member.all.indexOf(this);\n    if (index !== -1) Member.all.splice(index, 1);\n    this.user.removeMember(this);\n    if (!o.skip_hup) _esl.default.hupMember(this.id, this.roomId);\n\n    _members.default.delMember(this);\n\n    _freeswitch.default.handleSwitcher(this.roomId);\n\n    console.log(`Destroy member ${this.id}, user: ${this.user.username}`);\n  }\n\n  onUpdate() {\n    if (!this.speak) this.talking = false;\n  }\n\n  toJSON() {\n    return (0, _member.default)(this);\n  }\n\n  isFloor() {\n    const {\n      rooms,\n      useFloor,\n      useSwitcher\n    } = this.user;\n    return this.roomId === rooms.floor && (useFloor || useSwitcher);\n  }\n\n  static byRoom(...rooms) {\n    return Member.all.filter(m => rooms.indexOf(m.roomId) !== -1);\n  }\n\n  static onJoin(member) {\n    const {\n      id,\n      roomId,\n      user\n    } = member;\n    const {\n      orator,\n      lounge,\n      floor\n    } = user.rooms; // switcher member\n\n    if (user.isSwitcher()) return Member.onSwitcherJoin(member); // regular\n\n    if (user.isRegular()) return;\n\n    _users.default.update(user);\n\n    return Member.onModeratorJoin(member);\n  }\n\n  static onSwitcherJoin(member) {\n    const {\n      roomId\n    } = member;\n    const moderatorSpeaking = Member.byRoom(roomId).filter(m => m.user.isModerator() && m.speak).length;\n\n    if (moderatorSpeaking) {\n      _esl.default.muteSpeak(member.id, roomId);\n    } else {\n      _esl.default.unmuteSpeak(member.id, roomId);\n    }\n\n    return _esl.default.muteHear(member.id, roomId);\n  }\n\n  static onModeratorJoin(member) {\n    const {\n      id,\n      roomId,\n      user\n    } = member;\n    const {\n      hearRoomId,\n      speakRoomId,\n      rooms,\n      useFloor,\n      useSwitcher\n    } = user;\n    const {\n      first,\n      second\n    } = rooms;\n    const promises = [];\n    if (!hearRoomId && roomId === first) user.hearRoomId = roomId;\n    if (!speakRoomId && roomId === second) user.speakRoomId = roomId;\n    if (roomId === user.rooms.floor) promises.push(_esl.default.muteHear(id, roomId));\n    if (roomId !== user.speakRoomId) promises.push(_esl.default.muteSpeak(id, roomId));\n    return Promise.all(promises);\n  }\n\n}\n\nexports.default = Member;\n\n_defineProperty(Member, \"all\", []);\n\n_defineProperty(Member, \"add\", async ({\n  id,\n  roomId,\n  nameId,\n  speak,\n  hear\n}) => {\n  const member = new Member({\n    id,\n    roomId,\n    nameId,\n    speak,\n    hear\n  });\n  const oldMember = Member.find({\n    nameId,\n    roomId\n  });\n  if (oldMember) oldMember.destroy();\n  Member.all.push(member);\n\n  _user.default.addMember(member);\n\n  Member.onJoin(member);\n  member.persisted = true; // Floor\n\n  const {\n    user\n  } = member;\n\n  if (user.useFloor) {\n    _freeswitch.default.handleFloor(roomId === user.rooms.floor ? user.hearRoomId : roomId);\n  }\n\n  _members.default.addMember(member);\n});\n\n_defineProperty(Member, \"remove\", id => {\n  const member = Member.find(id);\n  if (!member) return;\n  member.destroy({\n    skip_hup: true\n  });\n\n  _users.default.update(member.user);\n});\n\n_defineProperty(Member, \"update\", (id, data) => {\n  const member = Member.find(id);\n  if (!member) return;\n  member.update(data);\n\n  _members.default.updateMember(member);\n});\n\n_defineProperty(Member, \"updateIsStartTime\", data => {\n  let member = Member.find(data.id);\n  if (!member) return;\n  member.startMeeting = data.startMeeting;\n  member.user.startMeeting = data.startMeeting;\n  member.isStartTime = data.isStartTime;\n  member.startStopTime = data.startStopTime;\n  member.isResetTime = data.isResetTime;\n  member.user.isStartTime = data.isStartTime;\n  member.user.startStopTime = data.startStopTime;\n  member.user.isResetTime = data.isResetTime;\n  member.user.lastInterpreterSessionTime = data.lastInterpreterSessionTime;\n  member.lastInterpreterSessionTime = data.lastInterpreterSessionTime;\n\n  _members.default.updateMember(member);\n});\n\n_defineProperty(Member, \"uploadHandRaised\", data => {\n  let member = Member.find(data.id);\n  if (!member) return;\n  member.startMeeting = data.startMeeting;\n  member.user.startMeeting = data.startMeeting;\n  member.startHandRaised = data.startHandRaised;\n  member.startStopHandRaised = data.startStopHandRaised;\n  member.user.startHandRaised = data.startHandRaised;\n  member.user.startStopHandRaised = data.startStopHandRaised;\n\n  _members.default.updateMember(member);\n});\n\n_defineProperty(Member, \"uploadControlMikes\", data => {\n  let member = Member.find(data.id);\n  if (!member) return;\n  member.startMeeting = data.startMeeting;\n  member.user.startMeeting = data.startMeeting;\n  member.startOnMikes = data.startOnMikes;\n  member.startStopMikes = data.startStopMikes;\n  member.user.startOnMikes = data.startOnMikes;\n  member.user.startStopMikes = data.startStopMikes;\n\n  _members.default.updateMember(member);\n});\n\n_defineProperty(Member, \"slowSpeak\", data => {\n  let member = Member.find(data.id);\n  if (!member) return;\n  member.startMeeting = data.startMeeting;\n  member.user.startMeeting = data.startMeeting;\n  member.slowSpeak = data.slowSpeak;\n  member.user.slowSpeak = data.slowSpeak;\n\n  _members.default.updateMember(member);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbWJlci5qcyJdLCJuYW1lcyI6WyJNZW1iZXIiLCJSZWNvcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJpZCIsInJvb21JZCIsIm5hbWVJZCIsInNwZWFrIiwiaGVhciIsInRhbGtpbmciLCJ1c2VyIiwicGVyc2lzdGVkIiwibW9kZXJhdG9yU3RhdHVzIiwiaXNTdGFydFRpbWUiLCJzdGFydFN0b3BUaW1lIiwiaXNSZXNldFRpbWUiLCJsYXN0SW50ZXJwcmV0ZXJTZXNzaW9uVGltZSIsInN0YXJ0TWVldGluZyIsInN0YXJ0SGFuZFJhaXNlZCIsInN0YXJ0U3RvcEhhbmRSYWlzZWQiLCJzdGFydE9uTWlrZXMiLCJzdGFydFN0b3BNaWtlcyIsInNsb3dTcGVhayIsImRlc3Ryb3kiLCJvIiwiaW5kZXgiLCJhbGwiLCJpbmRleE9mIiwic3BsaWNlIiwicmVtb3ZlTWVtYmVyIiwic2tpcF9odXAiLCJFc2wiLCJodXBNZW1iZXIiLCJNZW1iZXJzU2VydmljZSIsImRlbE1lbWJlciIsIkZyZWVzd2l0Y2giLCJoYW5kbGVTd2l0Y2hlciIsImNvbnNvbGUiLCJsb2ciLCJ1c2VybmFtZSIsIm9uVXBkYXRlIiwidG9KU09OIiwiaXNGbG9vciIsInJvb21zIiwidXNlRmxvb3IiLCJ1c2VTd2l0Y2hlciIsImZsb29yIiwiYnlSb29tIiwiZmlsdGVyIiwibSIsIm9uSm9pbiIsIm1lbWJlciIsIm9yYXRvciIsImxvdW5nZSIsImlzU3dpdGNoZXIiLCJvblN3aXRjaGVySm9pbiIsImlzUmVndWxhciIsIlVzZXJzU2VydmljZSIsInVwZGF0ZSIsIm9uTW9kZXJhdG9ySm9pbiIsIm1vZGVyYXRvclNwZWFraW5nIiwiaXNNb2RlcmF0b3IiLCJsZW5ndGgiLCJtdXRlU3BlYWsiLCJ1bm11dGVTcGVhayIsIm11dGVIZWFyIiwiaGVhclJvb21JZCIsInNwZWFrUm9vbUlkIiwiZmlyc3QiLCJzZWNvbmQiLCJwcm9taXNlcyIsInB1c2giLCJQcm9taXNlIiwib2xkTWVtYmVyIiwiZmlu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QmQsSUFBSSxDQUFDYyxZQUFoQztBQUNBa0MsRUFBQUEsTUFBTSxDQUFDL0IsWUFBUCxHQUFzQmpCLElBQUksQ0FBQ2lCLFlBQTNCO0FBQ0ErQixFQUFBQSxNQUFNLENBQUM5QixjQUFQLEdBQXdCbEIsSUFBSSxDQUFDa0IsY0FBN0I7QUFDQThCLEVBQUFBLE1BQU0sQ0FBQ3pDLElBQVAsQ0FBWVUsWUFBWixHQUEyQmpCLElBQUksQ0FBQ2lCLFlBQWhDO0FBQ0ErQixFQUFBQSxNQUFNLENBQUN6QyxJQUFQLENBQVlXLGNBQVosR0FBNkJsQixJQUFJLENBQUNrQixjQUFsQzs7QUFDQVksbUJBQWU2QyxZQUFmLENBQTRCM0IsTUFBNUI7QUFDRCxDOztnQkF6SGtCbkQsTSxlQTJIQ0csSUFBRCxJQUFVO0FBQzNCLE1BQUlnRCxNQUFNLEdBQUduRCxNQUFNLENBQUMwRSxJQUFQLENBQVl2RSxJQUFJLENBQUNDLEVBQWpCLENBQWI7QUFDQSxNQUFHLENBQUMrQyxNQUFKLEVBQVk7QUFDWkEsRUFBQUEsTUFBTSxDQUFDbEMsWUFBUCxHQUFzQmQsSUFBSSxDQUFDYyxZQUEzQjtBQUNBa0MsRUFBQUEsTUFBTSxDQUFDekMsSUFBUCxDQUFZTyxZQUFaLEdBQTJCZCxJQUFJLENBQUNjLFlBQWhDO0FBQ0FrQyxFQUFBQSxNQUFNLENBQUM3QixTQUFQLEdBQW1CbkIsSUFBSSxDQUFDbUIsU0FBeEI7QUFDQTZCLEVBQUFBLE1BQU0sQ0FBQ3pDLElBQVAsQ0FBWVksU0FBWixHQUF3Qm5CLElBQUksQ0FBQ21CLFNBQTdCOztBQUNBVyxtQkFBZTZDLFlBQWYsQ0FBNEIzQixNQUE1QjtBQUNELEMiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvd2VicGhvbmUtbm9kZS9zcmMvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFc2wgZnJvbSAnLi4vZXNsJ1xuaW1wb3J0IFJlY29yZCBmcm9tICcuL3JlY29yZCdcbmltcG9ydCBVc2VyIGZyb20gJy4vdXNlcidcbmltcG9ydCBSZW1vdGVVc2VyIGZyb20gJy4vdXNlci9yZW1vdGUnXG5pbXBvcnQgTWVtYmVyU2VyaWFsaXplciBmcm9tICcuLi9zZXJpYWxpemVycy9tZW1iZXInXG5pbXBvcnQgTWVtYmVyc1NlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvbWVtYmVycydcbmltcG9ydCBGcmVlc3dpdGNoIGZyb20gJy4uL3NlcnZpY2VzL2ZyZWVzd2l0Y2gnXG5pbXBvcnQgVXNlcnNTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL3VzZXJzJ1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbWJlciBleHRlbmRzIFJlY29yZCB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICBzdXBlcihkYXRhKVxuICAgIHRoaXMuaWQgPSBkYXRhLmlkXG4gICAgdGhpcy5yb29tSWQgPSBkYXRhLnJvb21JZFxuICAgIHRoaXMubmFtZUlkID0gZGF0YS5uYW1lSWRcbiAgICB0aGlzLnNwZWFrID0gZGF0YS5zcGVha1xuICAgIHRoaXMuaGVhciA9IGRhdGEuaGVhclxuICAgIHRoaXMudGFsa2luZyA9IGZhbHNlXG4gICAgdGhpcy51c2VyID0gbnVsbFxuICAgIHRoaXMucGVyc2lzdGVkID0gZmFsc2VcbiAgICB0aGlzLm1vZGVyYXRvclN0YXR1cyA9IGRhdGEubW9kZXJhdG9yU3RhdHVzIHx8IFwiT0ZGTElORVwiXG4gICAgdGhpcy5pc1N0YXJ0VGltZSA9IHRydWVcbiAgICB0aGlzLnN0YXJ0U3RvcFRpbWUgPSBudWxsIFxuICAgIHRoaXMuaXNSZXNldFRpbWUgPSBmYWxzZVxuICAgIHRoaXMubGFzdEludGVycHJldGVyU2Vzc2lvblRpbWUgPSBudWxsXG4gICAgdGhpcy5zdGFydE1lZXRpbmcgPSBmYWxzZSxcbiAgICB0aGlzLnN0YXJ0SGFuZFJhaXNlZCA9IHRydWUsXG4gICAgdGhpcy5zdGFydFN0b3BIYW5kUmFpc2VkID0gbnVsbCxcbiAgICB0aGlzLnN0YXJ0T25NaWtlcyA9IHRydWUsXG4gICAgdGhpcy5zdGFydFN0b3BNaWtlcyA9IG51bGxcbiAgICB0aGlzLnNsb3dTcGVhayA9IG51bGxcbiAgfVxuXG4gIGRlc3Ryb3kobyA9IHt9KSB7XG4gICAgY29uc3QgaW5kZXggPSBNZW1iZXIuYWxsLmluZGV4T2YodGhpcylcbiAgICBpZiAoaW5kZXggIT09IC0xKSBNZW1iZXIuYWxsLnNwbGljZShpbmRleCwgMSlcbiAgICB0aGlzLnVzZXIucmVtb3ZlTWVtYmVyKHRoaXMpXG4gICAgaWYgKCFvLnNraXBfaHVwKSBFc2wuaHVwTWVtYmVyKHRoaXMuaWQsIHRoaXMucm9vbUlkKVxuICAgIE1lbWJlcnNTZXJ2aWNlLmRlbE1lbWJlcih0aGlzKVxuICAgIEZyZWVzd2l0Y2guaGFuZGxlU3dpdGNoZXIodGhpcy5yb29tSWQpXG4gICAgY29uc29sZS5sb2coYERlc3Ryb3kgbWVtYmVyICR7dGhpcy5pZH0sIHVzZXI6ICR7dGhpcy51c2VyLnVzZXJuYW1lfWApXG4gIH1cblxuICBvblVwZGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuc3BlYWspIHRoaXMudGFsa2luZyA9IGZhbHNlXG4gIH1cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIE1lbWJlclNlcmlhbGl6ZXIodGhpcylcbiAgfVxuXG4gIGlzRmxvb3IoKSB7XG4gICAgY29uc3QgeyByb29tcywgdXNlRmxvb3IsIHVzZVN3aXRjaGVyIH0gPSB0aGlzLnVzZXJcbiAgICByZXR1cm4gdGhpcy5yb29tSWQgPT09IHJvb21zLmZsb29yICYmICh1c2VGbG9vciB8fCB1c2VTd2l0Y2hlcilcbiAgfVxuXG4gIHN0YXRpYyBhbGwgPSBbXTtcblxuICBzdGF0aWMgYWRkID0gYXN5bmMgKHsgaWQsIHJvb21JZCwgbmFtZUlkLCBzcGVhaywgaGVhciB9KSA9PiB7XG4gICAgY29uc3QgbWVtYmVyID0gbmV3IE1lbWJlcih7IGlkLCByb29tSWQsIG5hbWVJZCwgc3BlYWssIGhlYXIgfSlcbiAgICBjb25zdCBvbGRNZW1iZXIgPSBNZW1iZXIuZmluZCh7IG5hbWVJZCwgcm9vbUlkIH0pXG5cbiAgICBpZiAob2xkTWVtYmVyKSBvbGRNZW1iZXIuZGVzdHJveSgpXG5cbiAgICBNZW1iZXIuYWxsLnB1c2gobWVtYmVyKVxuICAgIFVzZXIuYWRkTWVtYmVyKG1lbWJlcilcbiAgICBNZW1iZXIub25Kb2luKG1lbWJlcilcbiAgICBtZW1iZXIucGVyc2lzdGVkID0gdHJ1ZVxuXG4gICAgLy8gRmxvb3JcbiAgICBjb25zdCB7IHVzZXIgfSA9IG1lbWJlclxuICAgIGlmKHVzZXIudXNlRmxvb3IpIHtcbiAgICAgIEZyZWVzd2l0Y2guaGFuZGxlRmxvb3Iocm9vbUlkID09PSB1c2VyLnJvb21zLmZsb29yID8gdXNlci5oZWFyUm9vbUlkIDogcm9vbUlkKVxuICAgIH1cblxuICAgIE1lbWJlcnNTZXJ2aWNlLmFkZE1lbWJlcihtZW1iZXIpXG4gIH07XG5cbiAgc3RhdGljIHJlbW92ZSA9IChpZCkgPT4ge1xuICAgIGNvbnN0IG1lbWJlciA9IE1lbWJlci5maW5kKGlkKVxuICAgIGlmICghbWVtYmVyKSByZXR1cm5cbiAgICBtZW1iZXIuZGVzdHJveSh7IHNraXBfaHVwOiB0cnVlIH0pXG4gICAgVXNlcnNTZXJ2aWNlLnVwZGF0ZShtZW1iZXIudXNlcilcbiAgfTtcblxuICBzdGF0aWMgdXBkYXRlID0gKGlkLCBkYXRhKSA9PiB7XG4gICAgY29uc3QgbWVtYmVyID0gTWVtYmVyLmZpbmQoaWQpXG4gICAgaWYgKCFtZW1iZXIpIHJldHVyblxuICAgIG1lbWJlci51cGRhdGUoZGF0YSlcbiAgICBNZW1iZXJzU2VydmljZS51cGRhdGVNZW1iZXIobWVtYmVyKVxuICB9O1xuXG4gIHN0YXRpYyB1cGRhdGVJc1N0YXJ0VGltZSA9IChkYXRhKSA9PiB7XG4gICAgbGV0IG1lbWJlciA9IE1lbWJlci5maW5kKGRhdGEuaWQpXG4gICAgaWYoIW1lbWJlcikgcmV0dXJuXG4gICAgbWVtYmVyLnN0YXJ0TWVldGluZz1kYXRhLnN0YXJ0TWVldGluZ1xuICAgIG1lbWJlci51c2VyLnN0YXJ0TWVldGluZz1kYXRhLnN0YXJ0TWVldGluZ1xuICAgIG1lbWJlci5pc1N0YXJ0VGltZSA9IGRhdGEuaXNTdGFydFRpbWVcbiAgICBtZW1iZXIuc3RhcnRTdG9wVGltZSA9IGRhdGEuc3RhcnRTdG9wVGltZVxuICAgIG1lbWJlci5pc1Jlc2V0VGltZSA9IGRhdGEuaXNSZXNldFRpbWVcbiAgICBtZW1iZXIudXNlci5pc1N0YXJ0VGltZSA9IGRhdGEuaXNTdGFydFRpbWVcbiAgICBtZW1iZXIudXNlci5zdGFydFN0b3BUaW1lID0gZGF0YS5zdGFydFN0b3BUaW1lXG4gICAgbWVtYmVyLnVzZXIuaXNSZXNldFRpbWUgPSBkYXRhLmlzUmVzZXRUaW1lXG4gICAgbWVtYmVyLnVzZXIubGFzdEludGVycHJldGVyU2Vzc2lvblRpbWUgPSBkYXRhLmxhc3RJbnRlcnByZXRlclNlc3Npb25UaW1lXG4gICAgbWVtYmVyLmxhc3RJbnRlcnByZXRlclNlc3Npb25UaW1lID0gZGF0YS5sYXN0SW50ZXJwcmV0ZXJTZXNzaW9uVGltZVxuICAgIE1lbWJlcnNTZXJ2aWNlLnVwZGF0ZU1lbWJlcihtZW1iZXIpXG4gIH1cbiAgIFxuICBzdGF0aWMgdXBsb2FkSGFuZFJhaXNlZCA9IChkYXRhKSA9PiB7XG4gICAgbGV0IG1lbWJlciA9IE1lbWJlci5maW5kKGRhdGEuaWQpXG4gICAgaWYoIW1lbWJlcikgcmV0dXJuXG4gICAgbWVtYmVyLnN0YXJ0TWVldGluZyA9IGRhdGEuc3RhcnRNZWV0aW5nXG4gICAgbWVtYmVyLnVzZXIuc3RhcnRNZWV0aW5nID0gZGF0YS5zdGFydE1lZXRpbmdcbiAgICBtZW1iZXIuc3RhcnRIYW5kUmFpc2VkID0gZGF0YS5zdGFydEhhbmRSYWlzZWRcbiAgICBtZW1iZXIuc3RhcnRTdG9wSGFuZFJhaXNlZCA9IGRhdGEuc3RhcnRTdG9wSGFuZFJhaXNlZFxuICAgIG1lbWJlci51c2VyLnN0YXJ0SGFuZFJhaXNlZCA9IGRhdGEuc3RhcnRIYW5kUmFpc2VkXG4gICAgbWVtYmVyLnVzZXIuc3RhcnRTdG9wSGFuZFJhaXNlZCA9IGRhdGEuc3RhcnRTdG9wSGFuZFJhaXNlZFxuICAgIE1lbWJlcnNTZXJ2aWNlLnVwZGF0ZU1lbWJlcihtZW1iZXIpXG4gIH1cbiAgXG4gIHN0YXRpYyB1cGxvYWRDb250cm9sTWlrZXMgPSAoZGF0YSkgPT4ge1xuICAgIGxldCBtZW1iZXIgPSBNZW1iZXIuZmluZChkYXRhLmlkKVxuICAgIGlmKCFtZW1iZXIpIHJldHVyblxuICAgIG1lbWJlci5zdGFydE1lZXRpbmcgPSBkYXRhLnN0YXJ0TWVldGluZ1xuICAgIG1lbWJlci51c2VyLnN0YXJ0TWVldGluZyA9IGRhdGEuc3RhcnRNZWV0aW5nXG4gICAgbWVtYmVyLnN0YXJ0T25NaWtlcyA9IGRhdGEuc3RhcnRPbk1pa2VzXG4gICAgbWVtYmVyLnN0YXJ0U3RvcE1pa2VzID0gZGF0YS5zdGFydFN0b3BNaWtlc1xuICAgIG1lbWJlci51c2VyLnN0YXJ0T25NaWtlcyA9IGRhdGEuc3RhcnRPbk1pa2VzXG4gICAgbWVtYmVyLnVzZXIuc3RhcnRTdG9wTWlrZXMgPSBkYXRhLnN0YXJ0U3RvcE1pa2VzXG4gICAgTWVtYmVyc1NlcnZpY2UudXBkYXRlTWVtYmVyKG1lbWJlcilcbiAgfVxuICBcbiAgc3RhdGljIHNsb3dTcGVhayA9IChkYXRhKSA9PiB7XG4gICAgbGV0IG1lbWJlciA9IE1lbWJlci5maW5kKGRhdGEuaWQpXG4gICAgaWYoIW1lbWJlcikgcmV0dXJuXG4gICAgbWVtYmVyLnN0YXJ0TWVldGluZyA9IGRhdGEuc3RhcnRNZWV0aW5nXG4gICAgbWVtYmVyLnVzZXIuc3RhcnRNZWV0aW5nID0gZGF0YS5zdGFydE1lZXRpbmdcbiAgICBtZW1iZXIuc2xvd1NwZWFrID0gZGF0YS5zbG93U3BlYWtcbiAgICBtZW1iZXIudXNlci5zbG93U3BlYWsgPSBkYXRhLnNsb3dTcGVha1xuICAgIE1lbWJlcnNTZXJ2aWNlLnVwZGF0ZU1lbWJlcihtZW1iZXIpXG4gIH1cblxuICBzdGF0aWMgYnlSb29tKC4uLnJvb21zKSB7XG4gICAgcmV0dXJuIE1lbWJlci5hbGwuZmlsdGVyKG0gPT4gcm9vbXMuaW5kZXhPZihtLnJvb21JZCkgIT09IC0xKVxuICB9XG5cbiAgc3RhdGljIG9uSm9pbihtZW1iZXIpIHtcbiAgICBjb25zdCB7IGlkLCByb29tSWQsIHVzZXIgfSA9IG1lbWJlclxuICAgIGNvbnN0IHsgb3JhdG9yLCBsb3VuZ2UsIGZsb29yIH0gPSB1c2VyLnJvb21zXG5cbiAgICAvLyBzd2l0Y2hlciBtZW1iZXJcbiAgICBpZiAodXNlci5pc1N3aXRjaGVyKCkpIHJldHVybiBNZW1iZXIub25Td2l0Y2hlckpvaW4obWVtYmVyKVxuXG4gICAgLy8gcmVndWxhclxuICAgIGlmICh1c2VyLmlzUmVndWxhcigpKSByZXR1cm5cblxuICAgIFVzZXJzU2VydmljZS51cGRhdGUodXNlcilcbiAgICByZXR1cm4gTWVtYmVyLm9uTW9kZXJhdG9ySm9pbihtZW1iZXIpXG4gIH1cblxuICBzdGF0aWMgb25Td2l0Y2hlckpvaW4obWVtYmVyKSB7XG4gICAgY29uc3QgeyByb29tSWQgfSA9IG1lbWJlclxuICAgIGNvbnN0IG1vZGVyYXRvclNwZWFraW5nID0gTWVtYmVyLmJ5Um9vbShyb29tSWQpLmZpbHRlcihtID0+IG0udXNlci5pc01vZGVyYXRvcigpICYmIG0uc3BlYWspLmxlbmd0aFxuICAgIGlmIChtb2RlcmF0b3JTcGVha2luZykge1xuICAgICAgRXNsLm11dGVTcGVhayhtZW1iZXIuaWQsIHJvb21JZClcbiAgICB9IGVsc2Uge1xuICAgICAgRXNsLnVubXV0ZVNwZWFrKG1lbWJlci5pZCwgcm9vbUlkKVxuICAgIH1cbiAgICByZXR1cm4gRXNsLm11dGVIZWFyKG1lbWJlci5pZCwgcm9vbUlkKVxuICB9XG5cbiAgc3RhdGljIG9uTW9kZXJhdG9ySm9pbihtZW1iZXIpIHtcbiAgICBjb25zdCB7IGlkLCByb29tSWQsIHVzZXIgfSA9IG1lbWJlclxuICAgIGNvbnN0IHsgaGVhclJvb21JZCwgc3BlYWtSb29tSWQsIHJvb21zLCB1c2VGbG9vciwgdXNlU3dpdGNoZXIgfSA9IHVzZXJcbiAgICBjb25zdCB7IGZpcnN0LCBzZWNvbmQgfSA9IHJvb21zXG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXVxuXG4gICAgaWYgKCFoZWFyUm9vbUlkICYmIHJvb21JZCA9PT0gZmlyc3QpIHVzZXIuaGVhclJvb21JZCA9IHJvb21JZFxuICAgIGlmICghc3BlYWtSb29tSWQgJiYgcm9vbUlkID09PSBzZWNvbmQpIHVzZXIuc3BlYWtSb29tSWQgPSByb29tSWRcblxuICAgIGlmIChyb29tSWQgPT09IHVzZXIucm9vbXMuZmxvb3IpXG4gICAgICBwcm9taXNlcy5wdXNoKEVzbC5tdXRlSGVhcihpZCwgcm9vbUlkKSlcblxuICAgIGlmIChyb29tSWQgIT09IHVzZXIuc3BlYWtSb29tSWQpXG4gICAgICBwcm9taXNlcy5wdXNoKEVzbC5tdXRlU3BlYWsoaWQsIHJvb21JZCkpXG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "member.js"
      ],
      "names": [
        "Member",
        "Record",
        "constructor",
        "data",
        "id",
        "roomId",
        "nameId",
        "speak",
        "hear",
        "talking",
        "user",
        "persisted",
        "moderatorStatus",
        "isStartTime",
        "startStopTime",
        "isResetTime",
        "lastInterpreterSessionTime",
        "startMeeting",
        "startHandRaised",
        "startStopHandRaised",
        "startOnMikes",
        "startStopMikes",
        "slowSpeak",
        "destroy",
        "o",
        "index",
        "all",
        "indexOf",
        "splice",
        "removeMember",
        "skip_hup",
        "Esl",
        "hupMember",
        "MembersService",
        "delMember",
        "Freeswitch",
        "handleSwitcher",
        "console",
        "log",
        "username",
        "onUpdate",
        "toJSON",
        "isFloor",
        "rooms",
        "useFloor",
        "useSwitcher",
        "floor",
        "byRoom",
        "filter",
        "m",
        "onJoin",
        "member",
        "orator",
        "lounge",
        "isSwitcher",
        "onSwitcherJoin",
        "isRegular",
        "UsersService",
        "update",
        "onModeratorJoin",
        "moderatorSpeaking",
        "isModerator",
        "length",
        "muteSpeak",
        "unmuteSpeak",
        "muteHear",
        "hearRoomId",
        "speakRoomId",
        "first",
        "second",
        "promises",
        "push",
        "Promise",
        "oldMember",
        "find",
        "User",
        "addMember",
        "handleFloor",
        "updateMember"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/",
      "sourcesContent": [
        "import Esl from '../esl'\nimport Record from './record'\nimport User from './user'\nimport RemoteUser from './user/remote'\nimport MemberSerializer from '../serializers/member'\nimport MembersService from '../services/members'\nimport Freeswitch from '../services/freeswitch'\nimport UsersService from '../services/users'\n\n\nexport default class Member extends Record {\n  constructor(data) {\n    super(data)\n    this.id = data.id\n    this.roomId = data.roomId\n    this.nameId = data.nameId\n    this.speak = data.speak\n    this.hear = data.hear\n    this.talking = false\n    this.user = null\n    this.persisted = false\n    this.moderatorStatus = data.moderatorStatus || \"OFFLINE\"\n    this.isStartTime = true\n    this.startStopTime = null \n    this.isResetTime = false\n    this.lastInterpreterSessionTime = null\n    this.startMeeting = false,\n    this.startHandRaised = true,\n    this.startStopHandRaised = null,\n    this.startOnMikes = true,\n    this.startStopMikes = null\n    this.slowSpeak = null\n  }\n\n  destroy(o = {}) {\n    const index = Member.all.indexOf(this)\n    if (index !== -1) Member.all.splice(index, 1)\n    this.user.removeMember(this)\n    if (!o.skip_hup) Esl.hupMember(this.id, this.roomId)\n    MembersService.delMember(this)\n    Freeswitch.handleSwitcher(this.roomId)\n    console.log(`Destroy member ${this.id}, user: ${this.user.username}`)\n  }\n\n  onUpdate() {\n    if (!this.speak) this.talking = false\n  }\n\n  toJSON() {\n    return MemberSerializer(this)\n  }\n\n  isFloor() {\n    const { rooms, useFloor, useSwitcher } = this.user\n    return this.roomId === rooms.floor && (useFloor || useSwitcher)\n  }\n\n  static all = [];\n\n  static add = async ({ id, roomId, nameId, speak, hear }) => {\n    const member = new Member({ id, roomId, nameId, speak, hear })\n    const oldMember = Member.find({ nameId, roomId })\n\n    if (oldMember) oldMember.destroy()\n\n    Member.all.push(member)\n    User.addMember(member)\n    Member.onJoin(member)\n    member.persisted = true\n\n    // Floor\n    const { user } = member\n    if(user.useFloor) {\n      Freeswitch.handleFloor(roomId === user.rooms.floor ? user.hearRoomId : roomId)\n    }\n\n    MembersService.addMember(member)\n  };\n\n  static remove = (id) => {\n    const member = Member.find(id)\n    if (!member) return\n    member.destroy({ skip_hup: true })\n    UsersService.update(member.user)\n  };\n\n  static update = (id, data) => {\n    const member = Member.find(id)\n    if (!member) return\n    member.update(data)\n    MembersService.updateMember(member)\n  };\n\n  static updateIsStartTime = (data) => {\n    let member = Member.find(data.id)\n    if(!member) return\n    member.startMeeting=data.startMeeting\n    member.user.startMeeting=data.startMeeting\n    member.isStartTime = data.isStartTime\n    member.startStopTime = data.startStopTime\n    member.isResetTime = data.isResetTime\n    member.user.isStartTime = data.isStartTime\n    member.user.startStopTime = data.startStopTime\n    member.user.isResetTime = data.isResetTime\n    member.user.lastInterpreterSessionTime = data.lastInterpreterSessionTime\n    member.lastInterpreterSessionTime = data.lastInterpreterSessionTime\n    MembersService.updateMember(member)\n  }\n   \n  static uploadHandRaised = (data) => {\n    let member = Member.find(data.id)\n    if(!member) return\n    member.startMeeting = data.startMeeting\n    member.user.startMeeting = data.startMeeting\n    member.startHandRaised = data.startHandRaised\n    member.startStopHandRaised = data.startStopHandRaised\n    member.user.startHandRaised = data.startHandRaised\n    member.user.startStopHandRaised = data.startStopHandRaised\n    MembersService.updateMember(member)\n  }\n  \n  static uploadControlMikes = (data) => {\n    let member = Member.find(data.id)\n    if(!member) return\n    member.startMeeting = data.startMeeting\n    member.user.startMeeting = data.startMeeting\n    member.startOnMikes = data.startOnMikes\n    member.startStopMikes = data.startStopMikes\n    member.user.startOnMikes = data.startOnMikes\n    member.user.startStopMikes = data.startStopMikes\n    MembersService.updateMember(member)\n  }\n  \n  static slowSpeak = (data) => {\n    let member = Member.find(data.id)\n    if(!member) return\n    member.startMeeting = data.startMeeting\n    member.user.startMeeting = data.startMeeting\n    member.slowSpeak = data.slowSpeak\n    member.user.slowSpeak = data.slowSpeak\n    MembersService.updateMember(member)\n  }\n\n  static byRoom(...rooms) {\n    return Member.all.filter(m => rooms.indexOf(m.roomId) !== -1)\n  }\n\n  static onJoin(member) {\n    const { id, roomId, user } = member\n    const { orator, lounge, floor } = user.rooms\n\n    // switcher member\n    if (user.isSwitcher()) return Member.onSwitcherJoin(member)\n\n    // regular\n    if (user.isRegular()) return\n\n    UsersService.update(user)\n    return Member.onModeratorJoin(member)\n  }\n\n  static onSwitcherJoin(member) {\n    const { roomId } = member\n    const moderatorSpeaking = Member.byRoom(roomId).filter(m => m.user.isModerator() && m.speak).length\n    if (moderatorSpeaking) {\n      Esl.muteSpeak(member.id, roomId)\n    } else {\n      Esl.unmuteSpeak(member.id, roomId)\n    }\n    return Esl.muteHear(member.id, roomId)\n  }\n\n  static onModeratorJoin(member) {\n    const { id, roomId, user } = member\n    const { hearRoomId, speakRoomId, rooms, useFloor, useSwitcher } = user\n    const { first, second } = rooms\n    const promises = []\n\n    if (!hearRoomId && roomId === first) user.hearRoomId = roomId\n    if (!speakRoomId && roomId === second) user.speakRoomId = roomId\n\n    if (roomId === user.rooms.floor)\n      promises.push(Esl.muteHear(id, roomId))\n\n    if (roomId !== user.speakRoomId)\n      promises.push(Esl.muteSpeak(id, roomId))\n\n    return Promise.all(promises)\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/record.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/record.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/record.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/record.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/",
        "sourceFileName": "record.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass Record {\n  constructor(_data) {\n    _defineProperty(this, \"update\", data => {\n      Object.keys(this).forEach(prop => {\n        if (!data.hasOwnProperty(prop)) return;\n        this[prop] = JSON.parse(JSON.stringify(data[prop]));\n      });\n      this.onUpdate();\n    });\n\n    this.data = _data;\n  }\n\n  onUpdate() {// overwrite in child class\n  }\n\n  static find(data) {\n    if (!data) return;\n\n    if (data instanceof Object) {\n      let equal;\n      return this.all.find(instance => {\n        equal = true;\n\n        for (const key of Object.keys(data)) {\n          if (data[key] !== instance[key]) {\n            equal = false;\n            break;\n          }\n        }\n\n        return equal;\n      });\n    }\n\n    return this.all.find(record => record.id === data);\n  }\n\n}\n\nexports.default = Record;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY29yZC5qcyJdLCJuYW1lcyI6WyJSZWNvcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsIm9uVXBkYXRlIiwiZmluZCIsImVxdWFsIiwiYWxsIiwiaW5zdGFuY2UiLCJrZXkiLCJyZWNvcmQiLCJpZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWUsTUFBTUEsTUFBTixDQUFhO0FBQzFCQyxFQUFBQSxXQUFXLENBQUNDLEtBQUQsRUFBTztBQUFBLG9DQUlSQSxJQUFELElBQVU7QUFDakJDLE1BQUFBLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZLElBQVosRUFBa0JDLE9BQWxCLENBQTJCQyxJQUFELElBQVU7QUFDbEMsWUFBSSxDQUFDSixJQUFJLENBQUNLLGNBQUwsQ0FBb0JELElBQXBCLENBQUwsRUFBZ0M7QUFDaEMsYUFBS0EsSUFBTCxJQUFhRSxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDRSxTQUFMLENBQWVSLElBQUksQ0FBQ0ksSUFBRCxDQUFuQixDQUFYLENBQWI7QUFDRCxPQUhEO0FBSUEsV0FBS0ssUUFBTDtBQUNELEtBVmlCOztBQUNoQixTQUFLVCxJQUFMLEdBQVlBLEtBQVo7QUFDRDs7QUFVRFMsRUFBQUEsUUFBUSxHQUFHLENBQ1Q7QUFDRDs7QUFFRCxTQUFPQyxJQUFQLENBQVlWLElBQVosRUFBa0I7QUFDaEIsUUFBSSxDQUFDQSxJQUFMLEVBQVc7O0FBQ1gsUUFBSUEsSUFBSSxZQUFZQyxNQUFwQixFQUE0QjtBQUMxQixVQUFJVSxLQUFKO0FBQ0EsYUFBTyxLQUFLQyxHQUFMLENBQVNGLElBQVQsQ0FBZUcsUUFBRCxJQUFjO0FBQ2pDRixRQUFBQSxLQUFLLEdBQUcsSUFBUjs7QUFDQSxhQUFLLE1BQU1HLEdBQVgsSUFBa0JiLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZRixJQUFaLENBQWxCLEVBQXFDO0FBQ25DLGNBQUlBLElBQUksQ0FBQ2MsR0FBRCxDQUFKLEtBQWNELFFBQVEsQ0FBQ0MsR0FBRCxDQUExQixFQUFpQztBQUMvQkgsWUFBQUEsS0FBSyxHQUFHLEtBQVI7QUFDQTtBQUNEO0FBQ0Y7O0FBQ0QsZUFBT0EsS0FBUDtBQUNELE9BVE0sQ0FBUDtBQVVEOztBQUNELFdBQU8sS0FBS0MsR0FBTCxDQUFTRixJQUFULENBQWNLLE1BQU0sSUFBSUEsTUFBTSxDQUFDQyxFQUFQLEtBQWNoQixJQUF0QyxDQUFQO0FBQ0Q7O0FBakN5QiIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVjb3JkIHtcbiAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgIHRoaXMuZGF0YSA9IGRhdGFcbiAgfVxuXG4gIHVwZGF0ZSA9IChkYXRhKSA9PiB7XG4gICAgT2JqZWN0LmtleXModGhpcykuZm9yRWFjaCgocHJvcCkgPT4ge1xuICAgICAgaWYgKCFkYXRhLmhhc093blByb3BlcnR5KHByb3ApKSByZXR1cm5cbiAgICAgIHRoaXNbcHJvcF0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGFbcHJvcF0pKVxuICAgIH0pXG4gICAgdGhpcy5vblVwZGF0ZSgpXG4gIH07XG5cbiAgb25VcGRhdGUoKSB7XG4gICAgLy8gb3ZlcndyaXRlIGluIGNoaWxkIGNsYXNzXG4gIH1cblxuICBzdGF0aWMgZmluZChkYXRhKSB7XG4gICAgaWYgKCFkYXRhKSByZXR1cm5cbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgbGV0IGVxdWFsXG4gICAgICByZXR1cm4gdGhpcy5hbGwuZmluZCgoaW5zdGFuY2UpID0+IHtcbiAgICAgICAgZXF1YWwgPSB0cnVlXG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGRhdGEpKSB7XG4gICAgICAgICAgaWYgKGRhdGFba2V5XSAhPT0gaW5zdGFuY2Vba2V5XSkge1xuICAgICAgICAgICAgZXF1YWwgPSBmYWxzZVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVxdWFsXG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hbGwuZmluZChyZWNvcmQgPT4gcmVjb3JkLmlkID09PSBkYXRhKVxuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "record.js"
      ],
      "names": [
        "Record",
        "constructor",
        "data",
        "Object",
        "keys",
        "forEach",
        "prop",
        "hasOwnProperty",
        "JSON",
        "parse",
        "stringify",
        "onUpdate",
        "find",
        "equal",
        "all",
        "instance",
        "key",
        "record",
        "id"
      ],
      "mappings": ";;;;;;;;;AAAe,MAAMA,MAAN,CAAa;AAC1BC,EAAAA,WAAW,CAACC,KAAD,EAAO;AAAA,oCAIRA,IAAD,IAAU;AACjBC,MAAAA,MAAM,CAACC,IAAP,CAAY,IAAZ,EAAkBC,OAAlB,CAA2BC,IAAD,IAAU;AAClC,YAAI,CAACJ,IAAI,CAACK,cAAL,CAAoBD,IAApB,CAAL,EAAgC;AAChC,aAAKA,IAAL,IAAaE,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeR,IAAI,CAACI,IAAD,CAAnB,CAAX,CAAb;AACD,OAHD;AAIA,WAAKK,QAAL;AACD,KAViB;;AAChB,SAAKT,IAAL,GAAYA,KAAZ;AACD;;AAUDS,EAAAA,QAAQ,GAAG,CACT;AACD;;AAED,SAAOC,IAAP,CAAYV,IAAZ,EAAkB;AAChB,QAAI,CAACA,IAAL,EAAW;;AACX,QAAIA,IAAI,YAAYC,MAApB,EAA4B;AAC1B,UAAIU,KAAJ;AACA,aAAO,KAAKC,GAAL,CAASF,IAAT,CAAeG,QAAD,IAAc;AACjCF,QAAAA,KAAK,GAAG,IAAR;;AACA,aAAK,MAAMG,GAAX,IAAkBb,MAAM,CAACC,IAAP,CAAYF,IAAZ,CAAlB,EAAqC;AACnC,cAAIA,IAAI,CAACc,GAAD,CAAJ,KAAcD,QAAQ,CAACC,GAAD,CAA1B,EAAiC;AAC/BH,YAAAA,KAAK,GAAG,KAAR;AACA;AACD;AACF;;AACD,eAAOA,KAAP;AACD,OATM,CAAP;AAUD;;AACD,WAAO,KAAKC,GAAL,CAASF,IAAT,CAAcK,MAAM,IAAIA,MAAM,CAACC,EAAP,KAAchB,IAAtC,CAAP;AACD;;AAjCyB",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/",
      "sourcesContent": [
        "export default class Record {\n  constructor(data) {\n    this.data = data\n  }\n\n  update = (data) => {\n    Object.keys(this).forEach((prop) => {\n      if (!data.hasOwnProperty(prop)) return\n      this[prop] = JSON.parse(JSON.stringify(data[prop]))\n    })\n    this.onUpdate()\n  };\n\n  onUpdate() {\n    // overwrite in child class\n  }\n\n  static find(data) {\n    if (!data) return\n    if (data instanceof Object) {\n      let equal\n      return this.all.find((instance) => {\n        equal = true\n        for (const key of Object.keys(data)) {\n          if (data[key] !== instance[key]) {\n            equal = false\n            break\n          }\n        }\n        return equal\n      })\n    }\n    return this.all.find(record => record.id === data)\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"RemoteUser\", {\n  enumerable: true,\n  get: function () {\n    return _remote.default;\n  }\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _user.default;\n  }\n});\n\nvar _remote = _interopRequireDefault(require(\"./remote\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3dlYnBob25lLW5vZGUvc3JjL21vZGVscy91c2VyLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZW1vdGVVc2VyIGZyb20gJy4vcmVtb3RlJ1xuXG5leHBvcnQgeyBSZW1vdGVVc2VyIH1cbmV4cG9ydCBkZWZhdWx0IGZyb20gJy4vdXNlcidcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;;;;;AAAA",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
      "sourcesContent": [
        "import RemoteUser from './remote'\n\nexport { RemoteUser }\nexport default from './user'\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/remote.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/remote.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/remote.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/remote.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
        "sourceFileName": "remote.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _base = _interopRequireDefault(require(\"./base\"));\n\nvar _remote = _interopRequireDefault(require(\"../../serializers/user/remote\"));\n\nvar _userHelper = require(\"../../helpers/userHelper\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass RemoteUser extends _base.default {\n  constructor(data) {\n    super(data);\n    this.username = data.nameId;\n    this.displayName = (0, _userHelper.displayName)(data.nameId);\n    this.members = [];\n    this.role = RemoteUser.ROLES.REGULAR;\n    this.hearRoomId = data.roomId;\n    this.speakRoomId = data.roomId;\n    this.meetingID = null;\n    this.useFloor = false;\n    this.useSwitcher = false;\n    this.registered = true;\n    this.cf1 = data.roomId;\n    this.cf2 = null;\n    this.rooms = {\n      first: data.roomId,\n      second: null,\n      orator: null\n    };\n    this.roomsList = [data.roomId];\n    this.channels = {\n      self: '__remote__'\n    };\n    this.isStartTime = true;\n    this.startStopTime = null;\n    this.isResetTime = false;\n    this.lastInterpreterSessionTime = null;\n    this.startMeeting = false, this.startHandRaised = true, this.startStopHandRaised = null, this.startOnMikes = true, this.startStopMikes = null;\n    this.slowSpeak = null;\n  }\n\n  connected() {\n    return this.members.length > 1;\n  }\n\n  onMemberRemove()\n  /* member */\n  {\n    if (!this.members.length) this.destroy();\n  }\n\n  toJSON() {\n    return (0, _remote.default)(this);\n  }\n\n}\n\nexports.default = RemoteUser;\n\n_defineProperty(RemoteUser, \"all\", []);\n\n_defineProperty(RemoteUser, \"add\", data => {\n  const user = new RemoteUser(data);\n  RemoteUser.makeUniq(user);\n  RemoteUser.all.push(user);\n  console.log(`Create remote user ${user.id}`);\n  return user;\n});\n\n_defineProperty(RemoteUser, \"findOrCreate\", data => {\n  const user = RemoteUser.find(data.nameId);\n  if (user) return user;\n  return RemoteUser.add(data);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbW90ZS5qcyJdLCJuYW1lcyI6WyJSZW1vdGVVc2VyIiwiQmFzZVVzZXIiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJ1c2VybmFtZSIsIm5hbWVJZCIsImRpc3BsYXlOYW1lIiwibWVtYmVycyIsInJvbGUiLCJST0xFUyIsIlJFR1VMQVIiLCJoZWFyUm9vbUlkIiwicm9vbUlkIiwic3BlYWtSb29tSWQiLCJtZWV0aW5nSUQiLCJ1c2VGbG9vciIsInVzZVN3aXRjaGVyIiwicmVnaXN0ZXJlZCIsImNmMSIsImNmMiIsInJvb21zIiwiZmlyc3QiLCJzZWNvbmQiLCJvcmF0b3IiLCJyb29tc0xpc3QiLCJjaGFubmVscyIsInNlbGYiLCJpc1N0YXJ0VGltZSIsInN0YXJ0U3RvcFRpbWUiLCJpc1Jlc2V0VGltZSIsImxhc3RJbnRlcnByZXRlclNlc3Npb25UaW1lIiwic3RhcnRNZWV0aW5nIiwic3RhcnRIYW5kUmFpc2VkIiwic3RhcnRTdG9wSGFuZFJhaXNlZCIsInN0YXJ0T25NaWtlcyIsInN0YXJ0U3RvcE1pa2VzIiwic2xvd1NwZWFrIiwiY29ubmVjdGVkIiwibGVuZ3RoIiwib25NZW1iZXJSZW1vdmUiLCJkZXN0cm95IiwidG9KU09OIiwidXNlciIsIm1ha2VVbmlxIiwiYWxsIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJpZCIsImZpbmQiLCJhZGQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRWUsTUFBTUEsVUFBTixTQUF5QkMsYUFBekIsQ0FBa0M7QUFDL0NDLEVBQUFBLFdBQVcsQ0FBQ0MsSUFBRCxFQUFPO0FBQ2hCLFVBQU1BLElBQU47QUFDQSxTQUFLQyxRQUFMLEdBQWdCRCxJQUFJLENBQUNFLE1BQXJCO0FBQ0EsU0FBS0MsV0FBTCxHQUFtQiw2QkFBWUgsSUFBSSxDQUFDRSxNQUFqQixDQUFuQjtBQUNBLFNBQUtFLE9BQUwsR0FBZSxFQUFmO0FBQ0EsU0FBS0MsSUFBTCxHQUFZUixVQUFVLENBQUNTLEtBQVgsQ0FBaUJDLE9BQTdCO0FBQ0EsU0FBS0MsVUFBTCxHQUFrQlIsSUFBSSxDQUFDUyxNQUF2QjtBQUNBLFNBQUtDLFdBQUwsR0FBbUJWLElBQUksQ0FBQ1MsTUFBeEI7QUFDQSxTQUFLRSxTQUFMLEdBQWlCLElBQWpCO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQixLQUFoQjtBQUNBLFNBQUtDLFdBQUwsR0FBbUIsS0FBbkI7QUFDQSxTQUFLQyxVQUFMLEdBQWtCLElBQWxCO0FBQ0EsU0FBS0MsR0FBTCxHQUFXZixJQUFJLENBQUNTLE1BQWhCO0FBQ0EsU0FBS08sR0FBTCxHQUFXLElBQVg7QUFDQSxTQUFLQyxLQUFMLEdBQWE7QUFDWEMsTUFBQUEsS0FBSyxFQUFFbEIsSUFBSSxDQUFDUyxNQUREO0FBRVhVLE1BQUFBLE1BQU0sRUFBRSxJQUZHO0FBR1hDLE1BQUFBLE1BQU0sRUFBRTtBQUhHLEtBQWI7QUFLQSxTQUFLQyxTQUFMLEdBQWlCLENBQUNyQixJQUFJLENBQUNTLE1BQU4sQ0FBakI7QUFDQSxTQUFLYSxRQUFMLEdBQWdCO0FBQ2RDLE1BQUFBLElBQUksRUFBRTtBQURRLEtBQWhCO0FBR0EsU0FBS0MsV0FBTCxHQUFpQixJQUFqQjtBQUNBLFNBQUtDLGFBQUwsR0FBb0IsSUFBcEI7QUFDQSxTQUFLQyxXQUFMLEdBQW1CLEtBQW5CO0FBQ0EsU0FBS0MsMEJBQUwsR0FBa0MsSUFBbEM7QUFDQSxTQUFLQyxZQUFMLEdBQWtCLEtBQWxCLEVBQ0EsS0FBS0MsZUFBTCxHQUF1QixJQUR2QixFQUVBLEtBQUtDLG1CQUFMLEdBQTJCLElBRjNCLEVBR0EsS0FBS0MsWUFBTCxHQUFvQixJQUhwQixFQUlBLEtBQUtDLGNBQUwsR0FBc0IsSUFKdEI7QUFLQSxTQUFLQyxTQUFMLEdBQWlCLElBQWpCO0FBQ0Q7O0FBRURDLEVBQUFBLFNBQVMsR0FBRztBQUNWLFdBQU8sS0FBSzlCLE9BQUwsQ0FBYStCLE1BQWIsR0FBc0IsQ0FBN0I7QUFDRDs7QUFFREMsRUFBQUEsY0FBYztBQUFDO0FBQWM7QUFDM0IsUUFBSSxDQUFDLEtBQUtoQyxPQUFMLENBQWErQixNQUFsQixFQUEwQixLQUFLRSxPQUFMO0FBQzNCOztBQUVEQyxFQUFBQSxNQUFNLEdBQUc7QUFDUCxXQUFPLHFCQUFxQixJQUFyQixDQUFQO0FBQ0Q7O0FBOUM4Qzs7OztnQkFBNUJ6QyxVLFNBZ0ROLEU7O2dCQWhETUEsVSxTQWtETEcsSUFBRCxJQUFVO0FBQ3JCLFFBQU11QyxJQUFJLEdBQUcsSUFBSTFDLFVBQUosQ0FBZUcsSUFBZixDQUFiO0FBQ0FILEVBQUFBLFVBQVUsQ0FBQzJDLFFBQVgsQ0FBb0JELElBQXBCO0FBQ0ExQyxFQUFBQSxVQUFVLENBQUM0QyxHQUFYLENBQWVDLElBQWYsQ0FBb0JILElBQXBCO0FBQ0FJLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLHNCQUFxQkwsSUFBSSxDQUFDTSxFQUFHLEVBQTFDO0FBQ0EsU0FBT04sSUFBUDtBQUNELEM7O2dCQXhEa0IxQyxVLGtCQTBESUcsSUFBRCxJQUFVO0FBQzlCLFFBQU11QyxJQUFJLEdBQUcxQyxVQUFVLENBQUNpRCxJQUFYLENBQWdCOUMsSUFBSSxDQUFDRSxNQUFyQixDQUFiO0FBQ0EsTUFBSXFDLElBQUosRUFBVSxPQUFPQSxJQUFQO0FBQ1YsU0FBTzFDLFVBQVUsQ0FBQ2tELEdBQVgsQ0FBZS9DLElBQWYsQ0FBUDtBQUNELEMiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvd2VicGhvbmUtbm9kZS9zcmMvbW9kZWxzL3VzZXIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VVc2VyIGZyb20gJy4vYmFzZSdcbmltcG9ydCBSZW1vdGVVc2VyU2VyaWFsaXplciBmcm9tICcuLi8uLi9zZXJpYWxpemVycy91c2VyL3JlbW90ZSdcbmltcG9ydCB7IGRpc3BsYXlOYW1lIH0gZnJvbSAnLi4vLi4vaGVscGVycy91c2VySGVscGVyJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW1vdGVVc2VyIGV4dGVuZHMgQmFzZVVzZXIge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgc3VwZXIoZGF0YSlcbiAgICB0aGlzLnVzZXJuYW1lID0gZGF0YS5uYW1lSWRcbiAgICB0aGlzLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWUoZGF0YS5uYW1lSWQpXG4gICAgdGhpcy5tZW1iZXJzID0gW11cbiAgICB0aGlzLnJvbGUgPSBSZW1vdGVVc2VyLlJPTEVTLlJFR1VMQVJcbiAgICB0aGlzLmhlYXJSb29tSWQgPSBkYXRhLnJvb21JZFxuICAgIHRoaXMuc3BlYWtSb29tSWQgPSBkYXRhLnJvb21JZFxuICAgIHRoaXMubWVldGluZ0lEID0gbnVsbFxuICAgIHRoaXMudXNlRmxvb3IgPSBmYWxzZVxuICAgIHRoaXMudXNlU3dpdGNoZXIgPSBmYWxzZVxuICAgIHRoaXMucmVnaXN0ZXJlZCA9IHRydWVcbiAgICB0aGlzLmNmMSA9IGRhdGEucm9vbUlkXG4gICAgdGhpcy5jZjIgPSBudWxsXG4gICAgdGhpcy5yb29tcyA9IHtcbiAgICAgIGZpcnN0OiBkYXRhLnJvb21JZCxcbiAgICAgIHNlY29uZDogbnVsbCxcbiAgICAgIG9yYXRvcjogbnVsbFxuICAgIH1cbiAgICB0aGlzLnJvb21zTGlzdCA9IFtkYXRhLnJvb21JZF1cbiAgICB0aGlzLmNoYW5uZWxzID0ge1xuICAgICAgc2VsZjogJ19fcmVtb3RlX18nXG4gICAgfVxuICAgIHRoaXMuaXNTdGFydFRpbWU9dHJ1ZVxuICAgIHRoaXMuc3RhcnRTdG9wVGltZT0gbnVsbFxuICAgIHRoaXMuaXNSZXNldFRpbWUgPSBmYWxzZVxuICAgIHRoaXMubGFzdEludGVycHJldGVyU2Vzc2lvblRpbWUgPSBudWxsXG4gICAgdGhpcy5zdGFydE1lZXRpbmc9ZmFsc2UsXG4gICAgdGhpcy5zdGFydEhhbmRSYWlzZWQgPSB0cnVlLFxuICAgIHRoaXMuc3RhcnRTdG9wSGFuZFJhaXNlZCA9IG51bGwsXG4gICAgdGhpcy5zdGFydE9uTWlrZXMgPSB0cnVlLFxuICAgIHRoaXMuc3RhcnRTdG9wTWlrZXMgPSBudWxsXG4gICAgdGhpcy5zbG93U3BlYWsgPSBudWxsXG4gIH1cblxuICBjb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMubWVtYmVycy5sZW5ndGggPiAxXG4gIH1cblxuICBvbk1lbWJlclJlbW92ZSgvKiBtZW1iZXIgKi8pIHtcbiAgICBpZiAoIXRoaXMubWVtYmVycy5sZW5ndGgpIHRoaXMuZGVzdHJveSgpXG4gIH1cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIFJlbW90ZVVzZXJTZXJpYWxpemVyKHRoaXMpXG4gIH1cblxuICBzdGF0aWMgYWxsID0gW11cblxuICBzdGF0aWMgYWRkID0gKGRhdGEpID0+IHtcbiAgICBjb25zdCB1c2VyID0gbmV3IFJlbW90ZVVzZXIoZGF0YSlcbiAgICBSZW1vdGVVc2VyLm1ha2VVbmlxKHVzZXIpXG4gICAgUmVtb3RlVXNlci5hbGwucHVzaCh1c2VyKVxuICAgIGNvbnNvbGUubG9nKGBDcmVhdGUgcmVtb3RlIHVzZXIgJHt1c2VyLmlkfWApXG4gICAgcmV0dXJuIHVzZXJcbiAgfVxuXG4gIHN0YXRpYyBmaW5kT3JDcmVhdGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBSZW1vdGVVc2VyLmZpbmQoZGF0YS5uYW1lSWQpXG4gICAgaWYgKHVzZXIpIHJldHVybiB1c2VyXG4gICAgcmV0dXJuIFJlbW90ZVVzZXIuYWRkKGRhdGEpXG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "remote.js"
      ],
      "names": [
        "RemoteUser",
        "BaseUser",
        "constructor",
        "data",
        "username",
        "nameId",
        "displayName",
        "members",
        "role",
        "ROLES",
        "REGULAR",
        "hearRoomId",
        "roomId",
        "speakRoomId",
        "meetingID",
        "useFloor",
        "useSwitcher",
        "registered",
        "cf1",
        "cf2",
        "rooms",
        "first",
        "second",
        "orator",
        "roomsList",
        "channels",
        "self",
        "isStartTime",
        "startStopTime",
        "isResetTime",
        "lastInterpreterSessionTime",
        "startMeeting",
        "startHandRaised",
        "startStopHandRaised",
        "startOnMikes",
        "startStopMikes",
        "slowSpeak",
        "connected",
        "length",
        "onMemberRemove",
        "destroy",
        "toJSON",
        "user",
        "makeUniq",
        "all",
        "push",
        "console",
        "log",
        "id",
        "find",
        "add"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;;;AAEe,MAAMA,UAAN,SAAyBC,aAAzB,CAAkC;AAC/CC,EAAAA,WAAW,CAACC,IAAD,EAAO;AAChB,UAAMA,IAAN;AACA,SAAKC,QAAL,GAAgBD,IAAI,CAACE,MAArB;AACA,SAAKC,WAAL,GAAmB,6BAAYH,IAAI,CAACE,MAAjB,CAAnB;AACA,SAAKE,OAAL,GAAe,EAAf;AACA,SAAKC,IAAL,GAAYR,UAAU,CAACS,KAAX,CAAiBC,OAA7B;AACA,SAAKC,UAAL,GAAkBR,IAAI,CAACS,MAAvB;AACA,SAAKC,WAAL,GAAmBV,IAAI,CAACS,MAAxB;AACA,SAAKE,SAAL,GAAiB,IAAjB;AACA,SAAKC,QAAL,GAAgB,KAAhB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,UAAL,GAAkB,IAAlB;AACA,SAAKC,GAAL,GAAWf,IAAI,CAACS,MAAhB;AACA,SAAKO,GAAL,GAAW,IAAX;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAElB,IAAI,CAACS,MADD;AAEXU,MAAAA,MAAM,EAAE,IAFG;AAGXC,MAAAA,MAAM,EAAE;AAHG,KAAb;AAKA,SAAKC,SAAL,GAAiB,CAACrB,IAAI,CAACS,MAAN,CAAjB;AACA,SAAKa,QAAL,GAAgB;AACdC,MAAAA,IAAI,EAAE;AADQ,KAAhB;AAGA,SAAKC,WAAL,GAAiB,IAAjB;AACA,SAAKC,aAAL,GAAoB,IAApB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,0BAAL,GAAkC,IAAlC;AACA,SAAKC,YAAL,GAAkB,KAAlB,EACA,KAAKC,eAAL,GAAuB,IADvB,EAEA,KAAKC,mBAAL,GAA2B,IAF3B,EAGA,KAAKC,YAAL,GAAoB,IAHpB,EAIA,KAAKC,cAAL,GAAsB,IAJtB;AAKA,SAAKC,SAAL,GAAiB,IAAjB;AACD;;AAEDC,EAAAA,SAAS,GAAG;AACV,WAAO,KAAK9B,OAAL,CAAa+B,MAAb,GAAsB,CAA7B;AACD;;AAEDC,EAAAA,cAAc;AAAC;AAAc;AAC3B,QAAI,CAAC,KAAKhC,OAAL,CAAa+B,MAAlB,EAA0B,KAAKE,OAAL;AAC3B;;AAEDC,EAAAA,MAAM,GAAG;AACP,WAAO,qBAAqB,IAArB,CAAP;AACD;;AA9C8C;;;;gBAA5BzC,U,SAgDN,E;;gBAhDMA,U,SAkDLG,IAAD,IAAU;AACrB,QAAMuC,IAAI,GAAG,IAAI1C,UAAJ,CAAeG,IAAf,CAAb;AACAH,EAAAA,UAAU,CAAC2C,QAAX,CAAoBD,IAApB;AACA1C,EAAAA,UAAU,CAAC4C,GAAX,CAAeC,IAAf,CAAoBH,IAApB;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAa,sBAAqBL,IAAI,CAACM,EAAG,EAA1C;AACA,SAAON,IAAP;AACD,C;;gBAxDkB1C,U,kBA0DIG,IAAD,IAAU;AAC9B,QAAMuC,IAAI,GAAG1C,UAAU,CAACiD,IAAX,CAAgB9C,IAAI,CAACE,MAArB,CAAb;AACA,MAAIqC,IAAJ,EAAU,OAAOA,IAAP;AACV,SAAO1C,UAAU,CAACkD,GAAX,CAAe/C,IAAf,CAAP;AACD,C",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
      "sourcesContent": [
        "import BaseUser from './base'\nimport RemoteUserSerializer from '../../serializers/user/remote'\nimport { displayName } from '../../helpers/userHelper'\n\nexport default class RemoteUser extends BaseUser {\n  constructor(data) {\n    super(data)\n    this.username = data.nameId\n    this.displayName = displayName(data.nameId)\n    this.members = []\n    this.role = RemoteUser.ROLES.REGULAR\n    this.hearRoomId = data.roomId\n    this.speakRoomId = data.roomId\n    this.meetingID = null\n    this.useFloor = false\n    this.useSwitcher = false\n    this.registered = true\n    this.cf1 = data.roomId\n    this.cf2 = null\n    this.rooms = {\n      first: data.roomId,\n      second: null,\n      orator: null\n    }\n    this.roomsList = [data.roomId]\n    this.channels = {\n      self: '__remote__'\n    }\n    this.isStartTime=true\n    this.startStopTime= null\n    this.isResetTime = false\n    this.lastInterpreterSessionTime = null\n    this.startMeeting=false,\n    this.startHandRaised = true,\n    this.startStopHandRaised = null,\n    this.startOnMikes = true,\n    this.startStopMikes = null\n    this.slowSpeak = null\n  }\n\n  connected() {\n    return this.members.length > 1\n  }\n\n  onMemberRemove(/* member */) {\n    if (!this.members.length) this.destroy()\n  }\n\n  toJSON() {\n    return RemoteUserSerializer(this)\n  }\n\n  static all = []\n\n  static add = (data) => {\n    const user = new RemoteUser(data)\n    RemoteUser.makeUniq(user)\n    RemoteUser.all.push(user)\n    console.log(`Create remote user ${user.id}`)\n    return user\n  }\n\n  static findOrCreate = (data) => {\n    const user = RemoteUser.find(data.nameId)\n    if (user) return user\n    return RemoteUser.add(data)\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/base.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/base.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/base.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/base.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
        "sourceFileName": "base.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _record = _interopRequireDefault(require(\"../record\"));\n\nvar _socket = _interopRequireWildcard(require(\"../../socket\"));\n\nvar _index = _interopRequireWildcard(require(\"./index\"));\n\nvar _userHelper = require(\"../../helpers/userHelper\");\n\nvar _config = _interopRequireDefault(require(\"../../../config\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nlet id = 0;\n\nclass BaseUser extends _record.default {\n  constructor(data) {\n    super(data);\n    this.id = ++id;\n    this.userState = {\n      mediaSettings: {},\n      debugInfo: {\n        browserData: {},\n        errors: [],\n        janusLog: [],\n        turnStun: []\n      },\n      activeChannel: _socket.default.PUBLIC_CHANNEL\n    };\n    this.role = 'regular';\n  }\n\n  isModerator() {\n    return this.role === BaseUser.ROLES.INTERPRETER;\n  }\n\n  isRegular() {\n    return this.role === BaseUser.ROLES.REGULAR;\n  }\n\n  isTechAssistant() {\n    var _this$usernameInput;\n\n    return !!((_this$usernameInput = this.usernameInput) !== null && _this$usernameInput !== void 0 && _this$usernameInput.match(/^_ibp_techassist/));\n  }\n\n  isAdministrator() {\n    return !!this.isModeratorEndUser;\n  }\n\n  isSwitcher() {\n    return this.role === BaseUser.ROLES.SWITCHER;\n  }\n\n  isHear() {\n    return !!this.members.find(m => m.hear);\n  }\n\n  isSpeak() {\n    return !!this.members.find(m => m.speak);\n  }\n\n  shortName() {\n    return (0, _userHelper.shortName)(this.displayName);\n  }\n\n  destroy() {\n    let memberIndex = this.members.length - 1;\n\n    while (memberIndex >= 0) {\n      const member = this.members[memberIndex];\n      member.destroy();\n      memberIndex -= 1;\n    }\n\n    const index = this.constructor.all.indexOf(this);\n\n    if (index !== -1) {\n      this.constructor.all.splice(index, 1);\n      console.log('Destroy user', this.id);\n    }\n\n    _socket.AdminSender.removeUser(this.id);\n  }\n\n  memberByRoomId(roomId) {\n    return this.members.find(m => m.roomId === roomId);\n  }\n\n  removeMember(member) {\n    const index = this.members.findIndex(m => m.id === member.id);\n    if (index === -1) return;\n    this.members.splice(index, 1);\n    this.onMemberRemove(member);\n  }\n\n  onMemberAdd()\n  /* member */\n  {// overwrite in inherited class\n  }\n\n  onMemberRemove()\n  /* member */\n  {// overwrite in inherited class\n  }\n\n  static makeUniq(user) {\n    if (user.browserID) {\n      // make only one tab opened with the same browserID\n      _index.default.all.filter(u => u.browserID === user.browserID && u.id !== user.id).forEach(u => _socket.Sender.closeWindow(u.channels.self));\n    }\n\n    if (user.isSwitcher()) {\n      // allow one switcher per meeting\n      const swithcers = _index.default.all.filter(u => u.meetingID === user.meetingID && u.role === BaseUser.ROLES.SWITCHER && u.id !== user.id);\n\n      swithcers.forEach(sw => sw.destroy());\n    }\n\n    const oldUser = this.find({\n      username: user.username\n    });\n    if (!oldUser) return;\n\n    if (oldUser.client) {\n      _socket.Sender.closeWindow(oldUser.channels.self);\n    } else {\n      oldUser.destroy();\n    }\n  }\n\n  static onRegister() {// overwrite in inherited class\n  }\n\n  static addMember(member) {\n    const {\n      nameId,\n      roomId\n    } = member;\n\n    let user = _index.default.find({\n      username: nameId\n    });\n\n    if (!user) user = _index.RemoteUser.findOrCreate({\n      nameId,\n      roomId\n    });\n    member.user = user;\n    user.members.push(member);\n    user.onMemberAdd(member);\n  }\n\n}\n\nexports.default = BaseUser;\n\n_defineProperty(BaseUser, \"ROLES\", {\n  INTERPRETER: 'interpreter',\n  MODERATOR: 'moderator',\n  REGULAR: 'regular',\n  TECH_ASSISTANT: 'tech_assistant',\n  SWITCHER: 'switcher'\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2UuanMiXSwibmFtZXMiOlsiaWQiLCJCYXNlVXNlciIsIlJlY29yZCIsImNvbnN0cnVjdG9yIiwiZGF0YSIsInVzZXJTdGF0ZSIsIm1lZGlhU2V0dGluZ3MiLCJkZWJ1Z0luZm8iLCJicm93c2VyRGF0YSIsImVycm9ycyIsImphbnVzTG9nIiwidHVyblN0dW4iLCJhY3RpdmVDaGFubmVsIiwiU29ja2V0IiwiUFVCTElDX0NIQU5ORUwiLCJyb2xlIiwiaXNNb2RlcmF0b3IiLCJST0xFUyIsIklOVEVSUFJFVEVSIiwiaXNSZWd1bGFyIiwiUkVHVUxBUiIsImlzVGVjaEFzc2lzdGFudCIsInVzZXJuYW1lSW5wdXQiLCJtYXRjaCIsImlzQWRtaW5pc3RyYXRvciIsImlzTW9kZXJhdG9yRW5kVXNlciIsImlzU3dpdGNoZXIiLCJTV0lUQ0hFUiIsImlzSGVhciIsIm1lbWJlcnMiLCJmaW5kIiwibSIsImhlYXIiLCJpc1NwZWFrIiwic3BlYWsiLCJzaG9ydE5hbWUiLCJkaXNwbGF5TmFtZSIsImRlc3Ryb3kiLCJtZW1iZXJJbmRleCIsImxlbmd0aCIsIm1lbWJlciIsImluZGV4IiwiYWxsIiwiaW5kZXhPZiIsInNwbGljZSIsImNvbnNvbGUiLCJsb2ciLCJBZG1pblNlbmRlciIsInJlbW92ZVVzZXIiLCJtZW1iZXJCeVJvb21JZCIsInJvb21JZCIsInJlbW92ZU1lbWJlciIsImZpbmRJbmRleCIsIm9uTWVtYmVyUmVtb3ZlIiwib25NZW1iZXJBZGQiLCJtYWtlVW5pcSIsInVzZXIiLCJicm93c2VySUQiLCJVc2VyIiwiZmlsdGVyIiwidSIsImZvckVhY2giLCJTZW5kZXIiLCJjbG9zZVdpbmRvdyIsImNoYW5uZWxzIiwic2VsZiIsInN3aXRoY2VycyIsIm1lZXRpbmdJRCIsInN3Iiwib2xkVXNlciIsInVzZXJuYW1lIiwiY2xpZW50Iiwib25SZWdpc3RlciIsImFkZE1lbWJlciIsIm5hbWVJZCIsIlJlbW90ZVVzZXIiLCJmaW5kT3JDcmVhdGUiLCJwdXNoIiwi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QURBO0FBRWI0RCxFQUFBQSxTQUFTLEVBQUUsV0FGRTtBQUdiMUQsRUFBQUEsT0FBTyxFQUFFLFNBSEk7QUFJYjJELEVBQUFBLGNBQWMsRUFBRSxnQkFKSDtBQUticEQsRUFBQUEsUUFBUSxFQUFFO0FBTEcsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9tb2RlbHMvdXNlci8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVjb3JkIGZyb20gJy4uL3JlY29yZCdcbmltcG9ydCBTb2NrZXQsIHsgU2VuZGVyLCBBZG1pblNlbmRlciB9IGZyb20gJy4uLy4uL3NvY2tldCdcbmltcG9ydCBVc2VyLCB7IFJlbW90ZVVzZXIgfSBmcm9tICcuL2luZGV4J1xuaW1wb3J0IHsgc2hvcnROYW1lIH0gZnJvbSAnLi4vLi4vaGVscGVycy91c2VySGVscGVyJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi8uLi8uLi9jb25maWcnXG5cbmxldCBpZCA9IDBcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZVVzZXIgZXh0ZW5kcyBSZWNvcmQge1xuICBzdGF0aWMgUk9MRVMgPSB7XG4gICAgSU5URVJQUkVURVI6ICdpbnRlcnByZXRlcicsXG4gICAgTU9ERVJBVE9SOiAnbW9kZXJhdG9yJyxcbiAgICBSRUdVTEFSOiAncmVndWxhcicsXG4gICAgVEVDSF9BU1NJU1RBTlQ6ICd0ZWNoX2Fzc2lzdGFudCcsXG4gICAgU1dJVENIRVI6ICdzd2l0Y2hlcicsXG4gIH07XG5cbiAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgIHN1cGVyKGRhdGEpXG4gICAgdGhpcy5pZCA9ICsraWRcbiAgICB0aGlzLnVzZXJTdGF0ZSA9IHsgbWVkaWFTZXR0aW5nczoge30sIGRlYnVnSW5mbzogeyBicm93c2VyRGF0YToge30sIGVycm9yczogW10sIGphbnVzTG9nOiBbXSwgdHVyblN0dW46IFtdIH0sIGFjdGl2ZUNoYW5uZWw6IFNvY2tldC5QVUJMSUNfQ0hBTk5FTCB9XG4gICAgdGhpcy5yb2xlID0gJ3JlZ3VsYXInXG4gIH1cblxuICBpc01vZGVyYXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy5yb2xlID09PSBCYXNlVXNlci5ST0xFUy5JTlRFUlBSRVRFUlxuICB9XG5cbiAgaXNSZWd1bGFyKCkge1xuICAgIHJldHVybiB0aGlzLnJvbGUgPT09IEJhc2VVc2VyLlJPTEVTLlJFR1VMQVJcbiAgfVxuXG4gIGlzVGVjaEFzc2lzdGFudCgpIHtcbiAgICByZXR1cm4gISF0aGlzLnVzZXJuYW1lSW5wdXQ/Lm1hdGNoKC9eX2licF90ZWNoYXNzaXN0LylcbiAgfVxuXG4gIGlzQWRtaW5pc3RyYXRvcigpIHtcbiAgICByZXR1cm4gISF0aGlzLmlzTW9kZXJhdG9yRW5kVXNlclxuICB9XG5cbiAgaXNTd2l0Y2hlcigpIHtcbiAgICByZXR1cm4gdGhpcy5yb2xlID09PSBCYXNlVXNlci5ST0xFUy5TV0lUQ0hFUlxuICB9XG5cbiAgaXNIZWFyKCkge1xuICAgIHJldHVybiAhIXRoaXMubWVtYmVycy5maW5kKG0gPT4gbS5oZWFyKVxuICB9XG5cbiAgaXNTcGVhaygpIHtcbiAgICByZXR1cm4gISF0aGlzLm1lbWJlcnMuZmluZChtID0+IG0uc3BlYWspXG4gIH1cblxuICBzaG9ydE5hbWUoKSB7XG4gICAgcmV0dXJuIHNob3J0TmFtZSh0aGlzLmRpc3BsYXlOYW1lKVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBsZXQgbWVtYmVySW5kZXggPSB0aGlzLm1lbWJlcnMubGVuZ3RoIC0gMVxuICAgIHdoaWxlIChtZW1iZXJJbmRleCA+PSAwKSB7XG4gICAgICBjb25zdCBtZW1iZXIgPSB0aGlzLm1lbWJlcnNbbWVtYmVySW5kZXhdXG4gICAgICBtZW1iZXIuZGVzdHJveSgpXG4gICAgICBtZW1iZXJJbmRleCAtPSAxXG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jb25zdHJ1Y3Rvci5hbGwuaW5kZXhPZih0aGlzKVxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuY29uc3RydWN0b3IuYWxsLnNwbGljZShpbmRleCwgMSlcbiAgICAgIGNvbnNvbGUubG9nKCdEZXN0cm95IHVzZXInLCB0aGlzLmlkKVxuICAgIH1cbiAgICBBZG1pblNlbmRlci5yZW1vdmVVc2VyKHRoaXMuaWQpXG4gIH1cblxuICBtZW1iZXJCeVJvb21JZChyb29tSWQpIHtcbiAgICByZXR1cm4gdGhpcy5tZW1iZXJzLmZpbmQobSA9PiBtLnJvb21JZCA9PT0gcm9vbUlkKVxuICB9XG5cbiAgcmVtb3ZlTWVtYmVyKG1lbWJlcikge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5tZW1iZXJzLmZpbmRJbmRleChtID0+IG0uaWQgPT09IG1lbWJlci5pZClcbiAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm5cblxuICAgIHRoaXMubWVtYmVycy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgdGhpcy5vbk1lbWJlclJlbW92ZShtZW1iZXIpXG4gIH1cblxuICBvbk1lbWJlckFkZCgvKiBtZW1iZXIgKi8pIHtcbiAgICAvLyBvdmVyd3JpdGUgaW4gaW5oZXJpdGVkIGNsYXNzXG4gIH1cblxuICBvbk1lbWJlclJlbW92ZSgvKiBtZW1iZXIgKi8pIHtcbiAgICAvLyBvdmVyd3JpdGUgaW4gaW5oZXJpdGVkIGNsYXNzXG4gIH1cblxuICBzdGF0aWMgbWFrZVVuaXEodXNlcikge1xuICAgIGlmICh1c2VyLmJyb3dzZXJJRCkgeyAvLyBtYWtlIG9ubHkgb25lIHRhYiBvcGVuZWQgd2l0aCB0aGUgc2FtZSBicm93c2VySURcbiAgICAgIFVzZXIuYWxsXG4gICAgICAgIC5maWx0ZXIodSA9PiB1LmJyb3dzZXJJRCA9PT0gdXNlci5icm93c2VySUQgJiYgdS5pZCAhPT0gdXNlci5pZClcbiAgICAgICAgLmZvckVhY2godSA9PiBTZW5kZXIuY2xvc2VXaW5kb3codS5jaGFubmVscy5zZWxmKSlcbiAgICB9XG5cbiAgICBpZiAodXNlci5pc1N3aXRjaGVyKCkpIHtcbiAgICAgIC8vIGFsbG93IG9uZSBzd2l0Y2hlciBwZXIgbWVldGluZ1xuICAgICAgY29uc3Qgc3dpdGhjZXJzID0gVXNlci5hbGwuZmlsdGVyKHUgPT4gdS5tZWV0aW5nSUQgPT09IHVzZXIubWVldGluZ0lEICYmIHUucm9sZSA9PT0gQmFzZVVzZXIuUk9MRVMuU1dJVENIRVIgJiYgdS5pZCAhPT0gdXNlci5pZClcbiAgICAgIHN3aXRoY2Vycy5mb3JFYWNoKHN3ID0+IHN3LmRlc3Ryb3koKSlcbiAgICB9XG5cbiAgICBjb25zdCBvbGRVc2VyID0gdGhpcy5maW5kKHsgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUgfSlcbiAgICBpZiAoIW9sZFVzZXIpIHJldHVyblxuXG4gICAgaWYgKG9sZFVzZXIuY2xpZW50KSB7XG4gICAgICBTZW5kZXIuY2xvc2VXaW5kb3cob2xkVXNlci5jaGFubmVscy5zZWxmKVxuICAgIH0gZWxzZSB7XG4gICAgICBvbGRVc2VyLmRlc3Ryb3koKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBvblJlZ2lzdGVyKCkge1xuICAgIC8vIG92ZXJ3cml0ZSBpbiBpbmhlcml0ZWQgY2xhc3NcbiAgfVxuXG4gIHN0YXRpYyBhZGRNZW1iZXIobWVtYmVyKSB7XG4gICAgY29uc3QgeyBuYW1lSWQsIHJvb21JZCB9ID0gbWVtYmVyXG4gICAgbGV0IHVzZXIgPSBVc2VyLmZpbmQoeyB1c2VybmFtZTogbmFtZUlkIH0pXG4gICAgaWYgKCF1c2VyKSB1c2VyID0gUmVtb3RlVXNlci5maW5kT3JDcmVhdGUoeyBuYW1lSWQsIHJvb21JZCB9KVxuXG4gICAgbWVtYmVyLnVzZXIgPSB1c2VyXG4gICAgdXNlci5tZW1iZXJzLnB1c2gobWVtYmVyKVxuICAgIHVzZXIub25NZW1iZXJBZGQobWVtYmVyKVxuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "base.js"
      ],
      "names": [
        "id",
        "BaseUser",
        "Record",
        "constructor",
        "data",
        "userState",
        "mediaSettings",
        "debugInfo",
        "browserData",
        "errors",
        "janusLog",
        "turnStun",
        "activeChannel",
        "Socket",
        "PUBLIC_CHANNEL",
        "role",
        "isModerator",
        "ROLES",
        "INTERPRETER",
        "isRegular",
        "REGULAR",
        "isTechAssistant",
        "usernameInput",
        "match",
        "isAdministrator",
        "isModeratorEndUser",
        "isSwitcher",
        "SWITCHER",
        "isHear",
        "members",
        "find",
        "m",
        "hear",
        "isSpeak",
        "speak",
        "shortName",
        "displayName",
        "destroy",
        "memberIndex",
        "length",
        "member",
        "index",
        "all",
        "indexOf",
        "splice",
        "console",
        "log",
        "AdminSender",
        "removeUser",
        "memberByRoomId",
        "roomId",
        "removeMember",
        "findIndex",
        "onMemberRemove",
        "onMemberAdd",
        "makeUniq",
        "user",
        "browserID",
        "User",
        "filter",
        "u",
        "forEach",
        "Sender",
        "closeWindow",
        "channels",
        "self",
        "swithcers",
        "meetingID",
        "sw",
        "oldUser",
        "username",
        "client",
        "onRegister",
        "addMember",
        "nameId",
        "RemoteUser",
        "findOrCreate",
        "push",
        "MODERATOR",
        "TECH_ASSISTANT"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/models/user/",
      "sourcesContent": [
        "import Record from '../record'\nimport Socket, { Sender, AdminSender } from '../../socket'\nimport User, { RemoteUser } from './index'\nimport { shortName } from '../../helpers/userHelper'\nimport config from '../../../config'\n\nlet id = 0\n\nexport default class BaseUser extends Record {\n  static ROLES = {\n    INTERPRETER: 'interpreter',\n    MODERATOR: 'moderator',\n    REGULAR: 'regular',\n    TECH_ASSISTANT: 'tech_assistant',\n    SWITCHER: 'switcher',\n  };\n\n  constructor(data) {\n    super(data)\n    this.id = ++id\n    this.userState = { mediaSettings: {}, debugInfo: { browserData: {}, errors: [], janusLog: [], turnStun: [] }, activeChannel: Socket.PUBLIC_CHANNEL }\n    this.role = 'regular'\n  }\n\n  isModerator() {\n    return this.role === BaseUser.ROLES.INTERPRETER\n  }\n\n  isRegular() {\n    return this.role === BaseUser.ROLES.REGULAR\n  }\n\n  isTechAssistant() {\n    return !!this.usernameInput?.match(/^_ibp_techassist/)\n  }\n\n  isAdministrator() {\n    return !!this.isModeratorEndUser\n  }\n\n  isSwitcher() {\n    return this.role === BaseUser.ROLES.SWITCHER\n  }\n\n  isHear() {\n    return !!this.members.find(m => m.hear)\n  }\n\n  isSpeak() {\n    return !!this.members.find(m => m.speak)\n  }\n\n  shortName() {\n    return shortName(this.displayName)\n  }\n\n  destroy() {\n    let memberIndex = this.members.length - 1\n    while (memberIndex >= 0) {\n      const member = this.members[memberIndex]\n      member.destroy()\n      memberIndex -= 1\n    }\n    const index = this.constructor.all.indexOf(this)\n    if (index !== -1) {\n      this.constructor.all.splice(index, 1)\n      console.log('Destroy user', this.id)\n    }\n    AdminSender.removeUser(this.id)\n  }\n\n  memberByRoomId(roomId) {\n    return this.members.find(m => m.roomId === roomId)\n  }\n\n  removeMember(member) {\n    const index = this.members.findIndex(m => m.id === member.id)\n    if (index === -1) return\n\n    this.members.splice(index, 1)\n    this.onMemberRemove(member)\n  }\n\n  onMemberAdd(/* member */) {\n    // overwrite in inherited class\n  }\n\n  onMemberRemove(/* member */) {\n    // overwrite in inherited class\n  }\n\n  static makeUniq(user) {\n    if (user.browserID) { // make only one tab opened with the same browserID\n      User.all\n        .filter(u => u.browserID === user.browserID && u.id !== user.id)\n        .forEach(u => Sender.closeWindow(u.channels.self))\n    }\n\n    if (user.isSwitcher()) {\n      // allow one switcher per meeting\n      const swithcers = User.all.filter(u => u.meetingID === user.meetingID && u.role === BaseUser.ROLES.SWITCHER && u.id !== user.id)\n      swithcers.forEach(sw => sw.destroy())\n    }\n\n    const oldUser = this.find({ username: user.username })\n    if (!oldUser) return\n\n    if (oldUser.client) {\n      Sender.closeWindow(oldUser.channels.self)\n    } else {\n      oldUser.destroy()\n    }\n  }\n\n  static onRegister() {\n    // overwrite in inherited class\n  }\n\n  static addMember(member) {\n    const { nameId, roomId } = member\n    let user = User.find({ username: nameId })\n    if (!user) user = RemoteUser.findOrCreate({ nameId, roomId })\n\n    member.user = user\n    user.members.push(member)\n    user.onMemberAdd(member)\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Admin\", {\n  enumerable: true,\n  get: function () {\n    return _admin.default;\n  }\n});\nObject.defineProperty(exports, \"AdminSender\", {\n  enumerable: true,\n  get: function () {\n    return _admin.AdminSender;\n  }\n});\nObject.defineProperty(exports, \"Client\", {\n  enumerable: true,\n  get: function () {\n    return _client.default;\n  }\n});\nObject.defineProperty(exports, \"Sender\", {\n  enumerable: true,\n  get: function () {\n    return _client.Sender;\n  }\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _socket.default;\n  }\n});\n\nvar _admin = _interopRequireWildcard(require(\"./admin\"));\n\nvar _client = _interopRequireWildcard(require(\"./client\"));\n\nvar _socket = _interopRequireDefault(require(\"./socket\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3dlYnBob25lLW5vZGUvc3JjL3NvY2tldC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQWRtaW4sIHsgQWRtaW5TZW5kZXIgfSBmcm9tICcuL2FkbWluJ1xuaW1wb3J0IENsaWVudCwgeyBTZW5kZXIgfSBmcm9tICcuL2NsaWVudCdcblxuZXhwb3J0IHsgQ2xpZW50LCBBZG1pbiwgU2VuZGVyLCBBZG1pblNlbmRlciB9XG5leHBvcnQgZGVmYXVsdCBmcm9tICcuL3NvY2tldCdcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/",
      "sourcesContent": [
        "import Admin, { AdminSender } from './admin'\nimport Client, { Sender } from './client'\n\nexport { Client, Admin, Sender, AdminSender }\nexport default from './socket'\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _admin.default;\n  }\n});\nexports.AdminSender = void 0;\n\nvar AdminSender = _interopRequireWildcard(require(\"./sender\"));\n\nexports.AdminSender = AdminSender;\n\nvar _admin = _interopRequireDefault(require(\"./admin\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9zb2NrZXQvYWRtaW4vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQWRtaW5TZW5kZXIgZnJvbSAnLi9zZW5kZXInXG5cbmV4cG9ydCB7IEFkbWluU2VuZGVyIH1cbmV4cG9ydCBkZWZhdWx0IGZyb20gJy4vYWRtaW4nXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;AAAA",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
      "sourcesContent": [
        "import * as AdminSender from './sender'\n\nexport { AdminSender }\nexport default from './admin'\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  },
  "{\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/sender.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/webphone-node\",\"plugins\":[{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/webphone-node",
      "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/sender.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/webphone-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/sender.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/sender.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
        "sourceFileName": "sender.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.informChangeOnMediaSettings = exports.bbbOff = exports.bbbOn = exports.adjustments = exports.removeUser = void 0;\n\nvar _admin = _interopRequireDefault(require(\"./admin\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst removeUser = data => {\n  _admin.default.broadcast(_admin.default.ADMIN_REMOVE_USER, data);\n};\n\nexports.removeUser = removeUser;\n\nconst adjustments = data => {\n  _admin.default.broadcast(_admin.default.ALL_ADJUSTMENTS, data);\n};\n\nexports.adjustments = adjustments;\n\nconst bbbOn = data => {\n  _admin.default.broadcast(_admin.default.BBB_ON, data);\n};\n\nexports.bbbOn = bbbOn;\n\nconst bbbOff = data => {\n  _admin.default.broadcast(_admin.default.BBB_OFF, data);\n};\n\nexports.bbbOff = bbbOff;\n\nconst informChangeOnMediaSettings = (id, mediaSettings) => {\n  _admin.default.broadcast(_admin.default.MEDIASETTINGS_CHANGE, {\n    userId: id,\n    mediaSettings\n  });\n};\n\nexports.informChangeOnMediaSettings = informChangeOnMediaSettings;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlbmRlci5qcyJdLCJuYW1lcyI6WyJyZW1vdmVVc2VyIiwiZGF0YSIsIkFkbWluIiwiYnJvYWRjYXN0IiwiQURNSU5fUkVNT1ZFX1VTRVIiLCJhZGp1c3RtZW50cyIsIkFMTF9BREpVU1RNRU5UUyIsImJiYk9uIiwiQkJCX09OIiwiYmJiT2ZmIiwiQkJCX09GRiIsImluZm9ybUNoYW5nZU9uTWVkaWFTZXR0aW5ncyIsImlkIiwibWVkaWFTZXR0aW5ncyIsIk1FRElBU0VUVElOR1NfQ0hBTkdFIiwidXNlcklkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFTyxNQUFNQSxVQUFVLEdBQUlDLElBQUQsSUFBVTtBQUNsQ0MsaUJBQU1DLFNBQU4sQ0FBZ0JELGVBQU1FLGlCQUF0QixFQUF5Q0gsSUFBekM7QUFDRCxDQUZNOzs7O0FBSUEsTUFBTUksV0FBVyxHQUFJSixJQUFELElBQVU7QUFDbkNDLGlCQUFNQyxTQUFOLENBQWdCRCxlQUFNSSxlQUF0QixFQUF1Q0wsSUFBdkM7QUFDRCxDQUZNOzs7O0FBSUEsTUFBTU0sS0FBSyxHQUFJTixJQUFELElBQVU7QUFDN0JDLGlCQUFNQyxTQUFOLENBQWdCRCxlQUFNTSxNQUF0QixFQUE4QlAsSUFBOUI7QUFDRCxDQUZNOzs7O0FBSUEsTUFBTVEsTUFBTSxHQUFJUixJQUFELElBQVU7QUFDOUJDLGlCQUFNQyxTQUFOLENBQWdCRCxlQUFNUSxPQUF0QixFQUErQlQsSUFBL0I7QUFDRCxDQUZNOzs7O0FBSUEsTUFBTVUsMkJBQTJCLEdBQUcsQ0FBQ0MsRUFBRCxFQUFLQyxhQUFMLEtBQXVCO0FBQ2hFWCxpQkFBTUMsU0FBTixDQUFnQkQsZUFBTVksb0JBQXRCLEVBQTRDO0FBQUVDLElBQUFBLE1BQU0sRUFBRUgsRUFBVjtBQUFjQyxJQUFBQTtBQUFkLEdBQTVDO0FBQ0QsQ0FGTSIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy93ZWJwaG9uZS1ub2RlL3NyYy9zb2NrZXQvYWRtaW4vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFkbWluIGZyb20gJy4vYWRtaW4nXG5cbmV4cG9ydCBjb25zdCByZW1vdmVVc2VyID0gKGRhdGEpID0+IHtcbiAgQWRtaW4uYnJvYWRjYXN0KEFkbWluLkFETUlOX1JFTU9WRV9VU0VSLCBkYXRhKVxufVxuXG5leHBvcnQgY29uc3QgYWRqdXN0bWVudHMgPSAoZGF0YSkgPT4ge1xuICBBZG1pbi5icm9hZGNhc3QoQWRtaW4uQUxMX0FESlVTVE1FTlRTLCBkYXRhKVxufVxuXG5leHBvcnQgY29uc3QgYmJiT24gPSAoZGF0YSkgPT4ge1xuICBBZG1pbi5icm9hZGNhc3QoQWRtaW4uQkJCX09OLCBkYXRhKVxufVxuXG5leHBvcnQgY29uc3QgYmJiT2ZmID0gKGRhdGEpID0+IHtcbiAgQWRtaW4uYnJvYWRjYXN0KEFkbWluLkJCQl9PRkYsIGRhdGEpXG59XG5cbmV4cG9ydCBjb25zdCBpbmZvcm1DaGFuZ2VPbk1lZGlhU2V0dGluZ3MgPSAoaWQsIG1lZGlhU2V0dGluZ3MpID0+IHtcbiAgQWRtaW4uYnJvYWRjYXN0KEFkbWluLk1FRElBU0VUVElOR1NfQ0hBTkdFLCB7IHVzZXJJZDogaWQsIG1lZGlhU2V0dGluZ3MgfSlcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "sender.js"
      ],
      "names": [
        "removeUser",
        "data",
        "Admin",
        "broadcast",
        "ADMIN_REMOVE_USER",
        "adjustments",
        "ALL_ADJUSTMENTS",
        "bbbOn",
        "BBB_ON",
        "bbbOff",
        "BBB_OFF",
        "informChangeOnMediaSettings",
        "id",
        "mediaSettings",
        "MEDIASETTINGS_CHANGE",
        "userId"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEO,MAAMA,UAAU,GAAIC,IAAD,IAAU;AAClCC,iBAAMC,SAAN,CAAgBD,eAAME,iBAAtB,EAAyCH,IAAzC;AACD,CAFM;;;;AAIA,MAAMI,WAAW,GAAIJ,IAAD,IAAU;AACnCC,iBAAMC,SAAN,CAAgBD,eAAMI,eAAtB,EAAuCL,IAAvC;AACD,CAFM;;;;AAIA,MAAMM,KAAK,GAAIN,IAAD,IAAU;AAC7BC,iBAAMC,SAAN,CAAgBD,eAAMM,MAAtB,EAA8BP,IAA9B;AACD,CAFM;;;;AAIA,MAAMQ,MAAM,GAAIR,IAAD,IAAU;AAC9BC,iBAAMC,SAAN,CAAgBD,eAAMQ,OAAtB,EAA+BT,IAA/B;AACD,CAFM;;;;AAIA,MAAMU,2BAA2B,GAAG,CAACC,EAAD,EAAKC,aAAL,KAAuB;AAChEX,iBAAMC,SAAN,CAAgBD,eAAMY,oBAAtB,EAA4C;AAAEC,IAAAA,MAAM,EAAEH,EAAV;AAAcC,IAAAA;AAAd,GAA5C;AACD,CAFM",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/webphone-node/src/socket/admin/",
      "sourcesContent": [
        "import Admin from './admin'\n\nexport const removeUser = (data) => {\n  Admin.broadcast(Admin.ADMIN_REMOVE_USER, data)\n}\n\nexport const adjustments = (data) => {\n  Admin.broadcast(Admin.ALL_ADJUSTMENTS, data)\n}\n\nexport const bbbOn = (data) => {\n  Admin.broadcast(Admin.BBB_ON, data)\n}\n\nexport const bbbOff = (data) => {\n  Admin.broadcast(Admin.BBB_OFF, data)\n}\n\nexport const informChangeOnMediaSettings = (id, mediaSettings) => {\n  Admin.broadcast(Admin.MEDIASETTINGS_CHANGE, { userId: id, mediaSettings })\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601731313
  }
}