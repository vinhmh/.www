{
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/bin/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/bin/server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/bin/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/bin/server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/bin/server.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/bin/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/bin/",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _http = _interopRequireDefault(require(\"http\"));\n\nvar _websocket = require(\"websocket\");\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _awsSdk = _interopRequireDefault(require(\"aws-sdk\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _multerS = _interopRequireDefault(require(\"multer-s3\"));\n\nvar _config = _interopRequireDefault(require(\"../config\"));\n\nvar _socket = _interopRequireDefault(require(\"../src/socket\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_awsSdk.default.config.update({\n  secretAccessKey: _config.default.bucketSecretAccessKey,\n  accessKeyId: _config.default.bucketAccessKeyId\n});\n\nconst spacesEndpoint = new _awsSdk.default.Endpoint(_config.default.bucketEndPoint);\nconst s3 = new _awsSdk.default.S3({\n  endpoint: spacesEndpoint\n});\nconst upload = (0, _multer.default)({\n  storage: (0, _multerS.default)({\n    s3: s3,\n    bucket: _config.default.bucketName,\n    acl: 'public-read',\n    override: false,\n    key: function (request, file, cb) {\n      console.log(file);\n      cb(null, file.originalname);\n    }\n  })\n}).single('file');\n\nconst httpServer = _http.default.createServer((request, response) => {\n  response.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n\n  if (request.method == 'POST' && request.url == '/upload') {\n    upload(request, response, function (error) {\n      if (error) {\n        response.end(\"err\");\n      } else {\n        const location = request.file.location;\n        response.end(location);\n      }\n    });\n  }\n});\n\nconst {\n  pid\n} = process;\nconst TMP_DIR = `${_config.default.rootDir}/tmp/`;\nconst SOCKET_PATH = TMP_DIR + _config.default.socket_file;\nconst PID_PATH = TMP_DIR + _config.default.pidFile;\nconst server = {\n  interface: _config.default.port,\n  maxPackageSize: 5 * 1024 * 1024\n};\n\nif (!_fs.default.existsSync(TMP_DIR)) {\n  _fs.default.mkdirSync(TMP_DIR);\n}\n\nif (_config.default.useSocket) {\n  server.interface = SOCKET_PATH;\n\n  if (_fs.default.existsSync(server.interface)) {\n    _fs.default.unlinkSync(server.interface);\n  }\n}\n\n_fs.default.writeFileSync(PID_PATH, pid.toString(), 'utf8');\n\nconst init = async () => {\n  httpServer.listen(server.interface, () => {\n    if (_config.default.useSocket) _fs.default.chmodSync(server.interface, '757');\n    console.log(`${new Date()} Server is listening on ${server.interface}`);\n  });\n  httpServer.on('error', e => console.log(e));\n  const wsServer = new _websocket.server({\n    httpServer,\n    maxReceivedFrameSize: server.maxPackageSize,\n    maxReceivedMessageSize: server.maxPackageSize\n  }); // wsServer.on('request', (request) => {\n  //   const { origin } = request\n  //   const allowedOrigin = config.allowedOrigin.some(url => url === origin)\n  //   if (!allowedOrigin) {\n  //     request.reject()\n  //     console.log(`${new Date()} Connection from origin ${origin} rejected.`)\n  //     return\n  //   }\n  //   const connection = request.accept(null, origin)\n  //   const { query } = request.resourceURL\n  //   Socket.create(connection, { query })\n  // })\n\n  wsServer.on('request', async request => {\n    const {\n      origin\n    } = request;\n\n    const allowedOrigin = _config.default.allowedOrigin.some(url => url === origin);\n\n    let langsDeeplSupport;\n\n    try {\n      const url = `${_config.default.apiUrl2}?auth_key=${_config.default.authKey}`;\n      const response = await _axios.default.post(url);\n      langsDeeplSupport = response.data;\n    } catch (error) {\n      console.log('Error =>', error);\n      langsDeeplSupport = _config.default.backupLangsDeeplSupport;\n    } //\n\n\n    if (!allowedOrigin) {\n      request.reject();\n      console.log(`${new Date()} Connection from origin ${origin} rejected.`);\n      return;\n    }\n\n    const connection = request.accept(null, origin);\n    const {\n      query\n    } = request.resourceURL;\n    query.deepLSupports = langsDeeplSupport;\n\n    _socket.default.create(connection, {\n      query\n    });\n  });\n};\n\ninit();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJhd3MiLCJjb25maWciLCJ1cGRhdGUiLCJzZWNyZXRBY2Nlc3NLZXkiLCJidWNrZXRTZWNyZXRBY2Nlc3NLZXkiLCJhY2Nlc3NLZXlJZCIsImJ1Y2tldEFjY2Vzc0tleUlkIiwic3BhY2VzRW5kcG9pbnQiLCJFbmRwb2ludCIsImJ1Y2tldEVuZFBvaW50IiwiczMiLCJTMyIsImVuZHBvaW50IiwidXBsb2FkIiwic3RvcmFnZSIsImJ1Y2tldCIsImJ1Y2tldE5hbWUiLCJhY2wiLCJvdmVycmlkZSIsImtleSIsInJlcXVlc3QiLCJmaWxlIiwiY2IiLCJjb25zb2xlIiwibG9nIiwib3JpZ2luYWxuYW1lIiwic2luZ2xlIiwiaHR0cFNlcnZlciIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJyZXNwb25zZSIsInNldEhlYWRlciIsIm1ldGhvZCIsInVybCIsImVycm9yIiwiZW5kIiwibG9jYXRpb24iLCJwaWQiLCJwcm9jZXNzIiwiVE1QX0RJUiIsInJvb3REaXIiLCJTT0NLRVRfUEFUSCIsInNvY2tldF9maWxlIiwiUElEX1BBVEgiLCJwaWRGaWxlIiwic2VydmVyIiwiaW50ZXJmYWNlIiwicG9ydCIsIm1heFBhY2thZ2VTaXplIiwiZnMiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwidXNlU29ja2V0IiwidW5saW5rU3luYyIsIndyaXRlRmlsZVN5bmMiLCJ0b1N0cmluZyIsImluaXQiLCJsaXN0ZW4iLCJjaG1vZFN5bmMiLCJEYXRlIiwib24iLCJlIiwid3NTZXJ2ZXIiLCJXZWJTb2NrZXRTZXJ2ZXIiLCJtYXhSZWNlaXZlZEZyYW1lU2l6ZSIsIm1heFJlY2VpdmVkTWVzc2FnZVNpemUiLCJvcmlnaW4iLCJhbGxvd2VkT3JpZ2luIiwic29tZSIsImxhbmdzRGVlcGxTdXBwb3J0IiwiYXBpVXJsMiIsImF1dGhLZXkiLCJheGlvcyIsInBvc3QiLCJkYXRhIiwiYmFja3VwTGFuZ3NEZWVwbFN1cHBvcnQiLCJyZWplY3QiLCJjb25uZWN0aW9uIiwiYWNjZXB0IiwicXVlcnkiLCJyZXNvdXJjZVVSTCIsImRlZXBMU3VwcG9ydHMiLCJTb2NrZXQiLCJjcmVhdGUiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQUEsZ0JBQUlDLE1BQUosQ0FBV0MsTUFBWCxDQUFrQjtBQUNoQkMsRUFBQUEsZUFBZSxFQUFFRixnQkFBT0cscUJBRFI7QUFFaEJDLEVBQUFBLFdBQVcsRUFBRUosZ0JBQU9LO0FBRkosQ0FBbEI7O0FBSUEsTUFBTUMsY0FBYyxHQUFHLElBQUlQLGdCQUFJUSxRQUFSLENBQWlCUCxnQkFBT1EsY0FBeEIsQ0FBdkI7QUFDQSxNQUFNQyxFQUFFLEdBQUcsSUFBSVYsZ0JBQUlXLEVBQVIsQ0FBVztBQUNwQkMsRUFBQUEsUUFBUSxFQUFFTDtBQURVLENBQVgsQ0FBWDtBQUdBLE1BQU1NLE1BQU0sR0FBRyxxQkFBTztBQUNwQkMsRUFBQUEsT0FBTyxFQUFFLHNCQUFTO0FBQ2hCSixJQUFBQSxFQUFFLEVBQUVBLEVBRFk7QUFFaEJLLElBQUFBLE1BQU0sRUFBRWQsZ0JBQU9lLFVBRkM7QUFHaEJDLElBQUFBLEdBQUcsRUFBRSxhQUhXO0FBSWhCQyxJQUFBQSxRQUFRLEVBQUUsS0FKTTtBQUtoQkMsSUFBQUEsR0FBRyxFQUFFLFVBQVVDLE9BQVYsRUFBbUJDLElBQW5CLEVBQXlCQyxFQUF6QixFQUE2QjtBQUNoQ0MsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlILElBQVo7QUFDQUMsTUFBQUEsRUFBRSxDQUFDLElBQUQsRUFBT0QsSUFBSSxDQUFDSSxZQUFaLENBQUY7QUFDRDtBQVJlLEdBQVQ7QUFEVyxDQUFQLEVBV1pDLE1BWFksQ0FXTCxNQVhLLENBQWY7O0FBWUEsTUFBTUMsVUFBVSxHQUFHQyxjQUFLQyxZQUFMLENBQWtCLENBQUNULE9BQUQsRUFBVVUsUUFBVixLQUF1QjtBQUMxREEsRUFBQUEsUUFBUSxDQUFDQyxTQUFULENBQW1C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QkFBSjs7QUFDQSxRQUFJO0FBQ0YsWUFBTXBDLEdBQUcsR0FBSSxHQUFFaEMsZ0JBQU9xRSxPQUFRLGFBQVlyRSxnQkFBT3NFLE9BQVEsRUFBekQ7QUFDQSxZQUFNekMsUUFBUSxHQUFHLE1BQU0wQyxlQUFNQyxJQUFOLENBQVd4QyxHQUFYLENBQXZCO0FBQ0FvQyxNQUFBQSxpQkFBaUIsR0FBR3ZDLFFBQVEsQ0FBQzRDLElBQTdCO0FBQ0QsS0FKRCxDQUlFLE9BQU94QyxLQUFQLEVBQWM7QUFDZFgsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksVUFBWixFQUF3QlUsS0FBeEI7QUFDQW1DLE1BQUFBLGlCQUFpQixHQUFHcEUsZ0JBQU8wRSx1QkFBM0I7QUFDRCxLQVh1QyxDQVl4Qzs7O0FBQ0EsUUFBSSxDQUFDUixhQUFMLEVBQW9CO0FBQ2xCL0MsTUFBQUEsT0FBTyxDQUFDd0QsTUFBUjtBQUNBckQsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQWEsR0FBRSxJQUFJbUMsSUFBSixFQUFXLDJCQUEwQk8sTUFBTyxZQUEzRDtBQUNBO0FBQ0Q7O0FBQ0QsVUFBTVcsVUFBVSxHQUFHekQsT0FBTyxDQUFDMEQsTUFBUixDQUFlLElBQWYsRUFBcUJaLE1BQXJCLENBQW5CO0FBQ0EsVUFBTTtBQUFFYSxNQUFBQTtBQUFGLFFBQVkzRCxPQUFPLENBQUM0RCxXQUExQjtBQUNBRCxJQUFBQSxLQUFLLENBQUNFLGFBQU4sR0FBc0JaLGlCQUF0Qjs7QUFDQWEsb0JBQU9DLE1BQVAsQ0FBY04sVUFBZCxFQUEwQjtBQUFFRSxNQUFBQTtBQUFGLEtBQTFCO0FBQ0QsR0F0QkQ7QUF1QkQsQ0FwREQ7O0FBc0RBdkIsSUFBSSIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy90ZXh0Y2hhdC1ub2RlL2Jpbi8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnXG5pbXBvcnQgaHR0cCBmcm9tICdodHRwJ1xuaW1wb3J0IHsgc2VydmVyIGFzIFdlYlNvY2tldFNlcnZlciB9IGZyb20gJ3dlYnNvY2tldCdcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcydcbmltcG9ydCBhd3MgZnJvbSAnYXdzLXNkaydcbmltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJ1xuaW1wb3J0IG11bHRlclMzIGZyb20gJ211bHRlci1zMydcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnJ1xuaW1wb3J0IFNvY2tldCBmcm9tICcuLi9zcmMvc29ja2V0J1xuXG5hd3MuY29uZmlnLnVwZGF0ZSh7XG4gIHNlY3JldEFjY2Vzc0tleTogY29uZmlnLmJ1Y2tldFNlY3JldEFjY2Vzc0tleSxcbiAgYWNjZXNzS2V5SWQ6IGNvbmZpZy5idWNrZXRBY2Nlc3NLZXlJZFxufSlcbmNvbnN0IHNwYWNlc0VuZHBvaW50ID0gbmV3IGF3cy5FbmRwb2ludChjb25maWcuYnVja2V0RW5kUG9pbnQpO1xuY29uc3QgczMgPSBuZXcgYXdzLlMzKHtcbiAgZW5kcG9pbnQ6IHNwYWNlc0VuZHBvaW50XG59KTtcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7XG4gIHN0b3JhZ2U6IG11bHRlclMzKHtcbiAgICBzMzogczMsXG4gICAgYnVja2V0OiBjb25maWcuYnVja2V0TmFtZSxcbiAgICBhY2w6ICdwdWJsaWMtcmVhZCcsXG4gICAgb3ZlcnJpZGU6IGZhbHNlLFxuICAgIGtleTogZnVuY3Rpb24gKHJlcXVlc3QsIGZpbGUsIGNiKSB7XG4gICAgICBjb25zb2xlLmxvZyhmaWxlKTtcbiAgICAgIGNiKG51bGwsIGZpbGUub3JpZ2luYWxuYW1lKTtcbiAgICB9XG4gIH0pXG59KS5zaW5nbGUoJ2ZpbGUnKVxuY29uc3QgaHR0cFNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICByZXNwb25zZS5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgXCIqXCIpXG4gIGlmKHJlcXVlc3QubWV0aG9kID09ICdQT1NUJyAmJiByZXF1ZXN0LnVybCA9PSAnL3VwbG9hZCcpe1xuICAgIHVwbG9hZChyZXF1ZXN0LCByZXNwb25zZSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmVzcG9uc2UuZW5kKFwiZXJyXCIpXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSByZXF1ZXN0LmZpbGUubG9jYXRpb25cbiAgICAgICAgcmVzcG9uc2UuZW5kKGxvY2F0aW9uKVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbn0pO1xuXG5cblxuY29uc3QgeyBwaWQgfSA9IHByb2Nlc3NcbmNvbnN0IFRNUF9ESVIgPSBgJHtjb25maWcucm9vdERpcn0vdG1wL2BcbmNvbnN0IFNPQ0tFVF9QQVRIID0gVE1QX0RJUiArIGNvbmZpZy5zb2NrZXRfZmlsZVxuY29uc3QgUElEX1BBVEggPSBUTVBfRElSICsgY29uZmlnLnBpZEZpbGVcblxuY29uc3Qgc2VydmVyID0ge1xuICBpbnRlcmZhY2U6IGNvbmZpZy5wb3J0LFxuICBtYXhQYWNrYWdlU2l6ZTogNSAqIDEwMjQgKiAxMDI0LFxufVxuXG5pZiAoIWZzLmV4aXN0c1N5bmMoVE1QX0RJUikpIHtcbiAgZnMubWtkaXJTeW5jKFRNUF9ESVIpXG59XG5cbmlmIChjb25maWcudXNlU29ja2V0KSB7XG4gIHNlcnZlci5pbnRlcmZhY2UgPSBTT0NLRVRfUEFUSFxuICBpZiAoZnMuZXhpc3RzU3luYyhzZXJ2ZXIuaW50ZXJmYWNlKSkge1xuICAgIGZzLnVubGlua1N5bmMoc2VydmVyLmludGVyZmFjZSlcbiAgfVxufVxuXG5mcy53cml0ZUZpbGVTeW5jKFBJRF9QQVRILCBwaWQudG9TdHJpbmcoKSwgJ3V0ZjgnKVxuXG5jb25zdCBpbml0ID0gYXN5bmMgKCkgPT4ge1xuICBodHRwU2VydmVyLmxpc3RlbihzZXJ2ZXIuaW50ZXJmYWNlLCAoKSA9PiB7XG4gICAgaWYgKGNvbmZpZy51c2VTb2NrZXQpIGZzLmNobW9kU3luYyhzZXJ2ZXIuaW50ZXJmYWNlLCAnNzU3JylcbiAgICBjb25zb2xlLmxvZyhgJHtuZXcgRGF0ZSgpfSBTZXJ2ZXIgaXMgbGlzdGVuaW5nIG9uICR7c2VydmVyLmludGVyZmFjZX1gKVxuICB9KVxuXG4gIGh0dHBTZXJ2ZXIub24oJ2Vycm9yJywgZSA9PiBjb25zb2xlLmxvZyhlKSlcblxuICBjb25zdCB3c1NlcnZlciA9IG5ldyBXZWJTb2NrZXRTZXJ2ZXIoe1xuICAgIGh0dHBTZXJ2ZXIsXG4gICAgbWF4UmVjZWl2ZWRGcmFtZVNpemU6IHNlcnZlci5tYXhQYWNrYWdlU2l6ZSxcbiAgICBtYXhSZWNlaXZlZE1lc3NhZ2VTaXplOiBzZXJ2ZXIubWF4UGFja2FnZVNpemUsXG4gIH0pXG5cbiAgLy8gd3NTZXJ2ZXIub24oJ3JlcXVlc3QnLCAocmVxdWVzdCkgPT4ge1xuICAvLyAgIGNvbnN0IHsgb3JpZ2luIH0gPSByZXF1ZXN0XG4gIC8vICAgY29uc3QgYWxsb3dlZE9yaWdpbiA9IGNvbmZpZy5hbGxvd2VkT3JpZ2luLnNvbWUodXJsID0+IHVybCA9PT0gb3JpZ2luKVxuXG4gIC8vICAgaWYgKCFhbGxvd2VkT3JpZ2luKSB7XG4gIC8vICAgICByZXF1ZXN0LnJlamVjdCgpXG4gIC8vICAgICBjb25zb2xlLmxvZyhgJHtuZXcgRGF0ZSgpfSBDb25uZWN0aW9uIGZyb20gb3JpZ2luICR7b3JpZ2lufSByZWplY3RlZC5gKVxuICAvLyAgICAgcmV0dXJuXG4gIC8vICAgfVxuXG4gIC8vICAgY29uc3QgY29ubmVjdGlvbiA9IHJlcXVlc3QuYWNjZXB0KG51bGwsIG9yaWdpbilcbiAgLy8gICBjb25zdCB7IHF1ZXJ5IH0gPSByZXF1ZXN0LnJlc291cmNlVVJMXG5cbiAgLy8gICBTb2NrZXQuY3JlYXRlKGNvbm5lY3Rpb24sIHsgcXVlcnkgfSlcbiAgLy8gfSlcbiAgd3NTZXJ2ZXIub24oJ3JlcXVlc3QnLCBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgIGNvbnN0IHsgb3JpZ2luIH0gPSByZXF1ZXN0XG4gICAgY29uc3QgYWxsb3dlZE9yaWdpbiA9IGNvbmZpZy5hbGxvd2VkT3JpZ2luLnNvbWUodXJsID0+IHVybCA9PT0gb3JpZ2luKVxuICAgIGxldCBsYW5nc0RlZXBsU3VwcG9ydFxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBgJHtjb25maWcuYXBpVXJsMn0/YXV0aF9rZXk9JHtjb25maWcuYXV0aEtleX1gXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QodXJsKVxuICAgICAgbGFuZ3NEZWVwbFN1cHBvcnQgPSByZXNwb25zZS5kYXRhXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdFcnJvciA9PicsIGVycm9yKVxuICAgICAgbGFuZ3NEZWVwbFN1cHBvcnQgPSBjb25maWcuYmFja3VwTGFuZ3NEZWVwbFN1cHBvcnRcbiAgICB9XG4gICAgLy9cbiAgICBpZiAoIWFsbG93ZWRPcmlnaW4pIHtcbiAgICAgIHJlcXVlc3QucmVqZWN0KClcbiAgICAgIGNvbnNvbGUubG9nKGAke25ldyBEYXRlKCl9IENvbm5lY3Rpb24gZnJvbSBvcmlnaW4gJHtvcmlnaW59IHJlamVjdGVkLmApXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgY29ubmVjdGlvbiA9IHJlcXVlc3QuYWNjZXB0KG51bGwsIG9yaWdpbilcbiAgICBjb25zdCB7IHF1ZXJ5IH0gPSByZXF1ZXN0LnJlc291cmNlVVJMXG4gICAgcXVlcnkuZGVlcExTdXBwb3J0cyA9IGxhbmdzRGVlcGxTdXBwb3J0XG4gICAgU29ja2V0LmNyZWF0ZShjb25uZWN0aW9uLCB7IHF1ZXJ5IH0pXG4gIH0pXG59XG5cbmluaXQoKVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "aws",
        "config",
        "update",
        "secretAccessKey",
        "bucketSecretAccessKey",
        "accessKeyId",
        "bucketAccessKeyId",
        "spacesEndpoint",
        "Endpoint",
        "bucketEndPoint",
        "s3",
        "S3",
        "endpoint",
        "upload",
        "storage",
        "bucket",
        "bucketName",
        "acl",
        "override",
        "key",
        "request",
        "file",
        "cb",
        "console",
        "log",
        "originalname",
        "single",
        "httpServer",
        "http",
        "createServer",
        "response",
        "setHeader",
        "method",
        "url",
        "error",
        "end",
        "location",
        "pid",
        "process",
        "TMP_DIR",
        "rootDir",
        "SOCKET_PATH",
        "socket_file",
        "PID_PATH",
        "pidFile",
        "server",
        "interface",
        "port",
        "maxPackageSize",
        "fs",
        "existsSync",
        "mkdirSync",
        "useSocket",
        "unlinkSync",
        "writeFileSync",
        "toString",
        "init",
        "listen",
        "chmodSync",
        "Date",
        "on",
        "e",
        "wsServer",
        "WebSocketServer",
        "maxReceivedFrameSize",
        "maxReceivedMessageSize",
        "origin",
        "allowedOrigin",
        "some",
        "langsDeeplSupport",
        "apiUrl2",
        "authKey",
        "axios",
        "post",
        "data",
        "backupLangsDeeplSupport",
        "reject",
        "connection",
        "accept",
        "query",
        "resourceURL",
        "deepLSupports",
        "Socket",
        "create"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/bin/",
      "sourcesContent": [
        "import fs from 'fs'\nimport http from 'http'\nimport { server as WebSocketServer } from 'websocket'\nimport axios from 'axios'\nimport aws from 'aws-sdk'\nimport multer from 'multer'\nimport multerS3 from 'multer-s3'\nimport config from '../config'\nimport Socket from '../src/socket'\n\naws.config.update({\n  secretAccessKey: config.bucketSecretAccessKey,\n  accessKeyId: config.bucketAccessKeyId\n})\nconst spacesEndpoint = new aws.Endpoint(config.bucketEndPoint);\nconst s3 = new aws.S3({\n  endpoint: spacesEndpoint\n});\nconst upload = multer({\n  storage: multerS3({\n    s3: s3,\n    bucket: config.bucketName,\n    acl: 'public-read',\n    override: false,\n    key: function (request, file, cb) {\n      console.log(file);\n      cb(null, file.originalname);\n    }\n  })\n}).single('file')\nconst httpServer = http.createServer((request, response) => {\n  response.setHeader(\"Access-Control-Allow-Origin\", \"*\")\n  if(request.method == 'POST' && request.url == '/upload'){\n    upload(request, response, function (error) {\n      if (error) {\n        response.end(\"err\")\n      }\n      else {\n        const location = request.file.location\n        response.end(location)\n      }\n    });\n  }\n\n});\n\n\n\nconst { pid } = process\nconst TMP_DIR = `${config.rootDir}/tmp/`\nconst SOCKET_PATH = TMP_DIR + config.socket_file\nconst PID_PATH = TMP_DIR + config.pidFile\n\nconst server = {\n  interface: config.port,\n  maxPackageSize: 5 * 1024 * 1024,\n}\n\nif (!fs.existsSync(TMP_DIR)) {\n  fs.mkdirSync(TMP_DIR)\n}\n\nif (config.useSocket) {\n  server.interface = SOCKET_PATH\n  if (fs.existsSync(server.interface)) {\n    fs.unlinkSync(server.interface)\n  }\n}\n\nfs.writeFileSync(PID_PATH, pid.toString(), 'utf8')\n\nconst init = async () => {\n  httpServer.listen(server.interface, () => {\n    if (config.useSocket) fs.chmodSync(server.interface, '757')\n    console.log(`${new Date()} Server is listening on ${server.interface}`)\n  })\n\n  httpServer.on('error', e => console.log(e))\n\n  const wsServer = new WebSocketServer({\n    httpServer,\n    maxReceivedFrameSize: server.maxPackageSize,\n    maxReceivedMessageSize: server.maxPackageSize,\n  })\n\n  // wsServer.on('request', (request) => {\n  //   const { origin } = request\n  //   const allowedOrigin = config.allowedOrigin.some(url => url === origin)\n\n  //   if (!allowedOrigin) {\n  //     request.reject()\n  //     console.log(`${new Date()} Connection from origin ${origin} rejected.`)\n  //     return\n  //   }\n\n  //   const connection = request.accept(null, origin)\n  //   const { query } = request.resourceURL\n\n  //   Socket.create(connection, { query })\n  // })\n  wsServer.on('request', async (request) => {\n    const { origin } = request\n    const allowedOrigin = config.allowedOrigin.some(url => url === origin)\n    let langsDeeplSupport\n    try {\n      const url = `${config.apiUrl2}?auth_key=${config.authKey}`\n      const response = await axios.post(url)\n      langsDeeplSupport = response.data\n    } catch (error) {\n      console.log('Error =>', error)\n      langsDeeplSupport = config.backupLangsDeeplSupport\n    }\n    //\n    if (!allowedOrigin) {\n      request.reject()\n      console.log(`${new Date()} Connection from origin ${origin} rejected.`)\n      return\n    }\n    const connection = request.accept(null, origin)\n    const { query } = request.resourceURL\n    query.deepLSupports = langsDeeplSupport\n    Socket.create(connection, { query })\n  })\n}\n\ninit()\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615705458773
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/config/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/config/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/config/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/config/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/config/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.env = void 0;\n\nvar _environments = _interopRequireDefault(require(\"./environments\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst NODE_ENV = process.env.NODE_ENV || 'development';\nconst env = {\n  [NODE_ENV]: true\n};\nexports.env = env;\nconst configMode = process.env.CONFIG_MODE;\nvar config = Object.assign(_environments.default.default, _environments.default[NODE_ENV]);\n\nif (typeof configMode !== 'undefined' && _environments.default[configMode]) {\n  config = Object.assign(config, _environments.default[configMode]);\n}\n\nvar _default = config;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIk5PREVfRU5WIiwicHJvY2VzcyIsImVudiIsImNvbmZpZ01vZGUiLCJDT05GSUdfTU9ERSIsImNvbmZpZyIsIk9iamVjdCIsImFzc2lnbiIsInNldHRpbmdzIiwiZGVmYXVsdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsUUFBWixJQUF3QixhQUF6QztBQUNBLE1BQU1FLEdBQUcsR0FBRztBQUFFLEdBQUNGLFFBQUQsR0FBWTtBQUFkLENBQVo7O0FBRUEsTUFBTUcsVUFBVSxHQUFHRixPQUFPLENBQUNDLEdBQVIsQ0FBWUUsV0FBL0I7QUFDQSxJQUFJQyxNQUFNLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjQyxzQkFBU0MsT0FBdkIsRUFBZ0NELHNCQUFTUixRQUFULENBQWhDLENBQWI7O0FBQ0EsSUFBSSxPQUFPRyxVQUFQLEtBQXNCLFdBQXRCLElBQXFDSyxzQkFBU0wsVUFBVCxDQUF6QyxFQUErRDtBQUM5REUsRUFBQUEsTUFBTSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBY0YsTUFBZCxFQUFzQkcsc0JBQVNMLFVBQVQsQ0FBdEIsQ0FBVDtBQUNBOztlQUdjRSxNIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3RleHRjaGF0LW5vZGUvY29uZmlnLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZXR0aW5ncyBmcm9tICcuL2Vudmlyb25tZW50cydcblxuY29uc3QgTk9ERV9FTlYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnXG5jb25zdCBlbnYgPSB7IFtOT0RFX0VOVl06IHRydWUgfVxuXG5jb25zdCBjb25maWdNb2RlID0gcHJvY2Vzcy5lbnYuQ09ORklHX01PREVcbnZhciBjb25maWcgPSBPYmplY3QuYXNzaWduKHNldHRpbmdzLmRlZmF1bHQsIHNldHRpbmdzW05PREVfRU5WXSlcbmlmICh0eXBlb2YgY29uZmlnTW9kZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2V0dGluZ3NbY29uZmlnTW9kZV0pIHtcblx0Y29uZmlnID0gT2JqZWN0LmFzc2lnbihjb25maWcsIHNldHRpbmdzW2NvbmZpZ01vZGVdKVxufVxuXG5leHBvcnQgeyBlbnYgfVxuZXhwb3J0IGRlZmF1bHQgY29uZmlnXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "NODE_ENV",
        "process",
        "env",
        "configMode",
        "CONFIG_MODE",
        "config",
        "Object",
        "assign",
        "settings",
        "default"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYF,QAAZ,IAAwB,aAAzC;AACA,MAAME,GAAG,GAAG;AAAE,GAACF,QAAD,GAAY;AAAd,CAAZ;;AAEA,MAAMG,UAAU,GAAGF,OAAO,CAACC,GAAR,CAAYE,WAA/B;AACA,IAAIC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAcC,sBAASC,OAAvB,EAAgCD,sBAASR,QAAT,CAAhC,CAAb;;AACA,IAAI,OAAOG,UAAP,KAAsB,WAAtB,IAAqCK,sBAASL,UAAT,CAAzC,EAA+D;AAC9DE,EAAAA,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAcF,MAAd,EAAsBG,sBAASL,UAAT,CAAtB,CAAT;AACA;;eAGcE,M",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/config/",
      "sourcesContent": [
        "import settings from './environments'\n\nconst NODE_ENV = process.env.NODE_ENV || 'development'\nconst env = { [NODE_ENV]: true }\n\nconst configMode = process.env.CONFIG_MODE\nvar config = Object.assign(settings.default, settings[NODE_ENV])\nif (typeof configMode !== 'undefined' && settings[configMode]) {\n\tconfig = Object.assign(config, settings[configMode])\n}\n\nexport { env }\nexport default config\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/config/environments.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/config/environments.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/config/environments.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/config/environments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/config/",
        "sourceFileName": "environments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar path = _interopRequireWildcard(require(\"path\"));\n\nvar _envSmart = _interopRequireDefault(require(\"env-smart\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n_envSmart.default.load();\n\nconst rootDir = path.join(__dirname, '..');\nvar _default = {\n  default: {\n    pidFile: 'textchat.pid',\n    port: 8082,\n    useSocket: false,\n    rootDir,\n    secretToken: 'd33672be2b0a5319dea3d127304311a6f5cb3e6de7cf8bc9fc7677bc082fc43204cfae3ff120f002ea13c344e227dd6f25f6d5b7d10a0cf9b164c08806490008',\n    webphoneSecretToken: 'd371dbef7aa52d1f70437c9a20371615c6788c2e4dde5cb6a41e3ff4e1cdd05f8ca3f586bb19aad8a31d442f6ecc38551c49ea7fcf2c06b459921b7b8733b384',\n    allowedOrigin: [''],\n    apiUrl: 'https://api.deepl.com/v2/translate',\n    apiUrl2: 'https://api.deepl.com/v2/languages',\n    authKey: '7f2e5b30-75ab-d220-7475-d3c257127013',\n    translateLangs: ['EN', 'DE', 'ES', 'FR', 'PT', 'IT', 'NL', 'PL', 'RU'],\n    webphoneServer: 'http://localhost:3001',\n    techAssistantUser: '_ibp_techassist',\n    bucketSecretAccessKey: 'sTmAWXcPpf7izRsQUvZ3r7V39em55z5CIiqgOxHGds4',\n    bucketAccessKeyId: 'ZAWLEL6XWXH2GOH64HW4',\n    bucketEndPoint: 'nyc3.digitaloceanspaces.com',\n    bucketName: 'opentechiz-test-documents'\n  },\n  development: {\n    allowedOrigin: ['http://localhost:3000', 'http://localhost:3002']\n  },\n  docker: {\n    useSocket: true,\n    socket_file: 'textchat.sock',\n    allowedOrigin: ['https://webphone.tech'],\n    webphoneServer: 'https://webphone.tech'\n  },\n  staging: {\n    useSocket: true,\n    socket_file: 'textchat.sock',\n    allowedOrigin: ['https://stg.meeting.ibridgepeople.net'],\n    webphoneServer: 'https://stg.meeting.ibridgepeople.net'\n  },\n  bench: {\n    useSocket: true,\n    socket_file: 'textchat.sock',\n    allowedOrigin: ['https://meeting.ibridgepeople.fr'],\n    webphoneServer: 'https://meeting.ibridgepeople.fr'\n  },\n  production: {\n    useSocket: true,\n    socket_file: 'textchat.sock',\n    allowedOrigin: ['https://webphone.ibridgepeople.fr'],\n    webphoneServer: 'https://webphone.ibridgepeople.fr'\n  },\n  digitalOcean: {\n    secretAccessKey: 'VomUCSVELm4UzufItwPykx0w7SPcL6n7m4vUpfr/eF8',\n    accessKeyId: 'YOLBDSNTP4BEX7VLFTIT'\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudmlyb25tZW50cy5qcyJdLCJuYW1lcyI6WyJlbnYiLCJsb2FkIiwicm9vdERpciIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwiZGVmYXVsdCIsInBpZEZpbGUiLCJwb3J0IiwidXNlU29ja2V0Iiwic2VjcmV0VG9rZW4iLCJ3ZWJwaG9uZVNlY3JldFRva2VuIiwiYWxsb3dlZE9yaWdpbiIsImFwaVVybCIsImFwaVVybDIiLCJhdXRoS2V5IiwidHJhbnNsYXRlTGFuZ3MiLCJ3ZWJwaG9uZVNlcnZlciIsInRlY2hBc3Npc3RhbnRVc2VyIiwiYnVja2V0U2VjcmV0QWNjZXNzS2V5IiwiYnVja2V0QWNjZXNzS2V5SWQiLCJidWNrZXRFbmRQb2ludCIsImJ1Y2tldE5hbWUiLCJkZXZlbG9wbWVudCIsImRvY2tlciIsInNvY2tldF9maWxlIiwic3RhZ2luZyIsImJlbmNoIiwicHJvZHVjdGlvbiIsImRpZ2l0YWxPY2VhbiIsInNlY3JldEFjY2Vzc0tleSIsImFjY2Vzc0tleUlkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7Ozs7O0FBQ0FBLGtCQUFJQyxJQUFKOztBQUNBLE1BQU1DLE9BQU8sR0FBR0MsSUFBSSxDQUFDQyxJQUFMLENBQVVDLFNBQVYsRUFBcUIsSUFBckIsQ0FBaEI7ZUFDZTtBQUNmQyxFQUFBQSxPQUFPLEVBQUU7QUFDVEMsSUFBQUEsT0FBTyxFQUFFLGNBREE7QUFFVEMsSUFBQUEsSUFBSSxFQUFFLElBRkc7QUFHVEMsSUFBQUEsU0FBUyxFQUFFLEtBSEY7QUFJVFAsSUFBQUEsT0FKUztBQUtUUSxJQUFBQSxXQUFXLEVBQUUsa0lBTEo7QUFNVEMsSUFBQUEsbUJBQW1CLEVBQUUsa0lBTlo7QUFPVEMsSUFBQUEsYUFBYSxFQUFFLENBQUMsRUFBRCxDQVBOO0FBUVRDLElBQUFBLE1BQU0sRUFBRSxvQ0FSQztBQVNUQyxJQUFBQSxPQUFPLEVBQUUsb0NBVEE7QUFVVEMsSUFBQUEsT0FBTyxFQUFFLHNDQVZBO0FBV1RDLElBQUFBLGNBQWMsRUFBRSxDQUFDLElBQUQsRUFBTyxJQUFQLEVBQWEsSUFBYixFQUFtQixJQUFuQixFQUF5QixJQUF6QixFQUErQixJQUEvQixFQUFxQyxJQUFyQyxFQUEyQyxJQUEzQyxFQUFpRCxJQUFqRCxDQVhQO0FBWVRDLElBQUFBLGNBQWMsRUFBRSx1QkFaUDtBQWFUQyxJQUFBQSxpQkFBaUIsRUFBRSxpQkFiVjtBQWNUQyxJQUFBQSxxQkFBcUIsRUFBQyw2Q0FkYjtBQWVUQyxJQUFBQSxpQkFBaUIsRUFBQyxzQkFmVDtBQWdCVEMsSUFBQUEsY0FBYyxFQUFDLDZCQWhCTjtBQWlCVEMsSUFBQUEsVUFBVSxFQUFDO0FBakJGLEdBRE07QUFvQmZDLEVBQUFBLFdBQVcsRUFBRTtBQUNiWCxJQUFBQSxhQUFhLEVBQUUsQ0FBQyx1QkFBRCxFQUEwQix1QkFBMUI7QUFERixHQXBCRTtBQXVCZlksRUFBQUEsTUFBTSxFQUFFO0FBQ1JmLElBQUFBLFNBQVMsRUFBRSxJQURIO0FBRVJnQixJQUFBQSxXQUFXLEVBQUUsZUFGTDtBQUdSYixJQUFBQSxhQUFhLEVBQUUsQ0FBQyx1QkFBRCxDQUhQO0FBSVJLLElBQUFBLGNBQWMsRUFBRTtBQUpSLEdBdkJPO0FBNkJmUyxFQUFBQSxPQUFPLEVBQUU7QUFDVGpCLElBQUFBLFNBQVMsRUFBRSxJQURGO0FBRVRnQixJQUFBQSxXQUFXLEVBQUUsZUFGSjtBQUdUYixJQUFBQSxhQUFhLEVBQUUsQ0FBQyx1Q0FBRCxDQUhOO0FBSVRLLElBQUFBLGNBQWMsRUFBRTtBQUpQLEdBN0JNO0FBbUNmVSxFQUFBQSxLQUFLLEVBQUU7QUFDUGxCLElBQUFBLFNBQVMsRUFBRSxJQURKO0FBRVBnQixJQUFBQSxXQUFXLEVBQUUsZUFGTjtBQUdQYixJQUFBQSxhQUFhLEVBQUUsQ0FBQyxrQ0FBRCxDQUhSO0FBSVBLLElBQUFBLGNBQWMsRUFBRTtBQUpULEdBbkNRO0FBeUNmVyxFQUFBQSxVQUFVLEVBQUU7QUFDWm5CLElBQUFBLFNBQVMsRUFBRSxJQURDO0FBRVpnQixJQUFBQSxXQUFXLEVBQUUsZUFGRDtBQUdaYixJQUFBQSxhQUFhLEVBQUUsQ0FBQyxtQ0FBRCxDQUhIO0FBSVpLLElBQUFBLGNBQWMsRUFBRTtBQUpKLEdBekNHO0FBK0NmWSxFQUFBQSxZQUFZLEVBQUM7QUFDYkMsSUFBQUEsZUFBZSxFQUFFLDZDQURKO0FBRWJDLElBQUFBLFdBQVcsRUFBRTtBQUZBO0FBL0NFLEMiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvdGV4dGNoYXQtbm9kZS9jb25maWcvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IGVudiBmcm9tICdlbnYtc21hcnQnO1xuZW52LmxvYWQoKTtcbmNvbnN0IHJvb3REaXIgPSBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4nKVxuZXhwb3J0IGRlZmF1bHQge1xuZGVmYXVsdDoge1xucGlkRmlsZTogJ3RleHRjaGF0LnBpZCcsXG5wb3J0OiA4MDgyLFxudXNlU29ja2V0OiBmYWxzZSxcbnJvb3REaXIsXG5zZWNyZXRUb2tlbjogJ2QzMzY3MmJlMmIwYTUzMTlkZWEzZDEyNzMwNDMxMWE2ZjVjYjNlNmRlN2NmOGJjOWZjNzY3N2JjMDgyZmM0MzIwNGNmYWUzZmYxMjBmMDAyZWExM2MzNDRlMjI3ZGQ2ZjI1ZjZkNWI3ZDEwYTBjZjliMTY0YzA4ODA2NDkwMDA4JyxcbndlYnBob25lU2VjcmV0VG9rZW46ICdkMzcxZGJlZjdhYTUyZDFmNzA0MzdjOWEyMDM3MTYxNWM2Nzg4YzJlNGRkZTVjYjZhNDFlM2ZmNGUxY2RkMDVmOGNhM2Y1ODZiYjE5YWFkOGEzMWQ0NDJmNmVjYzM4NTUxYzQ5ZWE3ZmNmMmMwNmI0NTk5MjFiN2I4NzMzYjM4NCcsXG5hbGxvd2VkT3JpZ2luOiBbJyddLFxuYXBpVXJsOiAnaHR0cHM6Ly9hcGkuZGVlcGwuY29tL3YyL3RyYW5zbGF0ZScsXG5hcGlVcmwyOiAnaHR0cHM6Ly9hcGkuZGVlcGwuY29tL3YyL2xhbmd1YWdlcycsXG5hdXRoS2V5OiAnN2YyZTViMzAtNzVhYi1kMjIwLTc0NzUtZDNjMjU3MTI3MDEzJyxcbnRyYW5zbGF0ZUxhbmdzOiBbJ0VOJywgJ0RFJywgJ0VTJywgJ0ZSJywgJ1BUJywgJ0lUJywgJ05MJywgJ1BMJywgJ1JVJ10sXG53ZWJwaG9uZVNlcnZlcjogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMScsXG50ZWNoQXNzaXN0YW50VXNlcjogJ19pYnBfdGVjaGFzc2lzdCcsXG5idWNrZXRTZWNyZXRBY2Nlc3NLZXk6J3NUbUFXWGNQcGY3aXpSc1FVdlozcjdWMzllbTU1ejVDSWlxZ094SEdkczQnLFxuYnVja2V0QWNjZXNzS2V5SWQ6J1pBV0xFTDZYV1hIMkdPSDY0SFc0JyxcbmJ1Y2tldEVuZFBvaW50OidueWMzLmRpZ2l0YWxvY2VhbnNwYWNlcy5jb20nLFxuYnVja2V0TmFtZTonb3BlbnRlY2hpei10ZXN0LWRvY3VtZW50cydcbn0sXG5kZXZlbG9wbWVudDoge1xuYWxsb3dlZE9yaWdpbjogWydodHRwOi8vbG9jYWxob3N0OjMwMDAnLCAnaHR0cDovL2xvY2FsaG9zdDozMDAyJ11cbn0sXG5kb2NrZXI6IHtcbnVzZVNvY2tldDogdHJ1ZSxcbnNvY2tldF9maWxlOiAndGV4dGNoYXQuc29jaycsXG5hbGxvd2VkT3JpZ2luOiBbJ2h0dHBzOi8vd2VicGhvbmUudGVjaCddLFxud2VicGhvbmVTZXJ2ZXI6ICdodHRwczovL3dlYnBob25lLnRlY2gnXG59LFxuc3RhZ2luZzoge1xudXNlU29ja2V0OiB0cnVlLFxuc29ja2V0X2ZpbGU6ICd0ZXh0Y2hhdC5zb2NrJyxcbmFsbG93ZWRPcmlnaW46IFsnaHR0cHM6Ly9zdGcubWVldGluZy5pYnJpZGdlcGVvcGxlLm5ldCddLFxud2VicGhvbmVTZXJ2ZXI6ICdodHRwczovL3N0Zy5tZWV0aW5nLmlicmlkZ2VwZW9wbGUubmV0J1xufSxcbmJlbmNoOiB7XG51c2VTb2NrZXQ6IHRydWUsXG5zb2NrZXRfZmlsZTogJ3RleHRjaGF0LnNvY2snLFxuYWxsb3dlZE9yaWdpbjogWydodHRwczovL21lZXRpbmcuaWJyaWRnZXBlb3BsZS5mciddLFxud2VicGhvbmVTZXJ2ZXI6ICdodHRwczovL21lZXRpbmcuaWJyaWRnZXBlb3BsZS5mcidcbn0sXG5wcm9kdWN0aW9uOiB7XG51c2VTb2NrZXQ6IHRydWUsXG5zb2NrZXRfZmlsZTogJ3RleHRjaGF0LnNvY2snLFxuYWxsb3dlZE9yaWdpbjogWydodHRwczovL3dlYnBob25lLmlicmlkZ2VwZW9wbGUuZnInXSxcbndlYnBob25lU2VydmVyOiAnaHR0cHM6Ly93ZWJwaG9uZS5pYnJpZGdlcGVvcGxlLmZyJ1xufSxcbmRpZ2l0YWxPY2Vhbjp7XG5zZWNyZXRBY2Nlc3NLZXk6ICdWb21VQ1NWRUxtNFV6dWZJdHdQeWt4MHc3U1BjTDZuN200dlVwZnIvZUY4JyxcbmFjY2Vzc0tleUlkOiAnWU9MQkRTTlRQNEJFWDdWTEZUSVQnXG59XG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "environments.js"
      ],
      "names": [
        "env",
        "load",
        "rootDir",
        "path",
        "join",
        "__dirname",
        "default",
        "pidFile",
        "port",
        "useSocket",
        "secretToken",
        "webphoneSecretToken",
        "allowedOrigin",
        "apiUrl",
        "apiUrl2",
        "authKey",
        "translateLangs",
        "webphoneServer",
        "techAssistantUser",
        "bucketSecretAccessKey",
        "bucketAccessKeyId",
        "bucketEndPoint",
        "bucketName",
        "development",
        "docker",
        "socket_file",
        "staging",
        "bench",
        "production",
        "digitalOcean",
        "secretAccessKey",
        "accessKeyId"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;;;;;AACAA,kBAAIC,IAAJ;;AACA,MAAMC,OAAO,GAAGC,IAAI,CAACC,IAAL,CAAUC,SAAV,EAAqB,IAArB,CAAhB;eACe;AACfC,EAAAA,OAAO,EAAE;AACTC,IAAAA,OAAO,EAAE,cADA;AAETC,IAAAA,IAAI,EAAE,IAFG;AAGTC,IAAAA,SAAS,EAAE,KAHF;AAITP,IAAAA,OAJS;AAKTQ,IAAAA,WAAW,EAAE,kIALJ;AAMTC,IAAAA,mBAAmB,EAAE,kIANZ;AAOTC,IAAAA,aAAa,EAAE,CAAC,EAAD,CAPN;AAQTC,IAAAA,MAAM,EAAE,oCARC;AASTC,IAAAA,OAAO,EAAE,oCATA;AAUTC,IAAAA,OAAO,EAAE,sCAVA;AAWTC,IAAAA,cAAc,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,EAA2C,IAA3C,EAAiD,IAAjD,CAXP;AAYTC,IAAAA,cAAc,EAAE,uBAZP;AAaTC,IAAAA,iBAAiB,EAAE,iBAbV;AAcTC,IAAAA,qBAAqB,EAAC,6CAdb;AAeTC,IAAAA,iBAAiB,EAAC,sBAfT;AAgBTC,IAAAA,cAAc,EAAC,6BAhBN;AAiBTC,IAAAA,UAAU,EAAC;AAjBF,GADM;AAoBfC,EAAAA,WAAW,EAAE;AACbX,IAAAA,aAAa,EAAE,CAAC,uBAAD,EAA0B,uBAA1B;AADF,GApBE;AAuBfY,EAAAA,MAAM,EAAE;AACRf,IAAAA,SAAS,EAAE,IADH;AAERgB,IAAAA,WAAW,EAAE,eAFL;AAGRb,IAAAA,aAAa,EAAE,CAAC,uBAAD,CAHP;AAIRK,IAAAA,cAAc,EAAE;AAJR,GAvBO;AA6BfS,EAAAA,OAAO,EAAE;AACTjB,IAAAA,SAAS,EAAE,IADF;AAETgB,IAAAA,WAAW,EAAE,eAFJ;AAGTb,IAAAA,aAAa,EAAE,CAAC,uCAAD,CAHN;AAITK,IAAAA,cAAc,EAAE;AAJP,GA7BM;AAmCfU,EAAAA,KAAK,EAAE;AACPlB,IAAAA,SAAS,EAAE,IADJ;AAEPgB,IAAAA,WAAW,EAAE,eAFN;AAGPb,IAAAA,aAAa,EAAE,CAAC,kCAAD,CAHR;AAIPK,IAAAA,cAAc,EAAE;AAJT,GAnCQ;AAyCfW,EAAAA,UAAU,EAAE;AACZnB,IAAAA,SAAS,EAAE,IADC;AAEZgB,IAAAA,WAAW,EAAE,eAFD;AAGZb,IAAAA,aAAa,EAAE,CAAC,mCAAD,CAHH;AAIZK,IAAAA,cAAc,EAAE;AAJJ,GAzCG;AA+CfY,EAAAA,YAAY,EAAC;AACbC,IAAAA,eAAe,EAAE,6CADJ;AAEbC,IAAAA,WAAW,EAAE;AAFA;AA/CE,C",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/config/",
      "sourcesContent": [
        "import * as path from 'path'\nimport env from 'env-smart';\nenv.load();\nconst rootDir = path.join(__dirname, '..')\nexport default {\ndefault: {\npidFile: 'textchat.pid',\nport: 8082,\nuseSocket: false,\nrootDir,\nsecretToken: 'd33672be2b0a5319dea3d127304311a6f5cb3e6de7cf8bc9fc7677bc082fc43204cfae3ff120f002ea13c344e227dd6f25f6d5b7d10a0cf9b164c08806490008',\nwebphoneSecretToken: 'd371dbef7aa52d1f70437c9a20371615c6788c2e4dde5cb6a41e3ff4e1cdd05f8ca3f586bb19aad8a31d442f6ecc38551c49ea7fcf2c06b459921b7b8733b384',\nallowedOrigin: [''],\napiUrl: 'https://api.deepl.com/v2/translate',\napiUrl2: 'https://api.deepl.com/v2/languages',\nauthKey: '7f2e5b30-75ab-d220-7475-d3c257127013',\ntranslateLangs: ['EN', 'DE', 'ES', 'FR', 'PT', 'IT', 'NL', 'PL', 'RU'],\nwebphoneServer: 'http://localhost:3001',\ntechAssistantUser: '_ibp_techassist',\nbucketSecretAccessKey:'sTmAWXcPpf7izRsQUvZ3r7V39em55z5CIiqgOxHGds4',\nbucketAccessKeyId:'ZAWLEL6XWXH2GOH64HW4',\nbucketEndPoint:'nyc3.digitaloceanspaces.com',\nbucketName:'opentechiz-test-documents'\n},\ndevelopment: {\nallowedOrigin: ['http://localhost:3000', 'http://localhost:3002']\n},\ndocker: {\nuseSocket: true,\nsocket_file: 'textchat.sock',\nallowedOrigin: ['https://webphone.tech'],\nwebphoneServer: 'https://webphone.tech'\n},\nstaging: {\nuseSocket: true,\nsocket_file: 'textchat.sock',\nallowedOrigin: ['https://stg.meeting.ibridgepeople.net'],\nwebphoneServer: 'https://stg.meeting.ibridgepeople.net'\n},\nbench: {\nuseSocket: true,\nsocket_file: 'textchat.sock',\nallowedOrigin: ['https://meeting.ibridgepeople.fr'],\nwebphoneServer: 'https://meeting.ibridgepeople.fr'\n},\nproduction: {\nuseSocket: true,\nsocket_file: 'textchat.sock',\nallowedOrigin: ['https://webphone.ibridgepeople.fr'],\nwebphoneServer: 'https://webphone.ibridgepeople.fr'\n},\ndigitalOcean:{\nsecretAccessKey: 'VomUCSVELm4UzufItwPykx0w7SPcL6n7m4vUpfr/eF8',\naccessKeyId: 'YOLBDSNTP4BEX7VLFTIT'\n}\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1615602405136
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Admin\", {\n  enumerable: true,\n  get: function () {\n    return _admin.default;\n  }\n});\nObject.defineProperty(exports, \"AdminSender\", {\n  enumerable: true,\n  get: function () {\n    return _admin.AdminSender;\n  }\n});\nObject.defineProperty(exports, \"Client\", {\n  enumerable: true,\n  get: function () {\n    return _client.default;\n  }\n});\nObject.defineProperty(exports, \"Sender\", {\n  enumerable: true,\n  get: function () {\n    return _client.Sender;\n  }\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _socket.default;\n  }\n});\n\nvar _admin = _interopRequireWildcard(require(\"./admin\"));\n\nvar _client = _interopRequireWildcard(require(\"./client\"));\n\nvar _socket = _interopRequireDefault(require(\"./socket\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3RleHRjaGF0LW5vZGUvc3JjL3NvY2tldC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQWRtaW4sIHsgQWRtaW5TZW5kZXIgfSBmcm9tICcuL2FkbWluJ1xuaW1wb3J0IENsaWVudCwgeyBTZW5kZXIgfSBmcm9tICcuL2NsaWVudCdcblxuZXhwb3J0IHsgQ2xpZW50LCBBZG1pbiwgU2VuZGVyLCBBZG1pblNlbmRlciB9XG5leHBvcnQgZGVmYXVsdCBmcm9tICcuL3NvY2tldCdcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/",
      "sourcesContent": [
        "import Admin, { AdminSender } from './admin'\nimport Client, { Sender } from './client'\n\nexport { Client, Admin, Sender, AdminSender }\nexport default from './socket'\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _admin.default;\n  }\n});\nexports.AdminSender = void 0;\n\nvar AdminSender = _interopRequireWildcard(require(\"./sender\"));\n\nexports.AdminSender = AdminSender;\n\nvar _admin = _interopRequireDefault(require(\"./admin\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy90ZXh0Y2hhdC1ub2RlL3NyYy9zb2NrZXQvYWRtaW4vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQWRtaW5TZW5kZXIgZnJvbSAnLi9zZW5kZXInXG5cbmV4cG9ydCB7IEFkbWluU2VuZGVyIH1cbmV4cG9ydCBkZWZhdWx0IGZyb20gJy4vYWRtaW4nXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;AAAA",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/",
      "sourcesContent": [
        "import * as AdminSender from './sender'\n\nexport { AdminSender }\nexport default from './admin'\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/sender.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/sender.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/sender.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/sender.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/",
        "sourceFileName": "sender.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.usersAll = void 0;\n\nvar _admin = _interopRequireDefault(require(\"./admin\"));\n\nvar _user = _interopRequireDefault(require(\"../../models/user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst usersAll = () => {\n  _admin.default.broadcast(_admin.default.USERS_ALL, {\n    data: _user.default.all\n  });\n};\n\nexports.usersAll = usersAll;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlbmRlci5qcyJdLCJuYW1lcyI6WyJ1c2Vyc0FsbCIsIkFkbWluIiwiYnJvYWRjYXN0IiwiVVNFUlNfQUxMIiwiZGF0YSIsIlVzZXIiLCJhbGwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVPLE1BQU1BLFFBQVEsR0FBRyxNQUFNO0FBQzVCQyxpQkFBTUMsU0FBTixDQUFnQkQsZUFBTUUsU0FBdEIsRUFBaUM7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxjQUFLQztBQUFiLEdBQWpDO0FBQ0QsQ0FGTSIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy90ZXh0Y2hhdC1ub2RlL3NyYy9zb2NrZXQvYWRtaW4vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFkbWluIGZyb20gJy4vYWRtaW4nXG5pbXBvcnQgVXNlciBmcm9tICcuLi8uLi9tb2RlbHMvdXNlcidcblxuZXhwb3J0IGNvbnN0IHVzZXJzQWxsID0gKCkgPT4ge1xuICBBZG1pbi5icm9hZGNhc3QoQWRtaW4uVVNFUlNfQUxMLCB7IGRhdGE6IFVzZXIuYWxsIH0pXG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "sender.js"
      ],
      "names": [
        "usersAll",
        "Admin",
        "broadcast",
        "USERS_ALL",
        "data",
        "User",
        "all"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEO,MAAMA,QAAQ,GAAG,MAAM;AAC5BC,iBAAMC,SAAN,CAAgBD,eAAME,SAAtB,EAAiC;AAAEC,IAAAA,IAAI,EAAEC,cAAKC;AAAb,GAAjC;AACD,CAFM",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/",
      "sourcesContent": [
        "import Admin from './admin'\nimport User from '../../models/user'\n\nexport const usersAll = () => {\n  Admin.broadcast(Admin.USERS_ALL, { data: User.all })\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/admin.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/admin.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/admin.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/admin.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/",
        "sourceFileName": "admin.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _client = _interopRequireDefault(require(\"../client\"));\n\nvar _socket = _interopRequireDefault(require(\"../socket\"));\n\nvar _handler = _interopRequireDefault(require(\"./handler\"));\n\nvar Sender = _interopRequireWildcard(require(\"./sender\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst subscribedClientEvents = [// Socket.USER_NEW,\n  // Socket.USER_UPDATE\n];\n\nclass Admin extends _socket.default {\n  constructor(props) {\n    super(props);\n    this.handler = _handler.default;\n  }\n\n  // {channel_name: Set [ instanceId ]}\n  static add(connection) {\n    const socket = new Admin(connection);\n    Admin.all.push(socket);\n    Sender.usersAll();\n    return socket;\n  }\n\n  static transmit(event, data) {\n    if (!subscribedClientEvents.some(e => e === event)) return;\n    Admin.broadcast(event, data);\n  }\n\n  static broadcast(event, data) {\n    Admin.all.forEach(socket => socket.send({\n      event,\n      data\n    }));\n  }\n\n}\n\nexports.default = Admin;\n\n_defineProperty(Admin, \"all\", []);\n\n_defineProperty(Admin, \"channels\", {});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIl0sIm5hbWVzIjpbInN1YnNjcmliZWRDbGllbnRFdmVudHMiLCJBZG1pbiIsIlNvY2tldCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJoYW5kbGVyIiwiYWRkIiwiY29ubmVjdGlvbiIsInNvY2tldCIsImFsbCIsInB1c2giLCJTZW5kZXIiLCJ1c2Vyc0FsbCIsInRyYW5zbWl0IiwiZXZlbnQiLCJkYXRhIiwic29tZSIsImUiLCJicm9hZGNhc3QiLCJmb3JFYWNoIiwic2VuZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7O0FBRUEsTUFBTUEsc0JBQXNCLEdBQUcsQ0FDN0I7QUFDQTtBQUY2QixDQUEvQjs7QUFLZSxNQUFNQyxLQUFOLFNBQW9CQyxlQUFwQixDQUEyQjtBQUN4Q0MsRUFBQUEsV0FBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUtDLE9BQUwsR0FBZUEsZ0JBQWY7QUFDRDs7QUFJb0I7QUFFWCxTQUFIQyxHQUFHLENBQUNDLFVBQUQsRUFBYTtBQUNyQixVQUFNQyxNQUFNLEdBQUcsSUFBSVAsS0FBSixDQUFVTSxVQUFWLENBQWY7QUFDQU4sSUFBQUEsS0FBSyxDQUFDUSxHQUFOLENBQVVDLElBQVYsQ0FBZUYsTUFBZjtBQUNBRyxJQUFBQSxNQUFNLENBQUNDLFFBQVA7QUFDQSxXQUFPSixNQUFQO0FBQ0Q7O0FBRWMsU0FBUkssUUFBUSxDQUFDQyxLQUFELEVBQVFDLElBQVIsRUFBYztBQUMzQixRQUFJLENBQUNmLHNCQUFzQixDQUFDZ0IsSUFBdkIsQ0FBNEJDLENBQUMsSUFBSUEsQ0FBQyxLQUFLSCxLQUF2QyxDQUFMLEVBQW9EO0FBQ3BEYixJQUFBQSxLQUFLLENBQUNpQixTQUFOLENBQWdCSixLQUFoQixFQUF1QkMsSUFBdkI7QUFDRDs7QUFFZSxTQUFURyxTQUFTLENBQUNKLEtBQUQsRUFBUUMsSUFBUixFQUFjO0FBQzVCZCxJQUFBQSxLQUFLLENBQUNRLEdBQU4sQ0FBVVUsT0FBVixDQUFrQlgsTUFBTSxJQUFJQSxNQUFNLENBQUNZLElBQVAsQ0FBWTtBQUFFTixNQUFBQSxLQUFGO0FBQVNDLE1BQUFBO0FBQVQsS0FBWixDQUE1QjtBQUNEOztBQXhCdUM7Ozs7Z0JBQXJCZCxLLFNBTU4sRTs7Z0JBTk1BLEssY0FRRCxFIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3RleHRjaGF0LW5vZGUvc3JjL3NvY2tldC9hZG1pbi8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2xpZW50IGZyb20gJy4uL2NsaWVudCdcbmltcG9ydCBTb2NrZXQgZnJvbSAnLi4vc29ja2V0J1xuaW1wb3J0IGhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyJ1xuaW1wb3J0ICogYXMgU2VuZGVyIGZyb20gJy4vc2VuZGVyJ1xuXG5jb25zdCBzdWJzY3JpYmVkQ2xpZW50RXZlbnRzID0gW1xuICAvLyBTb2NrZXQuVVNFUl9ORVcsXG4gIC8vIFNvY2tldC5VU0VSX1VQREFURVxuXVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBZG1pbiBleHRlbmRzIFNvY2tldCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5oYW5kbGVyID0gaGFuZGxlclxuICB9XG5cbiAgc3RhdGljIGFsbCA9IFtdIC8vIGFycmF5IG9mIGFsbCBzb2NrZXQgaW5zdGFuY2VzXG5cbiAgc3RhdGljIGNoYW5uZWxzID0ge30gLy8ge2NoYW5uZWxfbmFtZTogU2V0IFsgaW5zdGFuY2VJZCBdfVxuXG4gIHN0YXRpYyBhZGQoY29ubmVjdGlvbikge1xuICAgIGNvbnN0IHNvY2tldCA9IG5ldyBBZG1pbihjb25uZWN0aW9uKVxuICAgIEFkbWluLmFsbC5wdXNoKHNvY2tldClcbiAgICBTZW5kZXIudXNlcnNBbGwoKVxuICAgIHJldHVybiBzb2NrZXRcbiAgfVxuXG4gIHN0YXRpYyB0cmFuc21pdChldmVudCwgZGF0YSkge1xuICAgIGlmICghc3Vic2NyaWJlZENsaWVudEV2ZW50cy5zb21lKGUgPT4gZSA9PT0gZXZlbnQpKSByZXR1cm5cbiAgICBBZG1pbi5icm9hZGNhc3QoZXZlbnQsIGRhdGEpXG4gIH1cblxuICBzdGF0aWMgYnJvYWRjYXN0KGV2ZW50LCBkYXRhKSB7XG4gICAgQWRtaW4uYWxsLmZvckVhY2goc29ja2V0ID0+IHNvY2tldC5zZW5kKHsgZXZlbnQsIGRhdGEgfSkpXG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "admin.js"
      ],
      "names": [
        "subscribedClientEvents",
        "Admin",
        "Socket",
        "constructor",
        "props",
        "handler",
        "add",
        "connection",
        "socket",
        "all",
        "push",
        "Sender",
        "usersAll",
        "transmit",
        "event",
        "data",
        "some",
        "e",
        "broadcast",
        "forEach",
        "send"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;AAEA,MAAMA,sBAAsB,GAAG,CAC7B;AACA;AAF6B,CAA/B;;AAKe,MAAMC,KAAN,SAAoBC,eAApB,CAA2B;AACxCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,OAAL,GAAeA,gBAAf;AACD;;AAIoB;AAEX,SAAHC,GAAG,CAACC,UAAD,EAAa;AACrB,UAAMC,MAAM,GAAG,IAAIP,KAAJ,CAAUM,UAAV,CAAf;AACAN,IAAAA,KAAK,CAACQ,GAAN,CAAUC,IAAV,CAAeF,MAAf;AACAG,IAAAA,MAAM,CAACC,QAAP;AACA,WAAOJ,MAAP;AACD;;AAEc,SAARK,QAAQ,CAACC,KAAD,EAAQC,IAAR,EAAc;AAC3B,QAAI,CAACf,sBAAsB,CAACgB,IAAvB,CAA4BC,CAAC,IAAIA,CAAC,KAAKH,KAAvC,CAAL,EAAoD;AACpDb,IAAAA,KAAK,CAACiB,SAAN,CAAgBJ,KAAhB,EAAuBC,IAAvB;AACD;;AAEe,SAATG,SAAS,CAACJ,KAAD,EAAQC,IAAR,EAAc;AAC5Bd,IAAAA,KAAK,CAACQ,GAAN,CAAUU,OAAV,CAAkBX,MAAM,IAAIA,MAAM,CAACY,IAAP,CAAY;AAAEN,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAZ,CAA5B;AACD;;AAxBuC;;;;gBAArBd,K,SAMN,E;;gBANMA,K,cAQD,E",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/",
      "sourcesContent": [
        "import Client from '../client'\nimport Socket from '../socket'\nimport handler from './handler'\nimport * as Sender from './sender'\n\nconst subscribedClientEvents = [\n  // Socket.USER_NEW,\n  // Socket.USER_UPDATE\n]\n\nexport default class Admin extends Socket {\n  constructor(props) {\n    super(props)\n    this.handler = handler\n  }\n\n  static all = [] // array of all socket instances\n\n  static channels = {} // {channel_name: Set [ instanceId ]}\n\n  static add(connection) {\n    const socket = new Admin(connection)\n    Admin.all.push(socket)\n    Sender.usersAll()\n    return socket\n  }\n\n  static transmit(event, data) {\n    if (!subscribedClientEvents.some(e => e === event)) return\n    Admin.broadcast(event, data)\n  }\n\n  static broadcast(event, data) {\n    Admin.all.forEach(socket => socket.send({ event, data }))\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _client.default;\n  }\n});\nexports.Sender = void 0;\n\nvar Sender = _interopRequireWildcard(require(\"./sender\"));\n\nexports.Sender = Sender;\n\nvar _client = _interopRequireDefault(require(\"./client\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy90ZXh0Y2hhdC1ub2RlL3NyYy9zb2NrZXQvY2xpZW50LyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFNlbmRlciBmcm9tICcuL3NlbmRlcidcblxuZXhwb3J0IHsgU2VuZGVyIH1cbmV4cG9ydCBkZWZhdWx0IGZyb20gJy4vY2xpZW50J1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;AAAA",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/",
      "sourcesContent": [
        "import * as Sender from './sender'\n\nexport { Sender }\nexport default from './client'\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/sender.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/sender.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/sender.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/sender.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/",
        "sourceFileName": "sender.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeUser = exports.deleteChatSuccess = exports.meetingsAdd = exports.messagesAdd = exports.appLoaded = exports.messagesUpdateUser = exports.messagesChange = exports.userUpdate = exports.userChange = void 0;\n\nvar _ = _interopRequireDefault(require(\".\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userChange = (channel, data) => {\n  _.default.broadcast(channel, _.default.USER_CHANGE, data);\n};\n\nexports.userChange = userChange;\n\nconst userUpdate = (channel, data) => {\n  _.default.broadcast(channel, _.default.USER_UPDATE, data);\n};\n\nexports.userUpdate = userUpdate;\n\nconst messagesChange = (channel, data) => {\n  _.default.broadcast(channel, _.default.MESSAGES_CHANGE, data);\n};\n\nexports.messagesChange = messagesChange;\n\nconst messagesUpdateUser = (channel, data) => {\n  _.default.broadcast(channel, _.default.MESSAGES_UPDATE_USER, data);\n};\n\nexports.messagesUpdateUser = messagesUpdateUser;\n\nconst appLoaded = (channel, data) => {\n  _.default.broadcast(channel, _.default.APP_LOADED, data);\n};\n\nexports.appLoaded = appLoaded;\n\nconst messagesAdd = (channel, data) => {\n  _.default.broadcast(channel, _.default.MESSAGES_ADD, data);\n};\n\nexports.messagesAdd = messagesAdd;\n\nconst meetingsAdd = (channel, data) => {\n  _.default.broadcast(channel, _.default.MEETINGS_ADD, data);\n};\n\nexports.meetingsAdd = meetingsAdd;\n\nconst deleteChatSuccess = (channel, data) => {\n  _.default.broadcast(channel, _.default.DELETE_CHAT_SUCCESS, data);\n};\n\nexports.deleteChatSuccess = deleteChatSuccess;\n\nconst removeUser = (channel, data) => {\n  _.default.broadcast(channel, _.default.REMOVE_USER, data);\n};\n\nexports.removeUser = removeUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlbmRlci5qcyJdLCJuYW1lcyI6WyJ1c2VyQ2hhbmdlIiwiY2hhbm5lbCIsImRhdGEiLCJTb2NrZXQiLCJicm9hZGNhc3QiLCJVU0VSX0NIQU5HRSIsInVzZXJVcGRhdGUiLCJVU0VSX1VQREFURSIsIm1lc3NhZ2VzQ2hhbmdlIiwiTUVTU0FHRVNfQ0hBTkdFIiwibWVzc2FnZXNVcGRhdGVVc2VyIiwiTUVTU0FHRVNfVVBEQVRFX1VTRVIiLCJhcHBMb2FkZWQiLCJBUFBfTE9BREVEIiwibWVzc2FnZXNBZGQiLCJNRVNTQUdFU19BREQiLCJtZWV0aW5nc0FkZCIsIk1FRVRJTkdTX0FERCIsImRlbGV0ZUNoYXRTdWNjZXNzIiwiREVMRVRFX0NIQVRfU1VDQ0VTUyIsInJlbW92ZVVzZXIiLCJSRU1PVkVfVVNFUiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRU8sTUFBTUEsVUFBVSxHQUFHLENBQUNDLE9BQUQsRUFBVUMsSUFBVixLQUFtQjtBQUMzQ0MsWUFBT0MsU0FBUCxDQUFpQkgsT0FBakIsRUFBMEJFLFVBQU9FLFdBQWpDLEVBQThDSCxJQUE5QztBQUNELENBRk07Ozs7QUFJQSxNQUFNSSxVQUFVLEdBQUcsQ0FBQ0wsT0FBRCxFQUFVQyxJQUFWLEtBQW1CO0FBQzNDQyxZQUFPQyxTQUFQLENBQWlCSCxPQUFqQixFQUEwQkUsVUFBT0ksV0FBakMsRUFBOENMLElBQTlDO0FBQ0QsQ0FGTTs7OztBQUlBLE1BQU1NLGNBQWMsR0FBRyxDQUFDUCxPQUFELEVBQVVDLElBQVYsS0FBbUI7QUFDL0NDLFlBQU9DLFNBQVAsQ0FBaUJILE9BQWpCLEVBQTBCRSxVQUFPTSxlQUFqQyxFQUFrRFAsSUFBbEQ7QUFDRCxDQUZNOzs7O0FBSUEsTUFBTVEsa0JBQWtCLEdBQUcsQ0FBQ1QsT0FBRCxFQUFVQyxJQUFWLEtBQW1CO0FBQ25EQyxZQUFPQyxTQUFQLENBQWlCSCxPQUFqQixFQUEwQkUsVUFBT1Esb0JBQWpDLEVBQXVEVCxJQUF2RDtBQUNELENBRk07Ozs7QUFJQSxNQUFNVSxTQUFTLEdBQUcsQ0FBQ1gsT0FBRCxFQUFVQyxJQUFWLEtBQW1CO0FBQzFDQyxZQUFPQyxTQUFQLENBQWlCSCxPQUFqQixFQUEwQkUsVUFBT1UsVUFBakMsRUFBNkNYLElBQTdDO0FBQ0QsQ0FGTTs7OztBQUlBLE1BQU1ZLFdBQVcsR0FBRyxDQUFDYixPQUFELEVBQVVDLElBQVYsS0FBbUI7QUFDNUNDLFlBQU9DLFNBQVAsQ0FBaUJILE9BQWpCLEVBQTBCRSxVQUFPWSxZQUFqQyxFQUErQ2IsSUFBL0M7QUFDRCxDQUZNOzs7O0FBSUEsTUFBTWMsV0FBVyxHQUFHLENBQUNmLE9BQUQsRUFBVUMsSUFBVixLQUFtQjtBQUM1Q0MsWUFBT0MsU0FBUCxDQUFpQkgsT0FBakIsRUFBMEJFLFVBQU9jLFlBQWpDLEVBQStDZixJQUEvQztBQUNELENBRk07Ozs7QUFJQSxNQUFNZ0IsaUJBQWlCLEdBQUcsQ0FBQ2pCLE9BQUQsRUFBVUMsSUFBVixLQUFtQjtBQUNsREMsWUFBT0MsU0FBUCxDQUFpQkgsT0FBakIsRUFBMEJFLFVBQU9nQixtQkFBakMsRUFBc0RqQixJQUF0RDtBQUNELENBRk07Ozs7QUFJQSxNQUFNa0IsVUFBVSxHQUFHLENBQUNuQixPQUFELEVBQVVDLElBQVYsS0FBbUI7QUFDM0NDLFlBQU9DLFNBQVAsQ0FBaUJILE9BQWpCLEVBQTBCRSxVQUFPa0IsV0FBakMsRUFBOENuQixJQUE5QztBQUNELENBRk0iLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvdGV4dGNoYXQtbm9kZS9zcmMvc29ja2V0L2NsaWVudC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU29ja2V0IGZyb20gJy4nXG5cbmV4cG9ydCBjb25zdCB1c2VyQ2hhbmdlID0gKGNoYW5uZWwsIGRhdGEpID0+IHtcbiAgU29ja2V0LmJyb2FkY2FzdChjaGFubmVsLCBTb2NrZXQuVVNFUl9DSEFOR0UsIGRhdGEpXG59XG5cbmV4cG9ydCBjb25zdCB1c2VyVXBkYXRlID0gKGNoYW5uZWwsIGRhdGEpID0+IHtcbiAgU29ja2V0LmJyb2FkY2FzdChjaGFubmVsLCBTb2NrZXQuVVNFUl9VUERBVEUsIGRhdGEpXG59XG5cbmV4cG9ydCBjb25zdCBtZXNzYWdlc0NoYW5nZSA9IChjaGFubmVsLCBkYXRhKSA9PiB7XG4gIFNvY2tldC5icm9hZGNhc3QoY2hhbm5lbCwgU29ja2V0Lk1FU1NBR0VTX0NIQU5HRSwgZGF0YSlcbn1cblxuZXhwb3J0IGNvbnN0IG1lc3NhZ2VzVXBkYXRlVXNlciA9IChjaGFubmVsLCBkYXRhKSA9PiB7XG4gIFNvY2tldC5icm9hZGNhc3QoY2hhbm5lbCwgU29ja2V0Lk1FU1NBR0VTX1VQREFURV9VU0VSLCBkYXRhKVxufVxuXG5leHBvcnQgY29uc3QgYXBwTG9hZGVkID0gKGNoYW5uZWwsIGRhdGEpID0+IHtcbiAgU29ja2V0LmJyb2FkY2FzdChjaGFubmVsLCBTb2NrZXQuQVBQX0xPQURFRCwgZGF0YSlcbn1cblxuZXhwb3J0IGNvbnN0IG1lc3NhZ2VzQWRkID0gKGNoYW5uZWwsIGRhdGEpID0+IHtcbiAgU29ja2V0LmJyb2FkY2FzdChjaGFubmVsLCBTb2NrZXQuTUVTU0FHRVNfQURELCBkYXRhKVxufVxuXG5leHBvcnQgY29uc3QgbWVldGluZ3NBZGQgPSAoY2hhbm5lbCwgZGF0YSkgPT4ge1xuICBTb2NrZXQuYnJvYWRjYXN0KGNoYW5uZWwsIFNvY2tldC5NRUVUSU5HU19BREQsIGRhdGEpXG59XG5cbmV4cG9ydCBjb25zdCBkZWxldGVDaGF0U3VjY2VzcyA9IChjaGFubmVsLCBkYXRhKSA9PiB7XG4gIFNvY2tldC5icm9hZGNhc3QoY2hhbm5lbCwgU29ja2V0LkRFTEVURV9DSEFUX1NVQ0NFU1MsIGRhdGEpXG59XG5cbmV4cG9ydCBjb25zdCByZW1vdmVVc2VyID0gKGNoYW5uZWwsIGRhdGEpID0+IHtcbiAgU29ja2V0LmJyb2FkY2FzdChjaGFubmVsLCBTb2NrZXQuUkVNT1ZFX1VTRVIsIGRhdGEpXG59ICJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "sender.js"
      ],
      "names": [
        "userChange",
        "channel",
        "data",
        "Socket",
        "broadcast",
        "USER_CHANGE",
        "userUpdate",
        "USER_UPDATE",
        "messagesChange",
        "MESSAGES_CHANGE",
        "messagesUpdateUser",
        "MESSAGES_UPDATE_USER",
        "appLoaded",
        "APP_LOADED",
        "messagesAdd",
        "MESSAGES_ADD",
        "meetingsAdd",
        "MEETINGS_ADD",
        "deleteChatSuccess",
        "DELETE_CHAT_SUCCESS",
        "removeUser",
        "REMOVE_USER"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEO,MAAMA,UAAU,GAAG,CAACC,OAAD,EAAUC,IAAV,KAAmB;AAC3CC,YAAOC,SAAP,CAAiBH,OAAjB,EAA0BE,UAAOE,WAAjC,EAA8CH,IAA9C;AACD,CAFM;;;;AAIA,MAAMI,UAAU,GAAG,CAACL,OAAD,EAAUC,IAAV,KAAmB;AAC3CC,YAAOC,SAAP,CAAiBH,OAAjB,EAA0BE,UAAOI,WAAjC,EAA8CL,IAA9C;AACD,CAFM;;;;AAIA,MAAMM,cAAc,GAAG,CAACP,OAAD,EAAUC,IAAV,KAAmB;AAC/CC,YAAOC,SAAP,CAAiBH,OAAjB,EAA0BE,UAAOM,eAAjC,EAAkDP,IAAlD;AACD,CAFM;;;;AAIA,MAAMQ,kBAAkB,GAAG,CAACT,OAAD,EAAUC,IAAV,KAAmB;AACnDC,YAAOC,SAAP,CAAiBH,OAAjB,EAA0BE,UAAOQ,oBAAjC,EAAuDT,IAAvD;AACD,CAFM;;;;AAIA,MAAMU,SAAS,GAAG,CAACX,OAAD,EAAUC,IAAV,KAAmB;AAC1CC,YAAOC,SAAP,CAAiBH,OAAjB,EAA0BE,UAAOU,UAAjC,EAA6CX,IAA7C;AACD,CAFM;;;;AAIA,MAAMY,WAAW,GAAG,CAACb,OAAD,EAAUC,IAAV,KAAmB;AAC5CC,YAAOC,SAAP,CAAiBH,OAAjB,EAA0BE,UAAOY,YAAjC,EAA+Cb,IAA/C;AACD,CAFM;;;;AAIA,MAAMc,WAAW,GAAG,CAACf,OAAD,EAAUC,IAAV,KAAmB;AAC5CC,YAAOC,SAAP,CAAiBH,OAAjB,EAA0BE,UAAOc,YAAjC,EAA+Cf,IAA/C;AACD,CAFM;;;;AAIA,MAAMgB,iBAAiB,GAAG,CAACjB,OAAD,EAAUC,IAAV,KAAmB;AAClDC,YAAOC,SAAP,CAAiBH,OAAjB,EAA0BE,UAAOgB,mBAAjC,EAAsDjB,IAAtD;AACD,CAFM;;;;AAIA,MAAMkB,UAAU,GAAG,CAACnB,OAAD,EAAUC,IAAV,KAAmB;AAC3CC,YAAOC,SAAP,CAAiBH,OAAjB,EAA0BE,UAAOkB,WAAjC,EAA8CnB,IAA9C;AACD,CAFM",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/",
      "sourcesContent": [
        "import Socket from '.'\n\nexport const userChange = (channel, data) => {\n  Socket.broadcast(channel, Socket.USER_CHANGE, data)\n}\n\nexport const userUpdate = (channel, data) => {\n  Socket.broadcast(channel, Socket.USER_UPDATE, data)\n}\n\nexport const messagesChange = (channel, data) => {\n  Socket.broadcast(channel, Socket.MESSAGES_CHANGE, data)\n}\n\nexport const messagesUpdateUser = (channel, data) => {\n  Socket.broadcast(channel, Socket.MESSAGES_UPDATE_USER, data)\n}\n\nexport const appLoaded = (channel, data) => {\n  Socket.broadcast(channel, Socket.APP_LOADED, data)\n}\n\nexport const messagesAdd = (channel, data) => {\n  Socket.broadcast(channel, Socket.MESSAGES_ADD, data)\n}\n\nexport const meetingsAdd = (channel, data) => {\n  Socket.broadcast(channel, Socket.MEETINGS_ADD, data)\n}\n\nexport const deleteChatSuccess = (channel, data) => {\n  Socket.broadcast(channel, Socket.DELETE_CHAT_SUCCESS, data)\n}\n\nexport const removeUser = (channel, data) => {\n  Socket.broadcast(channel, Socket.REMOVE_USER, data)\n} "
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/client.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/client.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/client.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/client.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/",
        "sourceFileName": "client.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _socket = _interopRequireDefault(require(\"../socket\"));\n\nvar _handler = _interopRequireDefault(require(\"./handler\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// import axios from 'axios'\n// import config from '../../../config'\nclass Client extends _socket.default {\n  constructor(props) {\n    super(props);\n    this.handler = _handler.default;\n  }\n\n  // {channel_name: Set [ instanceId ]}\n  static add(connection, queryString = {}) {\n    const {\n      webphoneUserId,\n      languagesConfig,\n      deepLSupports\n    } = queryString;\n    connection.webphoneUserId = webphoneUserId;\n    connection.languagesConfig = languagesConfig;\n    connection.deepLSupports = deepLSupports;\n    const socket = new Client(connection);\n    Client.all.push(socket);\n    return socket;\n  }\n\n} // import axios from 'axios'\n// import Socket from '../socket'\n// import handler from './handler'\n// import config from '../../../config'\n// export default class Client extends Socket {  \n//   constructor(props) {\n//     super(props)\n//     this.handler = handler\n//   }\n//   static all = [] // array of all socket instances\n//   static channels = {} // {channel_name: Set [ instanceId ]}\n//   static async add(connection, queryString = {}) {\n//     const { webphoneUserId, meetingID, role } = queryString\n//     connection.webphoneUserId = webphoneUserId\n//     const { webphoneSecretToken } = config\n//     const params = { meetingID, secretToken: webphoneSecretToken }\n//     let languagesSupport\n//     try {\n//       const response = await axios.get(\n//         `${config.webphoneServer}/getMeetingData`,\n//         { params }\n//       )\n//       languagesSupport = response.data.meeting.conferences.filter(\n//         (c) => role !== 'regular' || c.accessible\n//       ).map(c => c.code)\n//     } catch (error) {\n//       languagesSupport = null\n//     }\n//     connection.languagesSupport = languagesSupport\n//     const socket = new Client(connection)\n//     Client.all.push(socket)\n//     return socket\n//   }\n// }\n\n\nexports.default = Client;\n\n_defineProperty(Client, \"all\", []);\n\n_defineProperty(Client, \"channels\", {});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsaWVudC5qcyJdLCJuYW1lcyI6WyJDbGllbnQiLCJTb2NrZXQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwiaGFuZGxlciIsImFkZCIsImNvbm5lY3Rpb24iLCJxdWVyeVN0cmluZyIsIndlYnBob25lVXNlcklkIiwibGFuZ3VhZ2VzQ29uZmlnIiwiZGVlcExTdXBwb3J0cyIsInNvY2tldCIsImFsbCIsInB1c2giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7Ozs7O0FBQ0E7QUFDQTtBQUVlLE1BQU1BLE1BQU4sU0FBcUJDLGVBQXJCLENBQTRCO0FBQ3pDQyxFQUFBQSxXQUFXLENBQUNDLEtBQUQsRUFBUTtBQUNqQixVQUFNQSxLQUFOO0FBQ0EsU0FBS0MsT0FBTCxHQUFlQSxnQkFBZjtBQUNEOztBQUlvQjtBQUVYLFNBQUhDLEdBQUcsQ0FBQ0MsVUFBRCxFQUFhQyxXQUFXLEdBQUcsRUFBM0IsRUFBK0I7QUFDdkMsVUFBTTtBQUFFQyxNQUFBQSxjQUFGO0FBQWtCQyxNQUFBQSxlQUFsQjtBQUFtQ0MsTUFBQUE7QUFBbkMsUUFBcURILFdBQTNEO0FBQ0FELElBQUFBLFVBQVUsQ0FBQ0UsY0FBWCxHQUE0QkEsY0FBNUI7QUFDQUYsSUFBQUEsVUFBVSxDQUFDRyxlQUFYLEdBQTZCQSxlQUE3QjtBQUNBSCxJQUFBQSxVQUFVLENBQUNJLGFBQVgsR0FBMkJBLGFBQTNCO0FBQ0EsVUFBTUMsTUFBTSxHQUFHLElBQUlYLE1BQUosQ0FBV00sVUFBWCxDQUFmO0FBQ0FOLElBQUFBLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXQyxJQUFYLENBQWdCRixNQUFoQjtBQUNBLFdBQU9BLE1BQVA7QUFDRDs7QUFsQndDLEMsQ0FzQjNDO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztnQkE3RHFCWCxNLFNBTU4sRTs7Z0JBTk1BLE0sY0FRRCxFIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3RleHRjaGF0LW5vZGUvc3JjL3NvY2tldC9jbGllbnQvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNvY2tldCBmcm9tICcuLi9zb2NrZXQnXG5pbXBvcnQgaGFuZGxlciBmcm9tICcuL2hhbmRsZXInXG4vLyBpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnXG4vLyBpbXBvcnQgY29uZmlnIGZyb20gJy4uLy4uLy4uL2NvbmZpZydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2xpZW50IGV4dGVuZHMgU29ja2V0IHsgIFxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXJcbiAgfVxuXG4gIHN0YXRpYyBhbGwgPSBbXSAvLyBhcnJheSBvZiBhbGwgc29ja2V0IGluc3RhbmNlc1xuXG4gIHN0YXRpYyBjaGFubmVscyA9IHt9IC8vIHtjaGFubmVsX25hbWU6IFNldCBbIGluc3RhbmNlSWQgXX1cblxuICBzdGF0aWMgYWRkKGNvbm5lY3Rpb24sIHF1ZXJ5U3RyaW5nID0ge30pIHtcbiAgICBjb25zdCB7IHdlYnBob25lVXNlcklkLCBsYW5ndWFnZXNDb25maWcsIGRlZXBMU3VwcG9ydHMgfSA9IHF1ZXJ5U3RyaW5nXG4gICAgY29ubmVjdGlvbi53ZWJwaG9uZVVzZXJJZCA9IHdlYnBob25lVXNlcklkXG4gICAgY29ubmVjdGlvbi5sYW5ndWFnZXNDb25maWcgPSBsYW5ndWFnZXNDb25maWdcbiAgICBjb25uZWN0aW9uLmRlZXBMU3VwcG9ydHMgPSBkZWVwTFN1cHBvcnRzXG4gICAgY29uc3Qgc29ja2V0ID0gbmV3IENsaWVudChjb25uZWN0aW9uKVxuICAgIENsaWVudC5hbGwucHVzaChzb2NrZXQpXG4gICAgcmV0dXJuIHNvY2tldFxuICB9XG59XG5cblxuLy8gaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xuLy8gaW1wb3J0IFNvY2tldCBmcm9tICcuLi9zb2NrZXQnXG4vLyBpbXBvcnQgaGFuZGxlciBmcm9tICcuL2hhbmRsZXInXG4vLyBpbXBvcnQgY29uZmlnIGZyb20gJy4uLy4uLy4uL2NvbmZpZydcblxuXG4vLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBDbGllbnQgZXh0ZW5kcyBTb2NrZXQgeyAgXG4vLyAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4vLyAgICAgc3VwZXIocHJvcHMpXG4vLyAgICAgdGhpcy5oYW5kbGVyID0gaGFuZGxlclxuLy8gICB9XG5cbi8vICAgc3RhdGljIGFsbCA9IFtdIC8vIGFycmF5IG9mIGFsbCBzb2NrZXQgaW5zdGFuY2VzXG5cbi8vICAgc3RhdGljIGNoYW5uZWxzID0ge30gLy8ge2NoYW5uZWxfbmFtZTogU2V0IFsgaW5zdGFuY2VJZCBdfVxuXG4vLyAgIHN0YXRpYyBhc3luYyBhZGQoY29ubmVjdGlvbiwgcXVlcnlTdHJpbmcgPSB7fSkge1xuLy8gICAgIGNvbnN0IHsgd2VicGhvbmVVc2VySWQsIG1lZXRpbmdJRCwgcm9sZSB9ID0gcXVlcnlTdHJpbmdcbi8vICAgICBjb25uZWN0aW9uLndlYnBob25lVXNlcklkID0gd2VicGhvbmVVc2VySWRcbiAgICBcbi8vICAgICBjb25zdCB7IHdlYnBob25lU2VjcmV0VG9rZW4gfSA9IGNvbmZpZ1xuLy8gICAgIGNvbnN0IHBhcmFtcyA9IHsgbWVldGluZ0lELCBzZWNyZXRUb2tlbjogd2VicGhvbmVTZWNyZXRUb2tlbiB9XG4vLyAgICAgbGV0IGxhbmd1YWdlc1N1cHBvcnRcbi8vICAgICB0cnkge1xuLy8gICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoXG4vLyAgICAgICAgIGAke2NvbmZpZy53ZWJwaG9uZVNlcnZlcn0vZ2V0TWVldGluZ0RhdGFgLFxuLy8gICAgICAgICB7IHBhcmFtcyB9XG4vLyAgICAgICApXG4vLyAgICAgICBsYW5ndWFnZXNTdXBwb3J0ID0gcmVzcG9uc2UuZGF0YS5tZWV0aW5nLmNvbmZlcmVuY2VzLmZpbHRlcihcbi8vICAgICAgICAgKGMpID0+IHJvbGUgIT09ICdyZWd1bGFyJyB8fCBjLmFjY2Vzc2libGVcbi8vICAgICAgICkubWFwKGMgPT4gYy5jb2RlKVxuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4vLyAgICAgICBsYW5ndWFnZXNTdXBwb3J0ID0gbnVsbFxuLy8gICAgIH1cbi8vICAgICBjb25uZWN0aW9uLmxhbmd1YWdlc1N1cHBvcnQgPSBsYW5ndWFnZXNTdXBwb3J0XG4vLyAgICAgY29uc3Qgc29ja2V0ID0gbmV3IENsaWVudChjb25uZWN0aW9uKVxuLy8gICAgIENsaWVudC5hbGwucHVzaChzb2NrZXQpXG4vLyAgICAgcmV0dXJuIHNvY2tldFxuLy8gICB9XG4vLyB9XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "client.js"
      ],
      "names": [
        "Client",
        "Socket",
        "constructor",
        "props",
        "handler",
        "add",
        "connection",
        "queryString",
        "webphoneUserId",
        "languagesConfig",
        "deepLSupports",
        "socket",
        "all",
        "push"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;;;AACA;AACA;AAEe,MAAMA,MAAN,SAAqBC,eAArB,CAA4B;AACzCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,OAAL,GAAeA,gBAAf;AACD;;AAIoB;AAEX,SAAHC,GAAG,CAACC,UAAD,EAAaC,WAAW,GAAG,EAA3B,EAA+B;AACvC,UAAM;AAAEC,MAAAA,cAAF;AAAkBC,MAAAA,eAAlB;AAAmCC,MAAAA;AAAnC,QAAqDH,WAA3D;AACAD,IAAAA,UAAU,CAACE,cAAX,GAA4BA,cAA5B;AACAF,IAAAA,UAAU,CAACG,eAAX,GAA6BA,eAA7B;AACAH,IAAAA,UAAU,CAACI,aAAX,GAA2BA,aAA3B;AACA,UAAMC,MAAM,GAAG,IAAIX,MAAJ,CAAWM,UAAX,CAAf;AACAN,IAAAA,MAAM,CAACY,GAAP,CAAWC,IAAX,CAAgBF,MAAhB;AACA,WAAOA,MAAP;AACD;;AAlBwC,C,CAsB3C;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;gBA7DqBX,M,SAMN,E;;gBANMA,M,cAQD,E",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/",
      "sourcesContent": [
        "import Socket from '../socket'\nimport handler from './handler'\n// import axios from 'axios'\n// import config from '../../../config'\n\nexport default class Client extends Socket {  \n  constructor(props) {\n    super(props)\n    this.handler = handler\n  }\n\n  static all = [] // array of all socket instances\n\n  static channels = {} // {channel_name: Set [ instanceId ]}\n\n  static add(connection, queryString = {}) {\n    const { webphoneUserId, languagesConfig, deepLSupports } = queryString\n    connection.webphoneUserId = webphoneUserId\n    connection.languagesConfig = languagesConfig\n    connection.deepLSupports = deepLSupports\n    const socket = new Client(connection)\n    Client.all.push(socket)\n    return socket\n  }\n}\n\n\n// import axios from 'axios'\n// import Socket from '../socket'\n// import handler from './handler'\n// import config from '../../../config'\n\n\n// export default class Client extends Socket {  \n//   constructor(props) {\n//     super(props)\n//     this.handler = handler\n//   }\n\n//   static all = [] // array of all socket instances\n\n//   static channels = {} // {channel_name: Set [ instanceId ]}\n\n//   static async add(connection, queryString = {}) {\n//     const { webphoneUserId, meetingID, role } = queryString\n//     connection.webphoneUserId = webphoneUserId\n    \n//     const { webphoneSecretToken } = config\n//     const params = { meetingID, secretToken: webphoneSecretToken }\n//     let languagesSupport\n//     try {\n//       const response = await axios.get(\n//         `${config.webphoneServer}/getMeetingData`,\n//         { params }\n//       )\n//       languagesSupport = response.data.meeting.conferences.filter(\n//         (c) => role !== 'regular' || c.accessible\n//       ).map(c => c.code)\n//     } catch (error) {\n//       languagesSupport = null\n//     }\n//     connection.languagesSupport = languagesSupport\n//     const socket = new Client(connection)\n//     Client.all.push(socket)\n//     return socket\n//   }\n// }\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/socket.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/socket.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/socket.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/socket.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/",
        "sourceFileName": "socket.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar constants = _interopRequireWildcard(require(\"./constants\"));\n\nvar _admin = _interopRequireDefault(require(\"./admin\"));\n\nvar _client = _interopRequireDefault(require(\"./client\"));\n\nvar _config = _interopRequireDefault(require(\"../../config\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nlet id = 0;\n\nclass Socket extends _events.default {\n  constructor(connection) {\n    super();\n\n    _defineProperty(this, \"getDeepLSupports\", id => {\n      const Class = this.constructor;\n      return {\n        deepLSupports: !!Class.all.find(s => s.webphoneUserId == id) && Class.all.find(s => s.webphoneUserId == id).deepLSupports,\n        languagesConfig: this.languagesConfig\n      };\n    });\n\n    _defineProperty(this, \"trigger\", (event, data) => {\n      this.observer.add(event);\n      this.emit(event, data);\n    });\n\n    _defineProperty(this, \"onMessage\", message => {\n      try {\n        const msg = JSON.parse(message.utf8Data);\n        this.handler(msg.event, this, msg.data);\n      } catch (e) {\n        console.error(`[WebPhone] exception: ${e.stack}`);\n      }\n    });\n\n    _defineProperty(this, \"onClose\", () => {\n      this.cleanUpSocket();\n      this.trigger(Socket.CLOSED);\n      this.removeAllListeners();\n    });\n\n    this.id = ++id;\n    this.connection = connection;\n    this.deepLSupports = null;\n    this.channels = new Set();\n    this.webphoneUserId = connection.webphoneUserId;\n    this.languagesConfig = connection.languagesConfig;\n    this.deepLSupports = connection.deepLSupports;\n    this.user = null;\n    this.observer = new Set();\n    this.connection.on('message', this.onMessage);\n    this.connection.on('close', this.onClose);\n  }\n\n  addCallback(event, callback) {\n    if (this.observer.has(event)) return callback.call();\n    this.once(event, callback);\n  }\n\n  send(data) {\n    this.connection.sendUTF(JSON.stringify(data));\n  }\n\n  close() {\n    this.onClose();\n\n    if (this.connection) {\n      this.connection.close();\n      this.connection = null;\n    }\n  }\n\n  cleanUpSocket() {\n    let socketIds;\n    const Class = this.constructor;\n    const index = Class.all.indexOf(this);\n    if (index !== -1) Class.all.splice(index, 1); // remove from sockets list\n\n    this.channels.forEach(channel => {\n      // remove id from channels obj\n      socketIds = Class.channels[channel];\n      if (!socketIds) return;\n      socketIds.delete(this.id);\n      if (!socketIds.size) delete Class.channels[channel];\n    });\n  }\n\n  addChannel(...channel) {\n    const Class = this.constructor;\n\n    const add = channel => {\n      if (channel instanceof Array || channel instanceof Set) {\n        channel.forEach(item => add(item));\n        return;\n      }\n\n      Class.channels[channel] || (Class.channels[channel] = new Set());\n      Class.channels[channel].add(this.id);\n      this.channels.add(channel);\n    };\n\n    add(channel);\n  }\n\n  addChannelWhenCreateNewMeeting(channel, allUsersInNewMeeting) {\n    const Class = this.constructor;\n\n    const add = channel => {\n      if (channel instanceof Array || channel instanceof Set) {\n        channel.forEach(item => add(item));\n        return;\n      }\n\n      const allSocketByUser = Class.all.filter(socket => !allUsersInNewMeeting.every(id => parseInt(socket.webphoneUserId) !== parseInt(id)));\n      Class.channels[channel] || (Class.channels[channel] = new Set());\n\n      for (const socket of allSocketByUser) {\n        Class.channels[channel].add(socket.id);\n      }\n\n      this.channels.add(channel);\n    };\n\n    add(channel);\n  }\n\n  removeChannel(...channel) {\n    const Class = this.constructor;\n\n    const remove = channel => {\n      if (channel instanceof Array || channel instanceof Set) {\n        channel.forEach(item => remove(item));\n        return;\n      }\n\n      const socketIds = Class.channels[channel];\n      if (!socketIds) return;\n      socketIds.delete(this.id);\n      if (!socketIds.size) delete Class.channels[channel];\n      this.channels.delete(channel);\n    };\n\n    remove(channel);\n  }\n\n  removeUserChannel(channel, userIdToRemove) {\n    const Class = this.constructor;\n\n    const remove = channel => {\n      if (channel instanceof Array || channel instanceof Set) {\n        channel.forEach(item => remove(item));\n        return;\n      }\n\n      const socketId = Class.all.find(s => s.webphoneUserId == userIdToRemove).id;\n      const socketIds = Class.channels[channel];\n      if (!socketIds) return;\n      socketIds.delete(socketId);\n      if (!socketIds.size) delete Class.channels[channel];\n      this.channels.delete(channel);\n    };\n\n    remove(channel);\n  }\n\n  static find(id) {\n    return this.all.find(socket => socket.id === id);\n  }\n\n  static broadcast(channel, event, data) {\n    let socket;\n    let ids;\n    const socketIds = new Set();\n\n    const bc = channel => {\n      if (Array.isArray(channel)) return channel.forEach(item => bc(item));\n      ids = this.channels[channel];\n      if (!ids) return;\n      ids.forEach(id => socketIds.add(id));\n    };\n\n    bc(channel);\n    socketIds.forEach(id => {\n      socket = this.find(id);\n      if (!socket) return;\n      socket.send({\n        event,\n        data\n      });\n    });\n\n    _admin.default.transmit(event, data);\n  }\n\n  static create(connection, options = {}) {\n    let Class = _client.default;\n    const {\n      secretToken,\n      webphoneUserId,\n      languagesConfig,\n      deepLSupports\n    } = options.query || {};\n\n    if (secretToken) {\n      if (secretToken !== _config.default.secretToken) return connection.close();\n      Class = _admin.default;\n    }\n\n    return Class.add(connection, {\n      webphoneUserId,\n      languagesConfig,\n      deepLSupports\n    });\n  }\n\n}\n\nexports.default = Socket;\n\nfor (const c in constants) Socket[c] = constants[c];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldC5qcyJdLCJuYW1lcyI6WyJpZCIsIlNvY2tldCIsIkV2ZW50RW1pdHRlciIsImNvbnN0cnVjdG9yIiwiY29ubmVjdGlvbiIsIkNsYXNzIiwiZGVlcExTdXBwb3J0cyIsImFsbCIsImZpbmQiLCJzIiwid2VicGhvbmVVc2VySWQiLCJsYW5ndWFnZXNDb25maWciLCJldmVudCIsImRhdGEiLCJvYnNlcnZlciIsImFkZCIsImVtaXQiLCJtZXNzYWdlIiwibXNnIiwiSlNPTiIsInBhcnNlIiwidXRmOERhdGEiLCJoYW5kbGVyIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsInN0YWNrIiwiY2xlYW5VcFNvY2tldCIsInRyaWdnZXIiLCJDTE9TRUQiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJjaGFubmVscyIsIlNldCIsInVzZXIiLCJvbiIsIm9uTWVzc2FnZSIsIm9uQ2xvc2UiLCJhZGRDYWxsYmFjayIsImNhbGxiYWNrIiwiaGFzIiwiY2FsbCIsIm9uY2UiLCJzZW5kIiwic2VuZFVURiIsInN0cmluZ2lmeSIsImNsb3NlIiwic29ja2V0SWRzIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiZm9yRWFjaCIsImNoYW5uZWwiLCJkZWxldGUiLCJzaXplIiwiYWRkQ2hhbm5lbCIsIkFycmF5IiwiaXRlbSIsImFkZENoYW5uZWxXaGVuQ3JlYXRlTmV3TWVldGluZyIsImFsbFVzZXJzSW5OZXdNZWV0aW5nIiwiYWxsU29ja2V0QnlVc2VyIiwiZmlsdGVyIiwic29ja2V0IiwiZXZlcnkiLCJwYXJzZUludCIsInJlbW92ZUNoYW5uZWwiLCJyZW1vdmUiLCJyZW1vdmVVc2VyQ2hhbm5lbCIsInVzZXJJZFRvUmVtb3ZlIiwic29ja2V0SWQiLCJicm9hZGNhc3QiLCJpZHMiLCJiYyIsImlzQXJyYXkiLCJBZG1pbiIsInRyYW5zbWl0IiwiY3JlYXRlIiwib3B0aW9ucyIsIkNsaWVudCIsInNlY3JldFRva2VuIiwicXVlcnkiLCJjb25maWciLCJjIiwiY29uc3RhbnRz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TGpELEtBQUssTUFBTTJFLENBQVgsSUFBZ0JDLFNBQWhCLEVBQTJCakYsTUFBTSxDQUFDZ0YsQ0FBRCxDQUFOLEdBQVlDLFNBQVMsQ0FBQ0QsQ0FBRCxDQUFyQiIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy90ZXh0Y2hhdC1ub2RlL3NyYy9zb2NrZXQvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnXG5pbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnLi9jb25zdGFudHMnXG5pbXBvcnQgQWRtaW4gZnJvbSAnLi9hZG1pbidcbmltcG9ydCBDbGllbnQgZnJvbSAnLi9jbGllbnQnXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uLy4uL2NvbmZpZydcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcydcblxubGV0IGlkID0gMFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb2NrZXQgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuaWQgPSArK2lkXG4gICAgdGhpcy5jb25uZWN0aW9uID0gY29ubmVjdGlvblxuICAgIHRoaXMuZGVlcExTdXBwb3J0cyA9IG51bGxcbiAgICB0aGlzLmNoYW5uZWxzID0gbmV3IFNldCgpXG4gICAgdGhpcy53ZWJwaG9uZVVzZXJJZCA9IGNvbm5lY3Rpb24ud2VicGhvbmVVc2VySWRcbiAgICB0aGlzLmxhbmd1YWdlc0NvbmZpZyA9IGNvbm5lY3Rpb24ubGFuZ3VhZ2VzQ29uZmlnXG4gICAgdGhpcy5kZWVwTFN1cHBvcnRzID0gY29ubmVjdGlvbi5kZWVwTFN1cHBvcnRzXG4gICAgdGhpcy51c2VyID0gbnVsbFxuICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgU2V0KClcbiAgICB0aGlzLmNvbm5lY3Rpb24ub24oJ21lc3NhZ2UnLCB0aGlzLm9uTWVzc2FnZSlcbiAgICB0aGlzLmNvbm5lY3Rpb24ub24oJ2Nsb3NlJywgdGhpcy5vbkNsb3NlKVxuICB9XG5cbiAgZ2V0RGVlcExTdXBwb3J0cyA9IChpZCkgPT4ge1xuICAgIGNvbnN0IENsYXNzID0gdGhpcy5jb25zdHJ1Y3RvclxuICAgIHJldHVybiB7IFxuICAgICAgZGVlcExTdXBwb3J0czogISFDbGFzcy5hbGwuZmluZChzID0+IHMud2VicGhvbmVVc2VySWQgPT0gaWQpICYmIENsYXNzLmFsbC5maW5kKHMgPT4gcy53ZWJwaG9uZVVzZXJJZCA9PSBpZCkuZGVlcExTdXBwb3J0cywgXG4gICAgICBsYW5ndWFnZXNDb25maWc6IHRoaXMubGFuZ3VhZ2VzQ29uZmlnXG4gICAgfVxuICB9XG5cbiAgdHJpZ2dlciA9IChldmVudCwgZGF0YSkgPT4ge1xuICAgIHRoaXMub2JzZXJ2ZXIuYWRkKGV2ZW50KVxuICAgIHRoaXMuZW1pdChldmVudCwgZGF0YSlcbiAgfVxuXG4gIGFkZENhbGxiYWNrKGV2ZW50LCBjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLm9ic2VydmVyLmhhcyhldmVudCkpIHJldHVybiBjYWxsYmFjay5jYWxsKClcbiAgICB0aGlzLm9uY2UoZXZlbnQsIGNhbGxiYWNrKVxuICB9XG5cbiAgb25NZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbXNnID0gSlNPTi5wYXJzZShtZXNzYWdlLnV0ZjhEYXRhKVxuICAgICAgdGhpcy5oYW5kbGVyKG1zZy5ldmVudCwgdGhpcywgbXNnLmRhdGEpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihgW1dlYlBob25lXSBleGNlcHRpb246ICR7ZS5zdGFja31gKVxuICAgIH1cbiAgfTtcblxuICBvbkNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuY2xlYW5VcFNvY2tldCgpXG4gICAgdGhpcy50cmlnZ2VyKFNvY2tldC5DTE9TRUQpXG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKVxuICB9O1xuXG4gIHNlbmQoZGF0YSkge1xuICAgIHRoaXMuY29ubmVjdGlvbi5zZW5kVVRGKEpTT04uc3RyaW5naWZ5KGRhdGEpKVxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5vbkNsb3NlKClcbiAgICBpZiAodGhpcy5jb25uZWN0aW9uKSB7XG4gICAgICB0aGlzLmNvbm5lY3Rpb24uY2xvc2UoKVxuICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGNsZWFuVXBTb2NrZXQoKSB7XG4gICAgbGV0IHNvY2tldElkc1xuICAgIGNvbnN0IENsYXNzID0gdGhpcy5jb25zdHJ1Y3RvclxuICAgIGNvbnN0IGluZGV4ID0gQ2xhc3MuYWxsLmluZGV4T2YodGhpcylcbiAgICBpZiAoaW5kZXggIT09IC0xKSBDbGFzcy5hbGwuc3BsaWNlKGluZGV4LCAxKSAvLyByZW1vdmUgZnJvbSBzb2NrZXRzIGxpc3RcblxuICAgIHRoaXMuY2hhbm5lbHMuZm9yRWFjaCgoY2hhbm5lbCkgPT4geyAvLyByZW1vdmUgaWQgZnJvbSBjaGFubmVscyBvYmpcbiAgICAgIHNvY2tldElkcyA9IENsYXNzLmNoYW5uZWxzW2NoYW5uZWxdXG4gICAgICBpZiAoIXNvY2tldElkcykgcmV0dXJuXG4gICAgICBzb2NrZXRJZHMuZGVsZXRlKHRoaXMuaWQpXG4gICAgICBpZiAoIXNvY2tldElkcy5zaXplKSBkZWxldGUgQ2xhc3MuY2hhbm5lbHNbY2hhbm5lbF1cbiAgICB9KVxuICB9XG5cbiAgYWRkQ2hhbm5lbCguLi5jaGFubmVsKSB7XG4gICAgY29uc3QgQ2xhc3MgPSB0aGlzLmNvbnN0cnVjdG9yXG4gICAgY29uc3QgYWRkID0gKGNoYW5uZWwpID0+IHtcbiAgICAgIGlmIChjaGFubmVsIGluc3RhbmNlb2YgQXJyYXkgfHwgY2hhbm5lbCBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICBjaGFubmVsLmZvckVhY2goaXRlbSA9PiBhZGQoaXRlbSkpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgQ2xhc3MuY2hhbm5lbHNbY2hhbm5lbF0gfHwgKENsYXNzLmNoYW5uZWxzW2NoYW5uZWxdID0gbmV3IFNldCgpKVxuICAgICAgQ2xhc3MuY2hhbm5lbHNbY2hhbm5lbF0uYWRkKHRoaXMuaWQpXG4gICAgICB0aGlzLmNoYW5uZWxzLmFkZChjaGFubmVsKVxuICAgIH1cbiAgICBhZGQoY2hhbm5lbClcbiAgfVxuXG4gIGFkZENoYW5uZWxXaGVuQ3JlYXRlTmV3TWVldGluZyhjaGFubmVsLCBhbGxVc2Vyc0luTmV3TWVldGluZykge1xuICAgIGNvbnN0IENsYXNzID0gdGhpcy5jb25zdHJ1Y3RvclxuICAgIGNvbnN0IGFkZCA9IChjaGFubmVsKSA9PiB7XG4gICAgICBpZiAoY2hhbm5lbCBpbnN0YW5jZW9mIEFycmF5IHx8IGNoYW5uZWwgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgY2hhbm5lbC5mb3JFYWNoKGl0ZW0gPT4gYWRkKGl0ZW0pKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnN0IGFsbFNvY2tldEJ5VXNlciA9IENsYXNzLmFsbC5maWx0ZXIoc29ja2V0ID0+ICFhbGxVc2Vyc0luTmV3TWVldGluZy5ldmVyeShpZCA9PiBwYXJzZUludChzb2NrZXQud2VicGhvbmVVc2VySWQpICE9PSBwYXJzZUludChpZCkpKVxuICAgICAgQ2xhc3MuY2hhbm5lbHNbY2hhbm5lbF0gfHwgKENsYXNzLmNoYW5uZWxzW2NoYW5uZWxdID0gbmV3IFNldCgpKVxuICAgICAgZm9yKGNvbnN0IHNvY2tldCBvZiBhbGxTb2NrZXRCeVVzZXIpIHtcbiAgICAgICAgQ2xhc3MuY2hhbm5lbHNbY2hhbm5lbF0uYWRkKHNvY2tldC5pZClcbiAgICAgIH1cbiAgICAgIHRoaXMuY2hhbm5lbHMuYWRkKGNoYW5uZWwpXG4gICAgfVxuICAgIGFkZChjaGFubmVsKVxuICB9XG5cbiAgcmVtb3ZlQ2hhbm5lbCguLi5jaGFubmVsKSB7XG4gICAgY29uc3QgQ2xhc3MgPSB0aGlzLmNvbnN0cnVjdG9yXG4gICAgY29uc3QgcmVtb3ZlID0gKGNoYW5uZWwpID0+IHtcbiAgICAgIGlmIChjaGFubmVsIGluc3RhbmNlb2YgQXJyYXkgfHwgY2hhbm5lbCBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICBjaGFubmVsLmZvckVhY2goaXRlbSA9PiByZW1vdmUoaXRlbSkpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBzb2NrZXRJZHMgPSBDbGFzcy5jaGFubmVsc1tjaGFubmVsXVxuICAgICAgaWYgKCFzb2NrZXRJZHMpIHJldHVyblxuICAgICAgc29ja2V0SWRzLmRlbGV0ZSh0aGlzLmlkKVxuICAgICAgaWYgKCFzb2NrZXRJZHMuc2l6ZSkgZGVsZXRlIENsYXNzLmNoYW5uZWxzW2NoYW5uZWxdXG4gICAgICB0aGlzLmNoYW5uZWxzLmRlbGV0ZShjaGFubmVsKVxuICAgIH1cbiAgICByZW1vdmUoY2hhbm5lbClcbiAgfVxuXG4gIHJlbW92ZVVzZXJDaGFubmVsKGNoYW5uZWwsIHVzZXJJZFRvUmVtb3ZlKSB7XG4gICAgY29uc3QgQ2xhc3MgPSB0aGlzLmNvbnN0cnVjdG9yXG4gICAgY29uc3QgcmVtb3ZlID0gKGNoYW5uZWwpID0+IHtcbiAgICAgIGlmIChjaGFubmVsIGluc3RhbmNlb2YgQXJyYXkgfHwgY2hhbm5lbCBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICBjaGFubmVsLmZvckVhY2goaXRlbSA9PiByZW1vdmUoaXRlbSkpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3Qgc29ja2V0SWQgPSBDbGFzcy5hbGwuZmluZChzID0+IHMud2VicGhvbmVVc2VySWQgPT0gdXNlcklkVG9SZW1vdmUpLmlkXG4gICAgICBjb25zdCBzb2NrZXRJZHMgPSBDbGFzcy5jaGFubmVsc1tjaGFubmVsXVxuICAgICAgaWYgKCFzb2NrZXRJZHMpIHJldHVyblxuICAgICAgc29ja2V0SWRzLmRlbGV0ZShzb2NrZXRJZClcbiAgICAgIGlmICghc29ja2V0SWRzLnNpemUpIGRlbGV0ZSBDbGFzcy5jaGFubmVsc1tjaGFubmVsXVxuICAgICAgdGhpcy5jaGFubmVscy5kZWxldGUoY2hhbm5lbClcbiAgICB9XG4gICAgcmVtb3ZlKGNoYW5uZWwpXG4gIH1cblxuICBzdGF0aWMgZmluZChpZCkge1xuICAgIHJldHVybiB0aGlzLmFsbC5maW5kKHNvY2tldCA9PiBzb2NrZXQuaWQgPT09IGlkKVxuICB9XG5cbiAgc3RhdGljIGJyb2FkY2FzdChjaGFubmVsLCBldmVudCwgZGF0YSkge1xuICAgIGxldCBzb2NrZXRcbiAgICBsZXQgaWRzXG4gICAgY29uc3Qgc29ja2V0SWRzID0gbmV3IFNldCgpXG4gICAgY29uc3QgYmMgPSAoY2hhbm5lbCkgPT4ge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hhbm5lbCkpIHJldHVybiBjaGFubmVsLmZvckVhY2goaXRlbSA9PiBiYyhpdGVtKSlcbiAgICAgIGlkcyA9IHRoaXMuY2hhbm5lbHNbY2hhbm5lbF1cbiAgICAgIGlmICghaWRzKSByZXR1cm5cbiAgICAgIGlkcy5mb3JFYWNoKGlkID0+IHNvY2tldElkcy5hZGQoaWQpKVxuICAgIH1cbiAgICBiYyhjaGFubmVsKVxuICAgIHNvY2tldElkcy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgc29ja2V0ID0gdGhpcy5maW5kKGlkKVxuICAgICAgaWYoIXNvY2tldCkgcmV0dXJuXG4gICAgICBzb2NrZXQuc2VuZCh7IGV2ZW50LCBkYXRhIH0pXG4gICAgfSlcblxuICAgIEFkbWluLnRyYW5zbWl0KGV2ZW50LCBkYXRhKVxuICB9XG5cbiAgc3RhdGljIGNyZWF0ZShjb25uZWN0aW9uLCBvcHRpb25zID0ge30pIHtcbiAgICBsZXQgQ2xhc3MgPSBDbGllbnRcbiAgICBjb25zdCB7IHNlY3JldFRva2VuLCB3ZWJwaG9uZVVzZXJJZCwgbGFuZ3VhZ2VzQ29uZmlnLCBkZWVwTFN1cHBvcnRzIH0gPSBvcHRpb25zLnF1ZXJ5IHx8IHt9XG4gICAgaWYgKHNlY3JldFRva2VuKSB7XG4gICAgICBpZiAoc2VjcmV0VG9rZW4gIT09IGNvbmZpZy5zZWNyZXRUb2tlbikgcmV0dXJuIGNvbm5lY3Rpb24uY2xvc2UoKVxuICAgICAgQ2xhc3MgPSBBZG1pblxuICAgIH1cblxuICAgIHJldHVybiBDbGFzcy5hZGQoY29ubmVjdGlvbiwge3dlYnBob25lVXNlcklkLCBsYW5ndWFnZXNDb25maWcsIGRlZXBMU3VwcG9ydHMgfSlcbiAgfVxufVxuXG5mb3IgKGNvbnN0IGMgaW4gY29uc3RhbnRzKSBTb2NrZXRbY10gPSBjb25zdGFudHNbY11cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "socket.js"
      ],
      "names": [
        "id",
        "Socket",
        "EventEmitter",
        "constructor",
        "connection",
        "Class",
        "deepLSupports",
        "all",
        "find",
        "s",
        "webphoneUserId",
        "languagesConfig",
        "event",
        "data",
        "observer",
        "add",
        "emit",
        "message",
        "msg",
        "JSON",
        "parse",
        "utf8Data",
        "handler",
        "e",
        "console",
        "error",
        "stack",
        "cleanUpSocket",
        "trigger",
        "CLOSED",
        "removeAllListeners",
        "channels",
        "Set",
        "user",
        "on",
        "onMessage",
        "onClose",
        "addCallback",
        "callback",
        "has",
        "call",
        "once",
        "send",
        "sendUTF",
        "stringify",
        "close",
        "socketIds",
        "index",
        "indexOf",
        "splice",
        "forEach",
        "channel",
        "delete",
        "size",
        "addChannel",
        "Array",
        "item",
        "addChannelWhenCreateNewMeeting",
        "allUsersInNewMeeting",
        "allSocketByUser",
        "filter",
        "socket",
        "every",
        "parseInt",
        "removeChannel",
        "remove",
        "removeUserChannel",
        "userIdToRemove",
        "socketId",
        "broadcast",
        "ids",
        "bc",
        "isArray",
        "Admin",
        "transmit",
        "create",
        "options",
        "Client",
        "secretToken",
        "query",
        "config",
        "c",
        "constants"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/",
      "sourcesContent": [
        "import EventEmitter from 'events'\nimport * as constants from './constants'\nimport Admin from './admin'\nimport Client from './client'\nimport config from '../../config'\nimport axios from 'axios'\n\nlet id = 0\n\nexport default class Socket extends EventEmitter {\n  constructor(connection) {\n    super()\n    this.id = ++id\n    this.connection = connection\n    this.deepLSupports = null\n    this.channels = new Set()\n    this.webphoneUserId = connection.webphoneUserId\n    this.languagesConfig = connection.languagesConfig\n    this.deepLSupports = connection.deepLSupports\n    this.user = null\n    this.observer = new Set()\n    this.connection.on('message', this.onMessage)\n    this.connection.on('close', this.onClose)\n  }\n\n  getDeepLSupports = (id) => {\n    const Class = this.constructor\n    return { \n      deepLSupports: !!Class.all.find(s => s.webphoneUserId == id) && Class.all.find(s => s.webphoneUserId == id).deepLSupports, \n      languagesConfig: this.languagesConfig\n    }\n  }\n\n  trigger = (event, data) => {\n    this.observer.add(event)\n    this.emit(event, data)\n  }\n\n  addCallback(event, callback) {\n    if (this.observer.has(event)) return callback.call()\n    this.once(event, callback)\n  }\n\n  onMessage = (message) => {\n    try {\n      const msg = JSON.parse(message.utf8Data)\n      this.handler(msg.event, this, msg.data)\n    } catch (e) {\n      console.error(`[WebPhone] exception: ${e.stack}`)\n    }\n  };\n\n  onClose = () => {\n    this.cleanUpSocket()\n    this.trigger(Socket.CLOSED)\n    this.removeAllListeners()\n  };\n\n  send(data) {\n    this.connection.sendUTF(JSON.stringify(data))\n  }\n\n  close() {\n    this.onClose()\n    if (this.connection) {\n      this.connection.close()\n      this.connection = null\n    }\n  }\n\n  cleanUpSocket() {\n    let socketIds\n    const Class = this.constructor\n    const index = Class.all.indexOf(this)\n    if (index !== -1) Class.all.splice(index, 1) // remove from sockets list\n\n    this.channels.forEach((channel) => { // remove id from channels obj\n      socketIds = Class.channels[channel]\n      if (!socketIds) return\n      socketIds.delete(this.id)\n      if (!socketIds.size) delete Class.channels[channel]\n    })\n  }\n\n  addChannel(...channel) {\n    const Class = this.constructor\n    const add = (channel) => {\n      if (channel instanceof Array || channel instanceof Set) {\n        channel.forEach(item => add(item))\n        return\n      }\n      Class.channels[channel] || (Class.channels[channel] = new Set())\n      Class.channels[channel].add(this.id)\n      this.channels.add(channel)\n    }\n    add(channel)\n  }\n\n  addChannelWhenCreateNewMeeting(channel, allUsersInNewMeeting) {\n    const Class = this.constructor\n    const add = (channel) => {\n      if (channel instanceof Array || channel instanceof Set) {\n        channel.forEach(item => add(item))\n        return\n      }\n      const allSocketByUser = Class.all.filter(socket => !allUsersInNewMeeting.every(id => parseInt(socket.webphoneUserId) !== parseInt(id)))\n      Class.channels[channel] || (Class.channels[channel] = new Set())\n      for(const socket of allSocketByUser) {\n        Class.channels[channel].add(socket.id)\n      }\n      this.channels.add(channel)\n    }\n    add(channel)\n  }\n\n  removeChannel(...channel) {\n    const Class = this.constructor\n    const remove = (channel) => {\n      if (channel instanceof Array || channel instanceof Set) {\n        channel.forEach(item => remove(item))\n        return\n      }\n\n      const socketIds = Class.channels[channel]\n      if (!socketIds) return\n      socketIds.delete(this.id)\n      if (!socketIds.size) delete Class.channels[channel]\n      this.channels.delete(channel)\n    }\n    remove(channel)\n  }\n\n  removeUserChannel(channel, userIdToRemove) {\n    const Class = this.constructor\n    const remove = (channel) => {\n      if (channel instanceof Array || channel instanceof Set) {\n        channel.forEach(item => remove(item))\n        return\n      }\n      const socketId = Class.all.find(s => s.webphoneUserId == userIdToRemove).id\n      const socketIds = Class.channels[channel]\n      if (!socketIds) return\n      socketIds.delete(socketId)\n      if (!socketIds.size) delete Class.channels[channel]\n      this.channels.delete(channel)\n    }\n    remove(channel)\n  }\n\n  static find(id) {\n    return this.all.find(socket => socket.id === id)\n  }\n\n  static broadcast(channel, event, data) {\n    let socket\n    let ids\n    const socketIds = new Set()\n    const bc = (channel) => {\n      if (Array.isArray(channel)) return channel.forEach(item => bc(item))\n      ids = this.channels[channel]\n      if (!ids) return\n      ids.forEach(id => socketIds.add(id))\n    }\n    bc(channel)\n    socketIds.forEach((id) => {\n      socket = this.find(id)\n      if(!socket) return\n      socket.send({ event, data })\n    })\n\n    Admin.transmit(event, data)\n  }\n\n  static create(connection, options = {}) {\n    let Class = Client\n    const { secretToken, webphoneUserId, languagesConfig, deepLSupports } = options.query || {}\n    if (secretToken) {\n      if (secretToken !== config.secretToken) return connection.close()\n      Class = Admin\n    }\n\n    return Class.add(connection, {webphoneUserId, languagesConfig, deepLSupports })\n  }\n}\n\nfor (const c in constants) Socket[c] = constants[c]\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/constants.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/constants.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/constants.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/constants.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/",
        "sourceFileName": "constants.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.REMOVE_USER = exports.DELETE_CHAT_FAILED = exports.DELETE_CHAT_SUCCESS = exports.DELETE_CHAT = exports.CLOSED = exports.NEW_MEETING = exports.MEETINGS_ADD = exports.MESSAGES_ADD = exports.APP_LOADED = exports.MESSAGES_UPDATE_USER = exports.MESSAGES_CHANGE = exports.USERS_ALL = exports.USER_UPDATE = exports.USER_CHANGE = exports.NEW_USER = exports.MESSAGE_SEND = void 0;\n// inbound events\nconst MESSAGE_SEND = 'MESSAGE_SEND'; // outbound events\n\nexports.MESSAGE_SEND = MESSAGE_SEND;\nconst NEW_USER = 'NEW_USER';\nexports.NEW_USER = NEW_USER;\nconst USER_CHANGE = 'USER_CHANGE';\nexports.USER_CHANGE = USER_CHANGE;\nconst USER_UPDATE = 'USER_UPDATE';\nexports.USER_UPDATE = USER_UPDATE;\nconst USERS_ALL = 'USERS_ALL';\nexports.USERS_ALL = USERS_ALL;\nconst MESSAGES_CHANGE = 'MESSAGES_CHANGE';\nexports.MESSAGES_CHANGE = MESSAGES_CHANGE;\nconst MESSAGES_UPDATE_USER = 'MESSAGES_UPDATE_USER';\nexports.MESSAGES_UPDATE_USER = MESSAGES_UPDATE_USER;\nconst APP_LOADED = 'APP_LOADED';\nexports.APP_LOADED = APP_LOADED;\nconst MESSAGES_ADD = 'MESSAGES_ADD';\nexports.MESSAGES_ADD = MESSAGES_ADD;\nconst MEETINGS_ADD = 'MEETINGS_ADD';\nexports.MEETINGS_ADD = MEETINGS_ADD;\nconst NEW_MEETING = 'NEW_MEETING'; // socket connection events\n\nexports.NEW_MEETING = NEW_MEETING;\nconst CLOSED = 'SOCKET:CLOSED'; //VERSION_2\n\nexports.CLOSED = CLOSED;\nconst DELETE_CHAT = 'DELETE_CHAT';\nexports.DELETE_CHAT = DELETE_CHAT;\nconst DELETE_CHAT_SUCCESS = 'DELETE_CHAT_SUCCESS';\nexports.DELETE_CHAT_SUCCESS = DELETE_CHAT_SUCCESS;\nconst DELETE_CHAT_FAILED = 'DELETE_CHAT_FAILED';\nexports.DELETE_CHAT_FAILED = DELETE_CHAT_FAILED;\nconst REMOVE_USER = 'REMOVE_USER';\nexports.REMOVE_USER = REMOVE_USER;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnN0YW50cy5qcyJdLCJuYW1lcyI6WyJNRVNTQUdFX1NFTkQiLCJORVdfVVNFUiIsIlVTRVJfQ0hBTkdFIiwiVVNFUl9VUERBVEUiLCJVU0VSU19BTEwiLCJNRVNTQUdFU19DSEFOR0UiLCJNRVNTQUdFU19VUERBVEVfVVNFUiIsIkFQUF9MT0FERUQiLCJNRVNTQUdFU19BREQiLCJNRUVUSU5HU19BREQiLCJORVdfTUVFVElORyIsIkNMT1NFRCIsIkRFTEVURV9DSEFUIiwiREVMRVRFX0NIQVRfU1VDQ0VTUyIsIkRFTEVURV9DSEFUX0ZBSUxFRCIsIlJFTU9WRV9VU0VSIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNPLE1BQU1BLFlBQVksR0FBRyxjQUFyQixDLENBRVA7OztBQUNPLE1BQU1DLFFBQVEsR0FBRyxVQUFqQjs7QUFDQSxNQUFNQyxXQUFXLEdBQUcsYUFBcEI7O0FBQ0EsTUFBTUMsV0FBVyxHQUFHLGFBQXBCOztBQUNBLE1BQU1DLFNBQVMsR0FBRyxXQUFsQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUcsaUJBQXhCOztBQUNBLE1BQU1DLG9CQUFvQixHQUFHLHNCQUE3Qjs7QUFDQSxNQUFNQyxVQUFVLEdBQUcsWUFBbkI7O0FBQ0EsTUFBTUMsWUFBWSxHQUFHLGNBQXJCOztBQUNBLE1BQU1DLFlBQVksR0FBRyxjQUFyQjs7QUFDQSxNQUFNQyxXQUFXLEdBQUcsYUFBcEIsQyxDQUdQOzs7QUFDTyxNQUFNQyxNQUFNLEdBQUcsZUFBZixDLENBR1A7OztBQUVPLE1BQU1DLFdBQVcsR0FBRyxhQUFwQjs7QUFDQSxNQUFNQyxtQkFBbUIsR0FBRyxxQkFBNUI7O0FBQ0EsTUFBTUMsa0JBQWtCLEdBQUcsb0JBQTNCOztBQUVBLE1BQU1DLFdBQVcsR0FBRyxhQUFwQiIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy90ZXh0Y2hhdC1ub2RlL3NyYy9zb2NrZXQvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW5ib3VuZCBldmVudHNcbmV4cG9ydCBjb25zdCBNRVNTQUdFX1NFTkQgPSAnTUVTU0FHRV9TRU5EJ1xuXG4vLyBvdXRib3VuZCBldmVudHNcbmV4cG9ydCBjb25zdCBORVdfVVNFUiA9ICdORVdfVVNFUidcbmV4cG9ydCBjb25zdCBVU0VSX0NIQU5HRSA9ICdVU0VSX0NIQU5HRSdcbmV4cG9ydCBjb25zdCBVU0VSX1VQREFURSA9ICdVU0VSX1VQREFURSdcbmV4cG9ydCBjb25zdCBVU0VSU19BTEwgPSAnVVNFUlNfQUxMJ1xuZXhwb3J0IGNvbnN0IE1FU1NBR0VTX0NIQU5HRSA9ICdNRVNTQUdFU19DSEFOR0UnXG5leHBvcnQgY29uc3QgTUVTU0FHRVNfVVBEQVRFX1VTRVIgPSAnTUVTU0FHRVNfVVBEQVRFX1VTRVInXG5leHBvcnQgY29uc3QgQVBQX0xPQURFRCA9ICdBUFBfTE9BREVEJ1xuZXhwb3J0IGNvbnN0IE1FU1NBR0VTX0FERCA9ICdNRVNTQUdFU19BREQnXG5leHBvcnQgY29uc3QgTUVFVElOR1NfQUREID0gJ01FRVRJTkdTX0FERCdcbmV4cG9ydCBjb25zdCBORVdfTUVFVElORyA9ICdORVdfTUVFVElORydcblxuXG4vLyBzb2NrZXQgY29ubmVjdGlvbiBldmVudHNcbmV4cG9ydCBjb25zdCBDTE9TRUQgPSAnU09DS0VUOkNMT1NFRCdcblxuXG4vL1ZFUlNJT05fMlxuXG5leHBvcnQgY29uc3QgREVMRVRFX0NIQVQgPSAnREVMRVRFX0NIQVQnXG5leHBvcnQgY29uc3QgREVMRVRFX0NIQVRfU1VDQ0VTUyA9ICdERUxFVEVfQ0hBVF9TVUNDRVNTJ1xuZXhwb3J0IGNvbnN0IERFTEVURV9DSEFUX0ZBSUxFRCA9ICdERUxFVEVfQ0hBVF9GQUlMRUQnXG5cbmV4cG9ydCBjb25zdCBSRU1PVkVfVVNFUiA9ICdSRU1PVkVfVVNFUidcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "constants.js"
      ],
      "names": [
        "MESSAGE_SEND",
        "NEW_USER",
        "USER_CHANGE",
        "USER_UPDATE",
        "USERS_ALL",
        "MESSAGES_CHANGE",
        "MESSAGES_UPDATE_USER",
        "APP_LOADED",
        "MESSAGES_ADD",
        "MEETINGS_ADD",
        "NEW_MEETING",
        "CLOSED",
        "DELETE_CHAT",
        "DELETE_CHAT_SUCCESS",
        "DELETE_CHAT_FAILED",
        "REMOVE_USER"
      ],
      "mappings": ";;;;;;AAAA;AACO,MAAMA,YAAY,GAAG,cAArB,C,CAEP;;;AACO,MAAMC,QAAQ,GAAG,UAAjB;;AACA,MAAMC,WAAW,GAAG,aAApB;;AACA,MAAMC,WAAW,GAAG,aAApB;;AACA,MAAMC,SAAS,GAAG,WAAlB;;AACA,MAAMC,eAAe,GAAG,iBAAxB;;AACA,MAAMC,oBAAoB,GAAG,sBAA7B;;AACA,MAAMC,UAAU,GAAG,YAAnB;;AACA,MAAMC,YAAY,GAAG,cAArB;;AACA,MAAMC,YAAY,GAAG,cAArB;;AACA,MAAMC,WAAW,GAAG,aAApB,C,CAGP;;;AACO,MAAMC,MAAM,GAAG,eAAf,C,CAGP;;;AAEO,MAAMC,WAAW,GAAG,aAApB;;AACA,MAAMC,mBAAmB,GAAG,qBAA5B;;AACA,MAAMC,kBAAkB,GAAG,oBAA3B;;AAEA,MAAMC,WAAW,GAAG,aAApB",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/",
      "sourcesContent": [
        "// inbound events\nexport const MESSAGE_SEND = 'MESSAGE_SEND'\n\n// outbound events\nexport const NEW_USER = 'NEW_USER'\nexport const USER_CHANGE = 'USER_CHANGE'\nexport const USER_UPDATE = 'USER_UPDATE'\nexport const USERS_ALL = 'USERS_ALL'\nexport const MESSAGES_CHANGE = 'MESSAGES_CHANGE'\nexport const MESSAGES_UPDATE_USER = 'MESSAGES_UPDATE_USER'\nexport const APP_LOADED = 'APP_LOADED'\nexport const MESSAGES_ADD = 'MESSAGES_ADD'\nexport const MEETINGS_ADD = 'MEETINGS_ADD'\nexport const NEW_MEETING = 'NEW_MEETING'\n\n\n// socket connection events\nexport const CLOSED = 'SOCKET:CLOSED'\n\n\n//VERSION_2\n\nexport const DELETE_CHAT = 'DELETE_CHAT'\nexport const DELETE_CHAT_SUCCESS = 'DELETE_CHAT_SUCCESS'\nexport const DELETE_CHAT_FAILED = 'DELETE_CHAT_FAILED'\n\nexport const REMOVE_USER = 'REMOVE_USER'\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/handler.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/handler.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/handler.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/handler.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/",
        "sourceFileName": "handler.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _ = _interopRequireDefault(require(\".\"));\n\nvar _user = _interopRequireDefault(require(\"../../models/user\"));\n\nvar _message = _interopRequireDefault(require(\"../../models/message\"));\n\nvar _meeting = _interopRequireDefault(require(\"../../models/meeting\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = (event, client, data) => {\n  try {\n    switch (event) {\n      case _.default.NEW_USER:\n        _user.default.add(client, data);\n\n        break;\n\n      case _.default.NEW_MEETING:\n        _meeting.default.addNew(client, data);\n\n        break;\n\n      case _.default.MESSAGE_SEND:\n        _message.default.add(client, data);\n\n        break;\n\n      case _.default.REMOVE_USER:\n        _meeting.default.removeUser(client, data);\n\n        break;\n\n      case _.default.DELETE_CHAT:\n        _message.default.removeMessagesByMeeting(data);\n\n        break;\n\n      default:\n        console.log('Socket, no such event: ', event);\n    }\n  } catch (e) {\n    console.log('Error:', e);\n  }\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhhbmRsZXIuanMiXSwibmFtZXMiOlsiZXZlbnQiLCJjbGllbnQiLCJkYXRhIiwiU29ja2V0IiwiTkVXX1VTRVIiLCJVc2VyIiwiYWRkIiwiTkVXX01FRVRJTkciLCJNZWV0aW5nIiwiYWRkTmV3IiwiTUVTU0FHRV9TRU5EIiwiTWVzc2FnZSIsIlJFTU9WRV9VU0VSIiwicmVtb3ZlVXNlciIsIkRFTEVURV9DSEFUIiwicmVtb3ZlTWVzc2FnZXNCeU1lZXRpbmciLCJjb25zb2xlIiwibG9nIiwiZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O2VBRWUsQ0FBQ0EsS0FBRCxFQUFRQyxNQUFSLEVBQWdCQyxJQUFoQixLQUF5QjtBQUN0QyxNQUFJO0FBQ0YsWUFBUUYsS0FBUjtBQUNFLFdBQUtHLFVBQU9DLFFBQVo7QUFDRUMsc0JBQUtDLEdBQUwsQ0FBU0wsTUFBVCxFQUFpQkMsSUFBakI7O0FBQ0E7O0FBQ0YsV0FBS0MsVUFBT0ksV0FBWjtBQUNFQyx5QkFBUUMsTUFBUixDQUFlUixNQUFmLEVBQXVCQyxJQUF2Qjs7QUFDQTs7QUFDRixXQUFLQyxVQUFPTyxZQUFaO0FBQ0VDLHlCQUFRTCxHQUFSLENBQVlMLE1BQVosRUFBb0JDLElBQXBCOztBQUNBOztBQUNGLFdBQUtDLFVBQU9TLFdBQVo7QUFDRUoseUJBQVFLLFVBQVIsQ0FBbUJaLE1BQW5CLEVBQTJCQyxJQUEzQjs7QUFDQTs7QUFDRixXQUFLQyxVQUFPVyxXQUFaO0FBQ0VILHlCQUFRSSx1QkFBUixDQUFnQ2IsSUFBaEM7O0FBQ0E7O0FBQ0Y7QUFDRWMsUUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVkseUJBQVosRUFBdUNqQixLQUF2QztBQWpCSjtBQW1CRCxHQXBCRCxDQW9CRSxPQUFPa0IsQ0FBUCxFQUFVO0FBQ1ZGLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFFBQVosRUFBc0JDLENBQXRCO0FBQ0Q7QUFDRixDIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3RleHRjaGF0LW5vZGUvc3JjL3NvY2tldC9jbGllbnQvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNvY2tldCBmcm9tICcuJ1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vbW9kZWxzL3VzZXInXG5pbXBvcnQgTWVzc2FnZSBmcm9tICcuLi8uLi9tb2RlbHMvbWVzc2FnZSdcbmltcG9ydCBNZWV0aW5nIGZyb20gJy4uLy4uL21vZGVscy9tZWV0aW5nJ1xuXG5leHBvcnQgZGVmYXVsdCAoZXZlbnQsIGNsaWVudCwgZGF0YSkgPT4ge1xuICB0cnkge1xuICAgIHN3aXRjaCAoZXZlbnQpIHtcbiAgICAgIGNhc2UgU29ja2V0Lk5FV19VU0VSOlxuICAgICAgICBVc2VyLmFkZChjbGllbnQsIGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIFNvY2tldC5ORVdfTUVFVElORzpcbiAgICAgICAgTWVldGluZy5hZGROZXcoY2xpZW50LCBkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBTb2NrZXQuTUVTU0FHRV9TRU5EOlxuICAgICAgICBNZXNzYWdlLmFkZChjbGllbnQsIGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIFNvY2tldC5SRU1PVkVfVVNFUjpcbiAgICAgICAgTWVldGluZy5yZW1vdmVVc2VyKGNsaWVudCwgZGF0YSkgIFxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBTb2NrZXQuREVMRVRFX0NIQVQ6XG4gICAgICAgIE1lc3NhZ2UucmVtb3ZlTWVzc2FnZXNCeU1lZXRpbmcoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUubG9nKCdTb2NrZXQsIG5vIHN1Y2ggZXZlbnQ6ICcsIGV2ZW50KVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKCdFcnJvcjonLCBlKVxuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "handler.js"
      ],
      "names": [
        "event",
        "client",
        "data",
        "Socket",
        "NEW_USER",
        "User",
        "add",
        "NEW_MEETING",
        "Meeting",
        "addNew",
        "MESSAGE_SEND",
        "Message",
        "REMOVE_USER",
        "removeUser",
        "DELETE_CHAT",
        "removeMessagesByMeeting",
        "console",
        "log",
        "e"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;eAEe,CAACA,KAAD,EAAQC,MAAR,EAAgBC,IAAhB,KAAyB;AACtC,MAAI;AACF,YAAQF,KAAR;AACE,WAAKG,UAAOC,QAAZ;AACEC,sBAAKC,GAAL,CAASL,MAAT,EAAiBC,IAAjB;;AACA;;AACF,WAAKC,UAAOI,WAAZ;AACEC,yBAAQC,MAAR,CAAeR,MAAf,EAAuBC,IAAvB;;AACA;;AACF,WAAKC,UAAOO,YAAZ;AACEC,yBAAQL,GAAR,CAAYL,MAAZ,EAAoBC,IAApB;;AACA;;AACF,WAAKC,UAAOS,WAAZ;AACEJ,yBAAQK,UAAR,CAAmBZ,MAAnB,EAA2BC,IAA3B;;AACA;;AACF,WAAKC,UAAOW,WAAZ;AACEH,yBAAQI,uBAAR,CAAgCb,IAAhC;;AACA;;AACF;AACEc,QAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCjB,KAAvC;AAjBJ;AAmBD,GApBD,CAoBE,OAAOkB,CAAP,EAAU;AACVF,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBC,CAAtB;AACD;AACF,C",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/client/",
      "sourcesContent": [
        "import Socket from '.'\nimport User from '../../models/user'\nimport Message from '../../models/message'\nimport Meeting from '../../models/meeting'\n\nexport default (event, client, data) => {\n  try {\n    switch (event) {\n      case Socket.NEW_USER:\n        User.add(client, data)\n        break\n      case Socket.NEW_MEETING:\n        Meeting.addNew(client, data)\n        break\n      case Socket.MESSAGE_SEND:\n        Message.add(client, data)\n        break\n      case Socket.REMOVE_USER:\n        Meeting.removeUser(client, data)  \n        break\n      case Socket.DELETE_CHAT:\n        Message.removeMessagesByMeeting(data)\n        break\n      default:\n        console.log('Socket, no such event: ', event)\n    }\n  } catch (e) {\n    console.log('Error:', e)\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/models/user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/user.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _serializers = require(\"../serializers\");\n\nvar _services = require(\"../services\");\n\nvar _record = _interopRequireDefault(require(\"./record\"));\n\nvar _meeting = _interopRequireDefault(require(\"./meeting\"));\n\nvar _socket = _interopRequireDefault(require(\"../socket\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass User extends _record.default {\n  constructor(client, data) {\n    super();\n    this.id = data.currentUserId;\n    this.username = data.username;\n    this.meeting = null;\n    this.meetings = [];\n    this.channel = Math.random().toString(36).substr(2);\n    this.setupClient(client);\n    this.department = data.department || 'participant';\n  }\n\n  setupClient(client) {\n    this.client = client;\n    this.client.user = this;\n    this.client.addChannel(this.channel);\n    this.client.addChannel(this.meetings.map(m => m.channel));\n    this.client.addCallback(_socket.default.CLOSED, () => this.disable());\n  }\n\n  disable() {\n    const listMeeting = this.meetings;\n    this.meetings = [];\n    this.meeting = null;\n\n    for (const meeting of listMeeting) {\n      if (!meeting) return; // if there are some other other users in the meeting\n\n      if (meeting.users.some(u => {\n        return u.meetings && u.meetings.findIndex(m => m.id === meeting.id) > -1;\n      })) {\n        _services.UsersService.disable(this, meeting.channel);\n      } else {\n        meeting.destroy();\n      }\n    } // const meeting = this.meeting //  eslint-disable-line  prefer-destructuring\n\n  }\n\n  destroy() {\n    this.client && this.client.close();\n    this.client = null;\n    const index = User.all.indexOf(this);\n\n    if (index !== -1) {\n      User.all.splice(index, 1);\n      console.log('Destroy user', this.id);\n    }\n  }\n\n  findMeeting(meeting) {\n    return this.meetings.find(m => m.id === meeting.id);\n  }\n\n  addMeeting(meeting) {\n    this.meeting = meeting;\n    if (this.findMeeting(meeting.id)) return;\n    this.meetings.push(meeting);\n    this.client.addChannel(meeting.channel);\n  }\n\n  removeMeeting(meeting) {\n    const index = this.meetings.indexOf(meeting);\n    if (index !== -1) this.meetings.splice(index, 1);\n    this.client && this.client.removeChannel(meeting.channel);\n    if (this.meetings.length) return;\n    this.destroy();\n  }\n\n  toJSON() {\n    return (0, _serializers.UserSerializer)(this);\n  }\n\n  static async add(client, data) {\n    const meeting = await _meeting.default.findOrCreate({\n      title: data.meetingID,\n      role: data.role,\n      type: 'Public'\n    });\n    if (!meeting || !client || typeof data.currentUserId === 'undefined') return client.close(); // TODO find user by uniq  data.token\n\n    const user = new User(client, data, meeting);\n    User.all.push(user);\n    meeting.addUser(user);\n    user.addMeeting(meeting);\n    const deepLSupports = client.getDeepLSupports(user.id);\n\n    _services.UsersService.load(user, deepLSupports.deepLSupports);\n\n    _services.MeetingsService.add(meeting);\n\n    if (data.department == 'technical') {\n      const techPublicMeeting = await _meeting.default.findOrCreateForTechnicalTeam({\n        title: data.meetingID,\n        role: data.role,\n        type: 'TechnicalPublic'\n      });\n      techPublicMeeting.addUser(user);\n      user.addMeeting(techPublicMeeting);\n\n      _services.MeetingsService.add(techPublicMeeting);\n\n      _services.MeetingsService.messagesChangeToNewUser(techPublicMeeting, [user.id]);\n\n      const listTechMeeting = _meeting.default.all.filter(m => m.type == 'Technical');\n\n      for (const techMeeting of listTechMeeting) {\n        techMeeting.addUser(user);\n        user.addMeeting(techMeeting);\n\n        _services.MeetingsService.add(techMeeting);\n\n        _services.MeetingsService.messagesChangeToNewUser(techMeeting, [user.id]);\n      }\n    }\n\n    if (data.department == 'moderator') {\n      const moderatorPublicMeeting = await _meeting.default.findOrCreateForModeratorTeam({\n        title: data.meetingID,\n        role: data.role,\n        type: 'InterpreterPublic'\n      });\n      moderatorPublicMeeting.addUser(user);\n      user.addMeeting(moderatorPublicMeeting);\n\n      _services.MeetingsService.add(moderatorPublicMeeting);\n\n      _services.MeetingsService.messagesChangeToNewUser(moderatorPublicMeeting, [user.id]);\n\n      const {\n        speakRoomId,\n        hearRoomId\n      } = data;\n      const moderatorCabinMeeting = await _meeting.default.findOrCreateForModeratorTeamSameCabin({\n        title: data.meetingID,\n        role: data.role,\n        type: 'InterpreterCabin',\n        speakRoomId,\n        hearRoomId\n      });\n      moderatorCabinMeeting.addUser(user);\n      user.addMeeting(moderatorCabinMeeting);\n\n      _services.MeetingsService.add(moderatorCabinMeeting);\n\n      _services.MeetingsService.messagesChangeToNewUser(moderatorCabinMeeting, [user.id]);\n    }\n  }\n\n}\n\nexports.default = User;\n\n_defineProperty(User, \"all\", []);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiVXNlciIsIlJlY29yZCIsImNvbnN0cnVjdG9yIiwiY2xpZW50IiwiZGF0YSIsImlkIiwiY3VycmVudFVzZXJJZCIsInVzZXJuYW1lIiwibWVldGluZyIsIm1lZXRpbmdzIiwiY2hhbm5lbCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsInNldHVwQ2xpZW50IiwiZGVwYXJ0bWVudCIsInVzZXIiLCJhZGRDaGFubmVsIiwibWFwIiwibSIsImFkZENhbGxiYWNrIiwiU29ja2V0IiwiQ0xPU0VEIiwiZGlzYWJsZSIsImxpc3RNZWV0aW5nIiwidXNlcnMiLCJzb21lIiwidSIsImZpbmRJbmRleCIsIlVzZXJzU2VydmljZSIsImRlc3Ryb3kiLCJjbG9zZSIsImluZGV4IiwiYWxsIiwiaW5kZXhPZiIsInNwbGljZSIsImNvbnNvbGUiLCJsb2ciLCJmaW5kTWVldGluZyIsImZpbmQiLCJhZGRNZWV0aW5nIiwicHVzaCIsInJlbW92ZU1lZXRpbmciLCJyZW1vdmVDaGFubmVsIiwibGVuZ3RoIiwidG9KU09OIiwiYWRkIiwiTWVldGluZyIsImZpbmRPckNyZWF0ZSIsInRpdGxlIiwibWVldGluZ0lEIiwicm9sZSIsInR5cGUiLCJhZGRVc2VyIiwiZGVlcExTdXBwb3J0cyIsImdldERlZXBMU3VwcG9ydHMiLCJsb2FkIiwiTWVldGluZ3NTZXJ2aWNlIiwidGVjaFB1YmxpY01lZXRpbmciLCJmaW5kT3JDcmVhdGVGb3JUZWNobmljYWxUZWFtIiwibWVzc2FnZXNDaGFuZ2VUb05ld1VzZXIiLCJsaXN0VGVjaE1lZXRpbmciLCJmaWx0ZXIiLCJ0ZWNoTWVldGluZyIsIm1vZGVyYXRvclB1YmxpY01lZXRpbmciLCJmaW5kT3JDcmVhdGVGb3JNb2RlcmF0b3JUZWFtIiwic3BlYWtSb29tSWQiLCJoZWFyUm9vbUlkIiwibW9kZXJhdG9yQ2FiaW5NZWV0aW5nIiwiZmluZE9yQ3JlYXRlRm9yTW9kZXJhdG9yVGVhbVNhbWVD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QUFBLElBQUksRUFBRSxrQkFBL0M7QUFBbUVjLFFBQUFBLFdBQW5FO0FBQWdGQyxRQUFBQTtBQUFoRixPQUE5QyxDQUFwQztBQUNBQyxNQUFBQSxxQkFBcUIsQ0FBQ2YsT0FBdEIsQ0FBOEJyQyxJQUE5QjtBQUNBQSxNQUFBQSxJQUFJLENBQUN3QixVQUFMLENBQWdCNEIscUJBQWhCOztBQUNBWCxnQ0FBZ0JYLEdBQWhCLENBQW9Cc0IscUJBQXBCOztBQUNBWCxnQ0FBZ0JHLHVCQUFoQixDQUF3Q1EscUJBQXhDLEVBQStELENBQUNwRCxJQUFJLENBQUNaLEVBQU4sQ0FBL0Q7QUFDRDtBQUNGOztBQS9Hc0M7Ozs7Z0JBQXBCTCxJLFNBdUVOLEUiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvdGV4dGNoYXQtbm9kZS9zcmMvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJTZXJpYWxpemVyIH0gZnJvbSAnLi4vc2VyaWFsaXplcnMnXG5pbXBvcnQgeyBVc2Vyc1NlcnZpY2UsIE1lZXRpbmdzU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzJ1xuaW1wb3J0IFJlY29yZCBmcm9tICcuL3JlY29yZCdcbmltcG9ydCBNZWV0aW5nIGZyb20gJy4vbWVldGluZydcbmltcG9ydCBTb2NrZXQgZnJvbSAnLi4vc29ja2V0J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VyIGV4dGVuZHMgUmVjb3JkIHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBkYXRhKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuaWQgPSBkYXRhLmN1cnJlbnRVc2VySWRcbiAgICB0aGlzLnVzZXJuYW1lID0gZGF0YS51c2VybmFtZVxuICAgIHRoaXMubWVldGluZyA9IG51bGxcbiAgICB0aGlzLm1lZXRpbmdzID0gW11cbiAgICB0aGlzLmNoYW5uZWwgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMilcbiAgICB0aGlzLnNldHVwQ2xpZW50KGNsaWVudClcbiAgICB0aGlzLmRlcGFydG1lbnQgPSBkYXRhLmRlcGFydG1lbnQgfHwgJ3BhcnRpY2lwYW50J1xuICB9XG5cbiAgc2V0dXBDbGllbnQoY2xpZW50KSB7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnRcbiAgICB0aGlzLmNsaWVudC51c2VyID0gdGhpc1xuICAgIHRoaXMuY2xpZW50LmFkZENoYW5uZWwodGhpcy5jaGFubmVsKVxuICAgIHRoaXMuY2xpZW50LmFkZENoYW5uZWwodGhpcy5tZWV0aW5ncy5tYXAobSA9PiBtLmNoYW5uZWwpKVxuICAgIHRoaXMuY2xpZW50LmFkZENhbGxiYWNrKFNvY2tldC5DTE9TRUQsICgpID0+IHRoaXMuZGlzYWJsZSgpKVxuICB9XG5cbiAgZGlzYWJsZSgpIHtcbiAgICBjb25zdCBsaXN0TWVldGluZyA9IHRoaXMubWVldGluZ3M7XG4gICAgdGhpcy5tZWV0aW5ncyA9IFtdXG4gICAgdGhpcy5tZWV0aW5nID0gbnVsbFxuICAgIGZvciAoY29uc3QgbWVldGluZyBvZiBsaXN0TWVldGluZykge1xuICAgICAgaWYgKCFtZWV0aW5nKSByZXR1cm5cbiAgICAgIC8vIGlmIHRoZXJlIGFyZSBzb21lIG90aGVyIG90aGVyIHVzZXJzIGluIHRoZSBtZWV0aW5nXG4gICAgICBpZiAobWVldGluZy51c2Vycy5zb21lKHUgPT4ge1xuICAgICAgICByZXR1cm4gdS5tZWV0aW5ncyAmJiAodS5tZWV0aW5ncy5maW5kSW5kZXgobSA9PiBtLmlkID09PSBtZWV0aW5nLmlkKSA+IC0xKVxuICAgICAgfSkpIHtcbiAgICAgICAgVXNlcnNTZXJ2aWNlLmRpc2FibGUodGhpcywgbWVldGluZy5jaGFubmVsKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVldGluZy5kZXN0cm95KClcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gY29uc3QgbWVldGluZyA9IHRoaXMubWVldGluZyAvLyAgZXNsaW50LWRpc2FibGUtbGluZSAgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5jbGllbnQgJiYgdGhpcy5jbGllbnQuY2xvc2UoKVxuICAgIHRoaXMuY2xpZW50ID0gbnVsbFxuICAgIGNvbnN0IGluZGV4ID0gVXNlci5hbGwuaW5kZXhPZih0aGlzKVxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIFVzZXIuYWxsLnNwbGljZShpbmRleCwgMSlcbiAgICAgIGNvbnNvbGUubG9nKCdEZXN0cm95IHVzZXInLCB0aGlzLmlkKVxuICAgIH1cbiAgfVxuXG4gIGZpbmRNZWV0aW5nKG1lZXRpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5tZWV0aW5ncy5maW5kKG0gPT4gbS5pZCA9PT0gbWVldGluZy5pZClcbiAgfVxuXG4gIGFkZE1lZXRpbmcobWVldGluZykge1xuICAgIHRoaXMubWVldGluZyA9IG1lZXRpbmdcbiAgICBpZiAodGhpcy5maW5kTWVldGluZyhtZWV0aW5nLmlkKSkgcmV0dXJuXG4gICAgdGhpcy5tZWV0aW5ncy5wdXNoKG1lZXRpbmcpXG4gICAgdGhpcy5jbGllbnQuYWRkQ2hhbm5lbChtZWV0aW5nLmNoYW5uZWwpXG4gIH1cblxuICByZW1vdmVNZWV0aW5nKG1lZXRpbmcpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMubWVldGluZ3MuaW5kZXhPZihtZWV0aW5nKVxuICAgIGlmIChpbmRleCAhPT0gLTEpIHRoaXMubWVldGluZ3Muc3BsaWNlKGluZGV4LCAxKVxuICAgIHRoaXMuY2xpZW50ICYmIHRoaXMuY2xpZW50LnJlbW92ZUNoYW5uZWwobWVldGluZy5jaGFubmVsKVxuICAgIGlmICh0aGlzLm1lZXRpbmdzLmxlbmd0aCkgcmV0dXJuXG4gICAgdGhpcy5kZXN0cm95KClcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gVXNlclNlcmlhbGl6ZXIodGhpcylcbiAgfVxuXG4gIHN0YXRpYyBhbGwgPSBbXTtcblxuICBzdGF0aWMgYXN5bmMgYWRkKGNsaWVudCwgZGF0YSkge1xuICAgIGNvbnN0IG1lZXRpbmcgPSBhd2FpdCBNZWV0aW5nLmZpbmRPckNyZWF0ZSh7IHRpdGxlOiBkYXRhLm1lZXRpbmdJRCwgcm9sZTogZGF0YS5yb2xlLCB0eXBlOiAnUHVibGljJyB9KVxuICAgIGlmICghbWVldGluZyB8fCAhY2xpZW50IHx8ICh0eXBlb2YgZGF0YS5jdXJyZW50VXNlcklkID09PSAndW5kZWZpbmVkJykpIHJldHVybiBjbGllbnQuY2xvc2UoKVxuICAgIC8vIFRPRE8gZmluZCB1c2VyIGJ5IHVuaXEgIGRhdGEudG9rZW5cbiAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoY2xpZW50LCBkYXRhLCBtZWV0aW5nKVxuICAgIFVzZXIuYWxsLnB1c2godXNlcilcbiAgICBtZWV0aW5nLmFkZFVzZXIodXNlcilcbiAgICB1c2VyLmFkZE1lZXRpbmcobWVldGluZylcbiAgICBjb25zdCBkZWVwTFN1cHBvcnRzID0gY2xpZW50LmdldERlZXBMU3VwcG9ydHModXNlci5pZClcbiAgICBVc2Vyc1NlcnZpY2UubG9hZCh1c2VyLCBkZWVwTFN1cHBvcnRzLmRlZXBMU3VwcG9ydHMpXG4gICAgTWVldGluZ3NTZXJ2aWNlLmFkZChtZWV0aW5nKVxuICAgIGlmKGRhdGEuZGVwYXJ0bWVudCA9PSAndGVjaG5pY2FsJykge1xuICAgICAgY29uc3QgdGVjaFB1YmxpY01lZXRpbmcgPSBhd2FpdCBNZWV0aW5nLmZpbmRPckNyZWF0ZUZvclRlY2huaWNhbFRlYW0oeyB0aXRsZTogZGF0YS5tZWV0aW5nSUQsIHJvbGU6IGRhdGEucm9sZSwgdHlwZTogJ1RlY2huaWNhbFB1YmxpYycgfSlcbiAgICAgIHRlY2hQdWJsaWNNZWV0aW5nLmFkZFVzZXIodXNlcilcbiAgICAgIHVzZXIuYWRkTWVldGluZyh0ZWNoUHVibGljTWVldGluZylcbiAgICAgIE1lZXRpbmdzU2VydmljZS5hZGQodGVjaFB1YmxpY01lZXRpbmcpXG4gICAgICBNZWV0aW5nc1NlcnZpY2UubWVzc2FnZXNDaGFuZ2VUb05ld1VzZXIodGVjaFB1YmxpY01lZXRpbmcsIFt1c2VyLmlkXSlcbiAgICAgIGNvbnN0IGxpc3RUZWNoTWVldGluZyA9IE1lZXRpbmcuYWxsLmZpbHRlcihtID0+IG0udHlwZSA9PSAnVGVjaG5pY2FsJylcbiAgICAgIGZvcihjb25zdCB0ZWNoTWVldGluZyBvZiBsaXN0VGVjaE1lZXRpbmcpIHtcbiAgICAgICAgdGVjaE1lZXRpbmcuYWRkVXNlcih1c2VyKVxuICAgICAgICB1c2VyLmFkZE1lZXRpbmcodGVjaE1lZXRpbmcpXG4gICAgICAgIE1lZXRpbmdzU2VydmljZS5hZGQodGVjaE1lZXRpbmcpXG4gICAgICAgIE1lZXRpbmdzU2VydmljZS5tZXNzYWdlc0NoYW5nZVRvTmV3VXNlcih0ZWNoTWVldGluZywgW3VzZXIuaWRdKVxuICAgICAgfVxuICAgIH1cbiAgICBpZihkYXRhLmRlcGFydG1lbnQgPT0gJ21vZGVyYXRvcicpIHtcbiAgICAgIGNvbnN0IG1vZGVyYXRvclB1YmxpY01lZXRpbmcgPSBhd2FpdCBNZWV0aW5nLmZpbmRPckNyZWF0ZUZvck1vZGVyYXRvclRlYW0oeyB0aXRsZTogZGF0YS5tZWV0aW5nSUQsIHJvbGU6IGRhdGEucm9sZSwgdHlwZTogJ0ludGVycHJldGVyUHVibGljJyB9KVxuICAgICAgbW9kZXJhdG9yUHVibGljTWVldGluZy5hZGRVc2VyKHVzZXIpXG4gICAgICB1c2VyLmFkZE1lZXRpbmcobW9kZXJhdG9yUHVibGljTWVldGluZylcbiAgICAgIE1lZXRpbmdzU2VydmljZS5hZGQobW9kZXJhdG9yUHVibGljTWVldGluZylcbiAgICAgIE1lZXRpbmdzU2VydmljZS5tZXNzYWdlc0NoYW5nZVRvTmV3VXNlcihtb2RlcmF0b3JQdWJsaWNNZWV0aW5nLCBbdXNlci5pZF0pXG4gICAgICBjb25zdCB7c3BlYWtSb29tSWQsIGhlYXJSb29tSWR9ID0gZGF0YVxuICAgICAgY29uc3QgbW9kZXJhdG9yQ2FiaW5NZWV0aW5nID0gYXdhaXQgTWVldGluZy5maW5kT3JDcmVhdGVGb3JNb2RlcmF0b3JUZWFtU2FtZUNhYmluKHt0aXRsZTogZGF0YS5tZWV0aW5nSUQsIHJvbGU6IGRhdGEucm9sZSwgdHlwZTogJ0ludGVycHJldGVyQ2FiaW4nLCBzcGVha1Jvb21JZCwgaGVhclJvb21JZCB9KVxuICAgICAgbW9kZXJhdG9yQ2FiaW5NZWV0aW5nLmFkZFVzZXIodXNlcilcbiAgICAgIHVzZXIuYWRkTWVldGluZyhtb2RlcmF0b3JDYWJpbk1lZXRpbmcpXG4gICAgICBNZWV0aW5nc1NlcnZpY2UuYWRkKG1vZGVyYXRvckNhYmluTWVldGluZylcbiAgICAgIE1lZXRpbmdzU2VydmljZS5tZXNzYWdlc0NoYW5nZVRvTmV3VXNlcihtb2RlcmF0b3JDYWJpbk1lZXRpbmcsIFt1c2VyLmlkXSlcbiAgICB9XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "User",
        "Record",
        "constructor",
        "client",
        "data",
        "id",
        "currentUserId",
        "username",
        "meeting",
        "meetings",
        "channel",
        "Math",
        "random",
        "toString",
        "substr",
        "setupClient",
        "department",
        "user",
        "addChannel",
        "map",
        "m",
        "addCallback",
        "Socket",
        "CLOSED",
        "disable",
        "listMeeting",
        "users",
        "some",
        "u",
        "findIndex",
        "UsersService",
        "destroy",
        "close",
        "index",
        "all",
        "indexOf",
        "splice",
        "console",
        "log",
        "findMeeting",
        "find",
        "addMeeting",
        "push",
        "removeMeeting",
        "removeChannel",
        "length",
        "toJSON",
        "add",
        "Meeting",
        "findOrCreate",
        "title",
        "meetingID",
        "role",
        "type",
        "addUser",
        "deepLSupports",
        "getDeepLSupports",
        "load",
        "MeetingsService",
        "techPublicMeeting",
        "findOrCreateForTechnicalTeam",
        "messagesChangeToNewUser",
        "listTechMeeting",
        "filter",
        "techMeeting",
        "moderatorPublicMeeting",
        "findOrCreateForModeratorTeam",
        "speakRoomId",
        "hearRoomId",
        "moderatorCabinMeeting",
        "findOrCreateForModeratorTeamSameCabin"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/",
      "sourcesContent": [
        "import { UserSerializer } from '../serializers'\nimport { UsersService, MeetingsService } from '../services'\nimport Record from './record'\nimport Meeting from './meeting'\nimport Socket from '../socket'\n\nexport default class User extends Record {\n  constructor(client, data) {\n    super()\n    this.id = data.currentUserId\n    this.username = data.username\n    this.meeting = null\n    this.meetings = []\n    this.channel = Math.random().toString(36).substr(2)\n    this.setupClient(client)\n    this.department = data.department || 'participant'\n  }\n\n  setupClient(client) {\n    this.client = client\n    this.client.user = this\n    this.client.addChannel(this.channel)\n    this.client.addChannel(this.meetings.map(m => m.channel))\n    this.client.addCallback(Socket.CLOSED, () => this.disable())\n  }\n\n  disable() {\n    const listMeeting = this.meetings;\n    this.meetings = []\n    this.meeting = null\n    for (const meeting of listMeeting) {\n      if (!meeting) return\n      // if there are some other other users in the meeting\n      if (meeting.users.some(u => {\n        return u.meetings && (u.meetings.findIndex(m => m.id === meeting.id) > -1)\n      })) {\n        UsersService.disable(this, meeting.channel)\n      } else {\n        meeting.destroy()\n      }\n    }\n    // const meeting = this.meeting //  eslint-disable-line  prefer-destructuring\n  }\n\n  destroy() {\n    this.client && this.client.close()\n    this.client = null\n    const index = User.all.indexOf(this)\n    if (index !== -1) {\n      User.all.splice(index, 1)\n      console.log('Destroy user', this.id)\n    }\n  }\n\n  findMeeting(meeting) {\n    return this.meetings.find(m => m.id === meeting.id)\n  }\n\n  addMeeting(meeting) {\n    this.meeting = meeting\n    if (this.findMeeting(meeting.id)) return\n    this.meetings.push(meeting)\n    this.client.addChannel(meeting.channel)\n  }\n\n  removeMeeting(meeting) {\n    const index = this.meetings.indexOf(meeting)\n    if (index !== -1) this.meetings.splice(index, 1)\n    this.client && this.client.removeChannel(meeting.channel)\n    if (this.meetings.length) return\n    this.destroy()\n  }\n\n  toJSON() {\n    return UserSerializer(this)\n  }\n\n  static all = [];\n\n  static async add(client, data) {\n    const meeting = await Meeting.findOrCreate({ title: data.meetingID, role: data.role, type: 'Public' })\n    if (!meeting || !client || (typeof data.currentUserId === 'undefined')) return client.close()\n    // TODO find user by uniq  data.token\n    const user = new User(client, data, meeting)\n    User.all.push(user)\n    meeting.addUser(user)\n    user.addMeeting(meeting)\n    const deepLSupports = client.getDeepLSupports(user.id)\n    UsersService.load(user, deepLSupports.deepLSupports)\n    MeetingsService.add(meeting)\n    if(data.department == 'technical') {\n      const techPublicMeeting = await Meeting.findOrCreateForTechnicalTeam({ title: data.meetingID, role: data.role, type: 'TechnicalPublic' })\n      techPublicMeeting.addUser(user)\n      user.addMeeting(techPublicMeeting)\n      MeetingsService.add(techPublicMeeting)\n      MeetingsService.messagesChangeToNewUser(techPublicMeeting, [user.id])\n      const listTechMeeting = Meeting.all.filter(m => m.type == 'Technical')\n      for(const techMeeting of listTechMeeting) {\n        techMeeting.addUser(user)\n        user.addMeeting(techMeeting)\n        MeetingsService.add(techMeeting)\n        MeetingsService.messagesChangeToNewUser(techMeeting, [user.id])\n      }\n    }\n    if(data.department == 'moderator') {\n      const moderatorPublicMeeting = await Meeting.findOrCreateForModeratorTeam({ title: data.meetingID, role: data.role, type: 'InterpreterPublic' })\n      moderatorPublicMeeting.addUser(user)\n      user.addMeeting(moderatorPublicMeeting)\n      MeetingsService.add(moderatorPublicMeeting)\n      MeetingsService.messagesChangeToNewUser(moderatorPublicMeeting, [user.id])\n      const {speakRoomId, hearRoomId} = data\n      const moderatorCabinMeeting = await Meeting.findOrCreateForModeratorTeamSameCabin({title: data.meetingID, role: data.role, type: 'InterpreterCabin', speakRoomId, hearRoomId })\n      moderatorCabinMeeting.addUser(user)\n      user.addMeeting(moderatorCabinMeeting)\n      MeetingsService.add(moderatorCabinMeeting)\n      MeetingsService.messagesChangeToNewUser(moderatorCabinMeeting, [user.id])\n    }\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"MeetingSerializer\", {\n  enumerable: true,\n  get: function () {\n    return _meeting.default;\n  }\n});\nObject.defineProperty(exports, \"MessageSerializer\", {\n  enumerable: true,\n  get: function () {\n    return _message.default;\n  }\n});\nObject.defineProperty(exports, \"UserSerializer\", {\n  enumerable: true,\n  get: function () {\n    return _user.default;\n  }\n});\n\nvar _meeting = _interopRequireDefault(require(\"./meeting\"));\n\nvar _message = _interopRequireDefault(require(\"./message\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3RleHRjaGF0LW5vZGUvc3JjL3NlcmlhbGl6ZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNZWV0aW5nU2VyaWFsaXplciBmcm9tICcuL21lZXRpbmcnXG5pbXBvcnQgTWVzc2FnZVNlcmlhbGl6ZXIgZnJvbSAnLi9tZXNzYWdlJ1xuaW1wb3J0IFVzZXJTZXJpYWxpemVyIGZyb20gJy4vdXNlcidcblxuZXhwb3J0IHsgTWVldGluZ1NlcmlhbGl6ZXIsIE1lc3NhZ2VTZXJpYWxpemVyLCBVc2VyU2VyaWFsaXplciB9IFxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/",
      "sourcesContent": [
        "import MeetingSerializer from './meeting'\nimport MessageSerializer from './message'\nimport UserSerializer from './user'\n\nexport { MeetingSerializer, MessageSerializer, UserSerializer } \n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/meeting.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/meeting.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/meeting.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/meeting.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/",
        "sourceFileName": "meeting.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = (meeting, options = {}) => {\n  const result = {\n    id: meeting.id,\n    title: meeting.title,\n    conferences: meeting.conferences,\n    type: meeting.type,\n    hash: meeting.hash,\n    createdBy: meeting.createdBy\n  };\n  return result;\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lZXRpbmcuanMiXSwibmFtZXMiOlsibWVldGluZyIsIm9wdGlvbnMiLCJyZXN1bHQiLCJpZCIsInRpdGxlIiwiY29uZmVyZW5jZXMiLCJ0eXBlIiwiaGFzaCIsImNyZWF0ZWRCeSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztlQUFlLENBQUNBLE9BQUQsRUFBVUMsT0FBTyxHQUFHLEVBQXBCLEtBQTJCO0FBQ3hDLFFBQU1DLE1BQU0sR0FBRztBQUNiQyxJQUFBQSxFQUFFLEVBQUVILE9BQU8sQ0FBQ0csRUFEQztBQUViQyxJQUFBQSxLQUFLLEVBQUVKLE9BQU8sQ0FBQ0ksS0FGRjtBQUdiQyxJQUFBQSxXQUFXLEVBQUVMLE9BQU8sQ0FBQ0ssV0FIUjtBQUliQyxJQUFBQSxJQUFJLEVBQUVOLE9BQU8sQ0FBQ00sSUFKRDtBQUtiQyxJQUFBQSxJQUFJLEVBQUVQLE9BQU8sQ0FBQ08sSUFMRDtBQU1iQyxJQUFBQSxTQUFTLEVBQUVSLE9BQU8sQ0FBQ1E7QUFOTixHQUFmO0FBU0EsU0FBT04sTUFBUDtBQUNELEMiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvdGV4dGNoYXQtbm9kZS9zcmMvc2VyaWFsaXplcnMvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgKG1lZXRpbmcsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCByZXN1bHQgPSB7XG4gICAgaWQ6IG1lZXRpbmcuaWQsXG4gICAgdGl0bGU6IG1lZXRpbmcudGl0bGUsXG4gICAgY29uZmVyZW5jZXM6IG1lZXRpbmcuY29uZmVyZW5jZXMsXG4gICAgdHlwZTogbWVldGluZy50eXBlLFxuICAgIGhhc2g6IG1lZXRpbmcuaGFzaCxcbiAgICBjcmVhdGVkQnk6IG1lZXRpbmcuY3JlYXRlZEJ5XG4gIH1cblxuICByZXR1cm4gcmVzdWx0XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "meeting.js"
      ],
      "names": [
        "meeting",
        "options",
        "result",
        "id",
        "title",
        "conferences",
        "type",
        "hash",
        "createdBy"
      ],
      "mappings": ";;;;;;;eAAe,CAACA,OAAD,EAAUC,OAAO,GAAG,EAApB,KAA2B;AACxC,QAAMC,MAAM,GAAG;AACbC,IAAAA,EAAE,EAAEH,OAAO,CAACG,EADC;AAEbC,IAAAA,KAAK,EAAEJ,OAAO,CAACI,KAFF;AAGbC,IAAAA,WAAW,EAAEL,OAAO,CAACK,WAHR;AAIbC,IAAAA,IAAI,EAAEN,OAAO,CAACM,IAJD;AAKbC,IAAAA,IAAI,EAAEP,OAAO,CAACO,IALD;AAMbC,IAAAA,SAAS,EAAER,OAAO,CAACQ;AANN,GAAf;AASA,SAAON,MAAP;AACD,C",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/",
      "sourcesContent": [
        "export default (meeting, options = {}) => {\n  const result = {\n    id: meeting.id,\n    title: meeting.title,\n    conferences: meeting.conferences,\n    type: meeting.type,\n    hash: meeting.hash,\n    createdBy: meeting.createdBy\n  }\n\n  return result\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/message.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/message.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/message.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/message.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/",
        "sourceFileName": "message.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = (message, options = {}) => {\n  const result = {\n    id: message.id,\n    lang: message.lang,\n    user: message.user,\n    meeting: message.meeting,\n    text: message.text,\n    file: message.file,\n    createdAt: message.createdAt\n  };\n  return result;\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2UuanMiXSwibmFtZXMiOlsibWVzc2FnZSIsIm9wdGlvbnMiLCJyZXN1bHQiLCJpZCIsImxhbmciLCJ1c2VyIiwibWVldGluZyIsInRleHQiLCJmaWxlIiwiY3JlYXRlZEF0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O2VBQWUsQ0FBQ0EsT0FBRCxFQUFVQyxPQUFPLEdBQUcsRUFBcEIsS0FBMkI7QUFDeEMsUUFBTUMsTUFBTSxHQUFHO0FBQ2JDLElBQUFBLEVBQUUsRUFBRUgsT0FBTyxDQUFDRyxFQURDO0FBRWJDLElBQUFBLElBQUksRUFBRUosT0FBTyxDQUFDSSxJQUZEO0FBR2JDLElBQUFBLElBQUksRUFBRUwsT0FBTyxDQUFDSyxJQUhEO0FBSWJDLElBQUFBLE9BQU8sRUFBRU4sT0FBTyxDQUFDTSxPQUpKO0FBS2JDLElBQUFBLElBQUksRUFBRVAsT0FBTyxDQUFDTyxJQUxEO0FBTWJDLElBQUFBLElBQUksRUFBRVIsT0FBTyxDQUFDUSxJQU5EO0FBT2JDLElBQUFBLFNBQVMsRUFBRVQsT0FBTyxDQUFDUztBQVBOLEdBQWY7QUFVQSxTQUFPUCxNQUFQO0FBQ0QsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy90ZXh0Y2hhdC1ub2RlL3NyYy9zZXJpYWxpemVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAobWVzc2FnZSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICBpZDogbWVzc2FnZS5pZCxcbiAgICBsYW5nOiBtZXNzYWdlLmxhbmcsXG4gICAgdXNlcjogbWVzc2FnZS51c2VyLFxuICAgIG1lZXRpbmc6IG1lc3NhZ2UubWVldGluZyxcbiAgICB0ZXh0OiBtZXNzYWdlLnRleHQsXG4gICAgZmlsZTogbWVzc2FnZS5maWxlLFxuICAgIGNyZWF0ZWRBdDogbWVzc2FnZS5jcmVhdGVkQXQsXG4gIH1cblxuICByZXR1cm4gcmVzdWx0XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "message.js"
      ],
      "names": [
        "message",
        "options",
        "result",
        "id",
        "lang",
        "user",
        "meeting",
        "text",
        "file",
        "createdAt"
      ],
      "mappings": ";;;;;;;eAAe,CAACA,OAAD,EAAUC,OAAO,GAAG,EAApB,KAA2B;AACxC,QAAMC,MAAM,GAAG;AACbC,IAAAA,EAAE,EAAEH,OAAO,CAACG,EADC;AAEbC,IAAAA,IAAI,EAAEJ,OAAO,CAACI,IAFD;AAGbC,IAAAA,IAAI,EAAEL,OAAO,CAACK,IAHD;AAIbC,IAAAA,OAAO,EAAEN,OAAO,CAACM,OAJJ;AAKbC,IAAAA,IAAI,EAAEP,OAAO,CAACO,IALD;AAMbC,IAAAA,IAAI,EAAER,OAAO,CAACQ,IAND;AAObC,IAAAA,SAAS,EAAET,OAAO,CAACS;AAPN,GAAf;AAUA,SAAOP,MAAP;AACD,C",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/",
      "sourcesContent": [
        "export default (message, options = {}) => {\n  const result = {\n    id: message.id,\n    lang: message.lang,\n    user: message.user,\n    meeting: message.meeting,\n    text: message.text,\n    file: message.file,\n    createdAt: message.createdAt,\n  }\n\n  return result\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/user.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = (user, options = {}) => {\n  const result = {\n    id: user.id,\n    active: user.active,\n    username: user.username,\n    meeting: user.meeting,\n    department: user.department\n  };\n  return result;\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsidXNlciIsIm9wdGlvbnMiLCJyZXN1bHQiLCJpZCIsImFjdGl2ZSIsInVzZXJuYW1lIiwibWVldGluZyIsImRlcGFydG1lbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7ZUFBZSxDQUFDQSxJQUFELEVBQU9DLE9BQU8sR0FBRyxFQUFqQixLQUF3QjtBQUNyQyxRQUFNQyxNQUFNLEdBQUc7QUFDYkMsSUFBQUEsRUFBRSxFQUFFSCxJQUFJLENBQUNHLEVBREk7QUFFYkMsSUFBQUEsTUFBTSxFQUFFSixJQUFJLENBQUNJLE1BRkE7QUFHYkMsSUFBQUEsUUFBUSxFQUFFTCxJQUFJLENBQUNLLFFBSEY7QUFJYkMsSUFBQUEsT0FBTyxFQUFFTixJQUFJLENBQUNNLE9BSkQ7QUFLYkMsSUFBQUEsVUFBVSxFQUFFUCxJQUFJLENBQUNPO0FBTEosR0FBZjtBQVFBLFNBQU9MLE1BQVA7QUFDRCxDIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3RleHRjaGF0LW5vZGUvc3JjL3NlcmlhbGl6ZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0ICh1c2VyLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIGlkOiB1c2VyLmlkLFxuICAgIGFjdGl2ZTogdXNlci5hY3RpdmUsXG4gICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgbWVldGluZzogdXNlci5tZWV0aW5nLFxuICAgIGRlcGFydG1lbnQ6IHVzZXIuZGVwYXJ0bWVudFxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "user",
        "options",
        "result",
        "id",
        "active",
        "username",
        "meeting",
        "department"
      ],
      "mappings": ";;;;;;;eAAe,CAACA,IAAD,EAAOC,OAAO,GAAG,EAAjB,KAAwB;AACrC,QAAMC,MAAM,GAAG;AACbC,IAAAA,EAAE,EAAEH,IAAI,CAACG,EADI;AAEbC,IAAAA,MAAM,EAAEJ,IAAI,CAACI,MAFA;AAGbC,IAAAA,QAAQ,EAAEL,IAAI,CAACK,QAHF;AAIbC,IAAAA,OAAO,EAAEN,IAAI,CAACM,OAJD;AAKbC,IAAAA,UAAU,EAAEP,IAAI,CAACO;AALJ,GAAf;AAQA,SAAOL,MAAP;AACD,C",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/serializers/",
      "sourcesContent": [
        "export default (user, options = {}) => {\n  const result = {\n    id: user.id,\n    active: user.active,\n    username: user.username,\n    meeting: user.meeting,\n    department: user.department\n  }\n\n  return result\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/services/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MeetingsService = exports.UsersService = exports.MessagesService = void 0;\n\nvar MessagesService = _interopRequireWildcard(require(\"./messages\"));\n\nexports.MessagesService = MessagesService;\n\nvar UsersService = _interopRequireWildcard(require(\"./users\"));\n\nexports.UsersService = UsersService;\n\nvar MeetingsService = _interopRequireWildcard(require(\"./meetings\"));\n\nexports.MeetingsService = MeetingsService;\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0EiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvdGV4dGNoYXQtbm9kZS9zcmMvc2VydmljZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgTWVzc2FnZXNTZXJ2aWNlIGZyb20gJy4vbWVzc2FnZXMnXG5pbXBvcnQgKiBhcyBVc2Vyc1NlcnZpY2UgZnJvbSAnLi91c2VycydcbmltcG9ydCAqIGFzIE1lZXRpbmdzU2VydmljZSBmcm9tICcuL21lZXRpbmdzJ1xuXG5leHBvcnQgeyBNZXNzYWdlc1NlcnZpY2UsIFVzZXJzU2VydmljZSwgTWVldGluZ3NTZXJ2aWNlIH1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;AAAA;;;;AACA;;;;AACA",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/",
      "sourcesContent": [
        "import * as MessagesService from './messages'\nimport * as UsersService from './users'\nimport * as MeetingsService from './meetings'\n\nexport { MessagesService, UsersService, MeetingsService }\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/services/messages.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/messages.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/messages.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/messages.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/",
        "sourceFileName": "messages.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteChatSuccess = exports.add = void 0;\n\nvar _socket = require(\"../socket\");\n\nvar _meeting = _interopRequireDefault(require(\"../models/meeting\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst add = (message = {}) => {\n  if (typeof message.meeting === 'undefined') return;\n\n  _socket.Sender.messagesAdd(message.meeting.channel, message);\n};\n\nexports.add = add;\n\nconst deleteChatSuccess = ({\n  meetingId\n}) => {\n  const meeting = _meeting.default.find({\n    id: meetingId\n  });\n\n  _socket.Sender.deleteChatSuccess(meeting.channel, meetingId);\n};\n\nexports.deleteChatSuccess = deleteChatSuccess;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2VzLmpzIl0sIm5hbWVzIjpbImFkZCIsIm1lc3NhZ2UiLCJtZWV0aW5nIiwiU2VuZGVyIiwibWVzc2FnZXNBZGQiLCJjaGFubmVsIiwiZGVsZXRlQ2hhdFN1Y2Nlc3MiLCJtZWV0aW5nSWQiLCJNZWV0aW5nIiwiZmluZCIsImlkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFTyxNQUFNQSxHQUFHLEdBQUcsQ0FBQ0MsT0FBTyxHQUFHLEVBQVgsS0FBa0I7QUFDbkMsTUFBSSxPQUFPQSxPQUFPLENBQUNDLE9BQWYsS0FBMkIsV0FBL0IsRUFBNEM7O0FBQzVDQyxpQkFBT0MsV0FBUCxDQUFtQkgsT0FBTyxDQUFDQyxPQUFSLENBQWdCRyxPQUFuQyxFQUE0Q0osT0FBNUM7QUFDRCxDQUhNOzs7O0FBTUEsTUFBTUssaUJBQWlCLEdBQUcsQ0FBQztBQUFDQyxFQUFBQTtBQUFELENBQUQsS0FBaUI7QUFDaEQsUUFBTUwsT0FBTyxHQUFHTSxpQkFBUUMsSUFBUixDQUFhO0FBQUNDLElBQUFBLEVBQUUsRUFBRUg7QUFBTCxHQUFiLENBQWhCOztBQUNBSixpQkFBT0csaUJBQVAsQ0FBeUJKLE9BQU8sQ0FBQ0csT0FBakMsRUFBMENFLFNBQTFDO0FBQ0QsQ0FITSIsInNvdXJjZVJvb3QiOiIvaG9tZS92aW5obWgvUHJvamVjdC9kZXYvLnd3dy90ZXh0Y2hhdC1ub2RlL3NyYy9zZXJ2aWNlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZW5kZXIgfSBmcm9tICcuLi9zb2NrZXQnXG5pbXBvcnQgTWVldGluZyBmcm9tICcuLi9tb2RlbHMvbWVldGluZydcblxuZXhwb3J0IGNvbnN0IGFkZCA9IChtZXNzYWdlID0ge30pID0+IHtcbiAgaWYgKHR5cGVvZiBtZXNzYWdlLm1lZXRpbmcgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gXG4gIFNlbmRlci5tZXNzYWdlc0FkZChtZXNzYWdlLm1lZXRpbmcuY2hhbm5lbCwgbWVzc2FnZSlcbn1cblxuXG5leHBvcnQgY29uc3QgZGVsZXRlQ2hhdFN1Y2Nlc3MgPSAoe21lZXRpbmdJZH0pID0+IHtcbiAgY29uc3QgbWVldGluZyA9IE1lZXRpbmcuZmluZCh7aWQ6IG1lZXRpbmdJZH0pXG4gIFNlbmRlci5kZWxldGVDaGF0U3VjY2VzcyhtZWV0aW5nLmNoYW5uZWwsIG1lZXRpbmdJZClcbn1cblxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "messages.js"
      ],
      "names": [
        "add",
        "message",
        "meeting",
        "Sender",
        "messagesAdd",
        "channel",
        "deleteChatSuccess",
        "meetingId",
        "Meeting",
        "find",
        "id"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEO,MAAMA,GAAG,GAAG,CAACC,OAAO,GAAG,EAAX,KAAkB;AACnC,MAAI,OAAOA,OAAO,CAACC,OAAf,KAA2B,WAA/B,EAA4C;;AAC5CC,iBAAOC,WAAP,CAAmBH,OAAO,CAACC,OAAR,CAAgBG,OAAnC,EAA4CJ,OAA5C;AACD,CAHM;;;;AAMA,MAAMK,iBAAiB,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAiB;AAChD,QAAML,OAAO,GAAGM,iBAAQC,IAAR,CAAa;AAACC,IAAAA,EAAE,EAAEH;AAAL,GAAb,CAAhB;;AACAJ,iBAAOG,iBAAP,CAAyBJ,OAAO,CAACG,OAAjC,EAA0CE,SAA1C;AACD,CAHM",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/",
      "sourcesContent": [
        "import { Sender } from '../socket'\nimport Meeting from '../models/meeting'\n\nexport const add = (message = {}) => {\n  if (typeof message.meeting === 'undefined') return \n  Sender.messagesAdd(message.meeting.channel, message)\n}\n\n\nexport const deleteChatSuccess = ({meetingId}) => {\n  const meeting = Meeting.find({id: meetingId})\n  Sender.deleteChatSuccess(meeting.channel, meetingId)\n}\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/models/meeting.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/meeting.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/meeting.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/meeting.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/",
        "sourceFileName": "meeting.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _record = _interopRequireDefault(require(\"./record\"));\n\nvar _message = _interopRequireDefault(require(\"./message\"));\n\nvar _serializers = require(\"../serializers\");\n\nvar _services = require(\"../services\");\n\nvar _config = _interopRequireDefault(require(\"../../config\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _helpers = require(\"../helpers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nlet id = 0;\n\nconst typeCheck = (arr = []) => {\n  switch (true) {\n    case arr.length == 2:\n      return 'Private';\n\n    case arr.length > 2:\n      return 'Group';\n\n    default:\n      return 'Public';\n  }\n};\n\nclass Meeting extends _record.default {\n  constructor(data) {\n    super();\n    this.id = ++id;\n    this.title = data.title;\n    this.conferences = data.conferences || [];\n    this.channel = Math.random().toString(36).substr(2);\n    this.users = [];\n    this.hash = data.hash || null;\n    this.prevHash = null;\n    this.type = data.type || 'Public';\n    this.createdBy = data.createdBy || null;\n    this.cabinCode = data.cabinCode || null;\n  }\n\n  findUser(userId) {\n    return this.users.find(u => u.id === userId);\n  }\n\n  addUser(data = {}) {\n    if (typeof data.id === 'undefined') return;\n    const user = this.findUser(data.id);\n    if (user) return;\n    this.users.push(data);\n  }\n\n  static async removeUser(client, {\n    meetingId,\n    userIdToRemove\n  }) {\n    const meeting = Meeting.find({\n      id: meetingId\n    });\n    if (!meeting) return;\n    const newUsers = meeting.users.filter(u => u.id != userIdToRemove);\n    meeting.users = newUsers;\n    const newHash = (0, _helpers.generateHash)(newUsers.map(u => u.id).sort().toString());\n    meeting.prevHash = meeting.hash;\n    meeting.hash = newHash;\n\n    const user = _user.default.find({\n      id: userIdToRemove\n    });\n\n    if (!user) return;\n    const newMeetings = user.meetings.filter(m => m.id != meetingId);\n    user.meetings = newMeetings;\n    await _services.MeetingsService.removeUser(meeting, user);\n    client.removeUserChannel(meeting.channel, userIdToRemove);\n  }\n\n  addUserByIds(data = []) {\n    for (const id of data) {\n      const user = this.users.find(u => u.id === id); // const user = this.findUser(data.id)\n\n      if (user) return;\n\n      const targetUser = _user.default.find({\n        id\n      });\n\n      if (!targetUser) return;\n      this.users.push(targetUser);\n      targetUser.addMeeting(this);\n    }\n  }\n\n  destroy() {\n    _message.default.byMeeting(this).forEach(m => m.destroy());\n\n    if (this.type === 'Public') {\n      this.users.forEach(u => u.removeMeeting(this));\n    }\n\n    const index = Meeting.all.indexOf(this);\n\n    if (index !== -1) {\n      Meeting.all.splice(index, 1);\n      console.log('Destroy Meeting', this.id);\n    }\n  }\n\n  toJSON() {\n    return (0, _serializers.MeetingSerializer)(this);\n  }\n\n  static add(data) {\n    const meeting = new Meeting(data);\n    Meeting.all.push(meeting);\n    return meeting;\n  }\n\n  static async findOrCreate({\n    title,\n    role,\n    type\n  }) {\n    const meeting = Meeting.find({\n      title,\n      type\n    });\n    if (meeting) return meeting;\n    let conferences;\n    const {\n      webphoneSecretToken\n    } = _config.default;\n    const params = {\n      meetingID: title,\n      secretToken: webphoneSecretToken\n    };\n\n    try {\n      const response = await _axios.default.get(`${_config.default.webphoneServer}/getMeetingData`, {\n        params\n      });\n      conferences = response.data.meeting.conferences.filter(c => role !== 'regular' || c.accessible);\n    } catch (error) {\n      return null;\n    }\n\n    return Meeting.add({\n      title,\n      conferences\n    });\n  }\n\n  static async findOrCreateForTechnicalTeam({\n    title,\n    role,\n    type\n  }) {\n    const meeting = Meeting.find({\n      title,\n      type\n    });\n    if (meeting) return meeting;\n    let conferences;\n    const {\n      webphoneSecretToken\n    } = _config.default;\n    const params = {\n      meetingID: title,\n      secretToken: webphoneSecretToken\n    };\n\n    try {\n      const response = await _axios.default.get(`${_config.default.webphoneServer}/getMeetingData`, {\n        params\n      });\n      conferences = response.data.meeting.conferences.filter(c => role !== 'regular' || c.accessible);\n    } catch (error) {\n      return null;\n    }\n\n    return Meeting.add({\n      title,\n      conferences,\n      type\n    });\n  }\n\n  static async findOrCreateForModeratorTeam({\n    title,\n    role,\n    type\n  }) {\n    const meeting = Meeting.find({\n      title,\n      type\n    });\n    if (meeting) return meeting;\n    let conferences;\n    const {\n      webphoneSecretToken\n    } = _config.default;\n    const params = {\n      meetingID: title,\n      secretToken: webphoneSecretToken\n    };\n\n    try {\n      const response = await _axios.default.get(`${_config.default.webphoneServer}/getMeetingData`, {\n        params\n      });\n      conferences = response.data.meeting.conferences.filter(c => role !== 'regular' || c.accessible);\n    } catch (error) {\n      return null;\n    }\n\n    return Meeting.add({\n      title,\n      conferences,\n      type\n    });\n  }\n\n  static async findOrCreateForModeratorTeamSameCabin({\n    title,\n    role,\n    type,\n    speakRoomId,\n    hearRoomId\n  }) {\n    const cabinCode = [speakRoomId, hearRoomId].map(id => parseInt(id)).sort().join(',');\n    const meeting = Meeting.find({\n      title,\n      type,\n      cabinCode\n    });\n    if (meeting) return meeting;\n    let conferences;\n    const {\n      webphoneSecretToken\n    } = _config.default;\n    const params = {\n      meetingID: title,\n      secretToken: webphoneSecretToken\n    };\n\n    try {\n      const response = await _axios.default.get(`${_config.default.webphoneServer}/getMeetingData`, {\n        params\n      });\n      conferences = response.data.meeting.conferences.filter(c => role !== 'regular' || c.accessible);\n    } catch (error) {\n      return null;\n    }\n\n    return Meeting.add({\n      title,\n      conferences,\n      type,\n      cabinCode\n    });\n  }\n\n  static async addNew(client, {\n    title,\n    role,\n    createdById,\n    userInvitedId,\n    meetingType,\n    meetingHash,\n    newUsers\n  }) {\n    const allUsersInNewMeeting = [...userInvitedId, createdById].filter(userId => _user.default.all.findIndex(u => u.id === userId) > -1);\n    if (allUsersInNewMeeting.length < 2) return;\n    const uIds = [...allUsersInNewMeeting];\n    const hash = (0, _helpers.generateHash)(uIds.sort().toString());\n    const newTitle = uIds.sort().join(',');\n    const meeting = Meeting.find({\n      hash,\n      type: meetingType ? meetingType : typeCheck(allUsersInNewMeeting)\n    });\n    if (meeting) return meeting;\n    let conferences;\n    const {\n      webphoneSecretToken\n    } = _config.default;\n    const params = {\n      meetingID: title,\n      secretToken: webphoneSecretToken\n    };\n\n    try {\n      const response = await _axios.default.get(`${_config.default.webphoneServer}/getMeetingData`, {\n        params\n      });\n      conferences = response.data.meeting.conferences.filter(c => role !== 'regular' || c.accessible);\n    } catch (error) {\n      return null;\n    }\n\n    if (meetingType !== 'Group') {\n      const createdByUser = _user.default.find({\n        id: createdById\n      });\n\n      const userClone = _lodash.default.cloneDeep(createdByUser);\n\n      const newMeeting = Meeting.add({\n        title: newTitle,\n        conferences,\n        hash,\n        type: meetingType == 'Technical' ? 'Technical' : typeCheck(allUsersInNewMeeting),\n        createdBy: userClone\n      });\n      client.addChannelWhenCreateNewMeeting(newMeeting.channel, allUsersInNewMeeting);\n      newMeeting.addUserByIds(allUsersInNewMeeting);\n\n      _services.MeetingsService.add(newMeeting);\n    } else {\n      let meeting = Meeting.find({\n        hash: meetingHash\n      });\n\n      if (!meeting) {\n        meeting = Meeting.find({\n          prevHash: meetingHash\n        });\n      }\n\n      if (!meeting) return;\n      meeting.hash = hash;\n      meeting.prevHash = null;\n      meeting.title = newTitle;\n      client.addChannelWhenCreateNewMeeting(meeting.channel, allUsersInNewMeeting);\n      meeting.addUserByIds(allUsersInNewMeeting);\n\n      _services.MeetingsService.add(meeting);\n\n      _services.MeetingsService.messagesChangeToNewUser(meeting, newUsers);\n    }\n  }\n\n}\n\nexports.default = Meeting;\n\n_defineProperty(Meeting, \"all\", []);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lZXRpbmcuanMiXSwibmFtZXMiOlsiaWQiLCJ0eXBlQ2hlY2siLCJhcnIiLCJsZW5ndGgiLCJNZWV0aW5nIiwiUmVjb3JkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwidGl0bGUiLCJjb25mZXJlbmNlcyIsImNoYW5uZWwiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJ1c2VycyIsImhhc2giLCJwcmV2SGFzaCIsInR5cGUiLCJjcmVhdGVkQnkiLCJjYWJpbkNvZGUiLCJmaW5kVXNlciIsInVzZXJJZCIsImZpbmQiLCJ1IiwiYWRkVXNlciIsInVzZXIiLCJwdXNoIiwicmVtb3ZlVXNlciIsImNsaWVudCIsIm1lZXRpbmdJZCIsInVzZXJJZFRvUmVtb3ZlIiwibWVldGluZyIsIm5ld1VzZXJzIiwiZmlsdGVyIiwibmV3SGFzaCIsIm1hcCIsInNvcnQiLCJVc2VyIiwibmV3TWVldGluZ3MiLCJtZWV0aW5ncyIsIm0iLCJNZWV0aW5nc1NlcnZpY2UiLCJyZW1vdmVVc2VyQ2hhbm5lbCIsImFkZFVzZXJCeUlkcyIsInRhcmdldFVzZXIiLCJhZGRNZWV0aW5nIiwiZGVzdHJveSIsIk1lc3NhZ2UiLCJieU1lZXRpbmciLCJmb3JFYWNoIiwicmVtb3ZlTWVldGluZyIsImluZGV4IiwiYWxsIiwiaW5kZXhPZiIsInNwbGljZSIsImNvbnNvbGUiLCJsb2ciLCJ0b0pTT04iLCJhZGQiLCJmaW5kT3JDcmVhdGUiLCJyb2xlIiwid2VicGhvbmVTZWNyZXRUb2tlbiIsImNvbmZpZyIsInBhcmFtcyIsIm1lZXRpbmdJRCIsInNlY3JldFRva2VuIiwicmVzcG9uc2UiLCJheGlvcyIsImdldCIsIndlYnBob25lU2VydmVyIiwiYyIsImFjY2Vzc2libGUiLCJlcnJvciIsImZpbmRPckNyZWF0ZUZvclRlY2huaWNhbFRlYW0iLCJmaW5kT3JDcmVhdGVGb3JNb2RlcmF0b3JUZWFtIiwiZmluZE9yQ3JlYXRlRm9yTW9kZXJhdG9yVGVhbVNhbWVDYWJpbiIsInNwZWFrUm9vbUlkIiwiaGVhclJvb21JZCIsInBhcnNlSW50Iiwiam9pbiIsImFkZE5ldyIsImNyZWF0ZWRCeUlkIiwidXNlckludml0ZWRJZCIsIm1lZXRpbmdUeXBlIiwibWVldGluZ0hhc2giLCJhbGxVc2Vyc0luTmV3TWVldGluZyIsImZpbmRJbmRleCIsInVJZHMiLCJuZXdUaXRsZSIsImNyZWF0ZWRCeVVzZXIiLCJ1c2VyQ2xvbmUiLCJfIiwiY2xvbmVEZWVwIiwibmV3TWVldGluZyIsImFkZENoYW5uZWxXaGVuQ3JlYXRlTmV3TWVldGluZyIsIm1lc3NhZ2VzQ2hhbmdlVG9OZXdVc2VyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVBLElBQUlBLEVBQUUsR0FBRyxDQUFUOztBQUVBLE1BQU1DLFNBQVMsR0FBRyxDQUFDQyxHQUFHLEdBQUcsRUFBUCxLQUFjO0FBQzlCLFVBQVEsSUFBUjtBQUNFLFNBQUtBLEdBQUcsQ0FBQ0MsTUFBSixJQUFjLENBQW5CO0FBQ0UsYUFBTyxTQUFQOztBQUNGLFNBQUtELEdBQUcsQ0FBQ0MsTUFBSixHQUFhLENBQWxCO0FBQ0UsYUFBTyxPQUFQOztBQUNGO0FBQ0UsYUFBTyxRQUFQO0FBTko7QUFRRCxDQVREOztBQVdlLE1BQU1DLE9BQU4sU0FBc0JDLGVBQXRCLENBQTZCO0FBQzFDQyxFQUFBQSxXQUFXLENBQUNDLElBQUQsRUFBTztBQUNoQjtBQUNBLFNBQUtQLEVBQUwsR0FBVSxFQUFFQSxFQUFaO0FBQ0EsU0FBS1EsS0FBTCxHQUFhRCxJQUFJLENBQUNDLEtBQWxCO0FBQ0EsU0FBS0MsV0FBTCxHQUFtQkYsSUFBSSxDQUFDRSxXQUFMLElBQW9CLEVBQXZDO0FBQ0EsU0FBS0MsT0FBTCxHQUFlQyxJQUFJLENBQUNDLE1BQUwsR0FBY0MsUUFBZCxDQUF1QixFQUF2QixFQUEyQkMsTUFBM0IsQ0FBa0MsQ0FBbEMsQ0FBZjtBQUNBLFNBQUtDLEtBQUwsR0FBYSxF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Q0FDRS9ELE9BQU8sQ0FBQ3RCLE9BRFYsRUFFRTRFLG9CQUZGO0FBSUF0RCxNQUFBQSxPQUFPLENBQUNZLFlBQVIsQ0FBcUIwQyxvQkFBckI7O0FBQ0E1QyxnQ0FBZ0JpQixHQUFoQixDQUFvQjNCLE9BQXBCOztBQUNBVSxnQ0FBZ0JzRCx1QkFBaEIsQ0FBd0NoRSxPQUF4QyxFQUFpREMsUUFBakQ7QUFDRDtBQUNGOztBQXhPeUM7Ozs7Z0JBQXZCN0IsTyxTQXVFTixFIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3RleHRjaGF0LW5vZGUvc3JjL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnXG5pbXBvcnQgUmVjb3JkIGZyb20gJy4vcmVjb3JkJ1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi9tZXNzYWdlJ1xuaW1wb3J0IHsgTWVldGluZ1NlcmlhbGl6ZXIgfSBmcm9tICcuLi9zZXJpYWxpemVycydcbmltcG9ydCB7IE1lZXRpbmdzU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi8uLi9jb25maWcnXG5pbXBvcnQgVXNlciBmcm9tICcuL3VzZXInXG5pbXBvcnQgeyBnZW5lcmF0ZUhhc2ggfSBmcm9tICcuLi9oZWxwZXJzJ1xuXG5sZXQgaWQgPSAwXG5cbmNvbnN0IHR5cGVDaGVjayA9IChhcnIgPSBbXSkgPT4ge1xuICBzd2l0Y2ggKHRydWUpIHtcbiAgICBjYXNlIGFyci5sZW5ndGggPT0gMjpcbiAgICAgIHJldHVybiAnUHJpdmF0ZSdcbiAgICBjYXNlIGFyci5sZW5ndGggPiAyOlxuICAgICAgcmV0dXJuICdHcm91cCdcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICdQdWJsaWMnXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVldGluZyBleHRlbmRzIFJlY29yZCB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5pZCA9ICsraWRcbiAgICB0aGlzLnRpdGxlID0gZGF0YS50aXRsZVxuICAgIHRoaXMuY29uZmVyZW5jZXMgPSBkYXRhLmNvbmZlcmVuY2VzIHx8IFtdXG4gICAgdGhpcy5jaGFubmVsID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIpXG4gICAgdGhpcy51c2VycyA9IFtdXG4gICAgdGhpcy5oYXNoID0gZGF0YS5oYXNoIHx8IG51bGxcbiAgICB0aGlzLnByZXZIYXNoID0gbnVsbFxuICAgIHRoaXMudHlwZSA9IGRhdGEudHlwZSB8fCAnUHVibGljJ1xuICAgIHRoaXMuY3JlYXRlZEJ5ID0gZGF0YS5jcmVhdGVkQnkgfHwgbnVsbFxuICAgIHRoaXMuY2FiaW5Db2RlID0gZGF0YS5jYWJpbkNvZGUgfHwgbnVsbFxuICB9XG5cbiAgZmluZFVzZXIodXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlcnMuZmluZCgodSkgPT4gdS5pZCA9PT0gdXNlcklkKVxuICB9XG5cbiAgYWRkVXNlcihkYXRhID0ge30pIHtcbiAgICBpZiAodHlwZW9mIGRhdGEuaWQgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gXG4gICAgY29uc3QgdXNlciA9IHRoaXMuZmluZFVzZXIoZGF0YS5pZClcbiAgICBpZiAodXNlcikgcmV0dXJuXG4gICAgdGhpcy51c2Vycy5wdXNoKGRhdGEpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgcmVtb3ZlVXNlcihjbGllbnQsIHsgbWVldGluZ0lkLCB1c2VySWRUb1JlbW92ZSB9KSB7XG4gICAgY29uc3QgbWVldGluZyA9IE1lZXRpbmcuZmluZCh7IGlkOiBtZWV0aW5nSWQgfSlcbiAgICBpZiAoIW1lZXRpbmcpIHJldHVybiBcbiAgICBjb25zdCBuZXdVc2VycyA9IG1lZXRpbmcudXNlcnMuZmlsdGVyKHUgPT4gdS5pZCAhPSB1c2VySWRUb1JlbW92ZSlcbiAgICBtZWV0aW5nLnVzZXJzID0gbmV3VXNlcnNcbiAgICBjb25zdCBuZXdIYXNoID0gZ2VuZXJhdGVIYXNoKG5ld1VzZXJzLm1hcCh1ID0+IHUuaWQpLnNvcnQoKS50b1N0cmluZygpKVxuICAgIG1lZXRpbmcucHJldkhhc2ggPSBtZWV0aW5nLmhhc2hcbiAgICBtZWV0aW5nLmhhc2ggPSBuZXdIYXNoXG4gICAgY29uc3QgdXNlciA9IFVzZXIuZmluZCh7aWQ6IHVzZXJJZFRvUmVtb3ZlIH0pIFxuICAgIGlmKCF1c2VyKSByZXR1cm4gXG4gICAgY29uc3QgbmV3TWVldGluZ3MgPSB1c2VyLm1lZXRpbmdzLmZpbHRlcihtID0+IG0uaWQgIT0gbWVldGluZ0lkKVxuICAgIHVzZXIubWVldGluZ3MgPSBuZXdNZWV0aW5nc1xuICAgIGF3YWl0IE1lZXRpbmdzU2VydmljZS5yZW1vdmVVc2VyKG1lZXRpbmcsIHVzZXIpXG4gICAgY2xpZW50LnJlbW92ZVVzZXJDaGFubmVsKG1lZXRpbmcuY2hhbm5lbCwgdXNlcklkVG9SZW1vdmUpXG4gIH1cblxuXG4gIGFkZFVzZXJCeUlkcyhkYXRhID0gW10pIHtcbiAgICBmb3IoY29uc3QgaWQgb2YgZGF0YSkge1xuICAgICAgY29uc3QgdXNlciA9IHRoaXMudXNlcnMuZmluZCgodSkgPT4gdS5pZCA9PT0gaWQpXG4gICAgICAvLyBjb25zdCB1c2VyID0gdGhpcy5maW5kVXNlcihkYXRhLmlkKVxuICAgICAgaWYgKHVzZXIpIHJldHVyblxuICAgICAgY29uc3QgdGFyZ2V0VXNlciA9IFVzZXIuZmluZCh7aWR9KVxuICAgICAgaWYgKCF0YXJnZXRVc2VyKSByZXR1cm5cbiAgICAgIHRoaXMudXNlcnMucHVzaCh0YXJnZXRVc2VyKVxuICAgICAgdGFyZ2V0VXNlci5hZGRNZWV0aW5nKHRoaXMpXG4gICAgfVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBNZXNzYWdlLmJ5TWVldGluZyh0aGlzKS5mb3JFYWNoKChtKSA9PiBtLmRlc3Ryb3koKSlcbiAgICBpZiAodGhpcy50eXBlID09PSAnUHVibGljJykge1xuICAgICAgdGhpcy51c2Vycy5mb3JFYWNoKCh1KSA9PiB1LnJlbW92ZU1lZXRpbmcodGhpcykpXG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gTWVldGluZy5hbGwuaW5kZXhPZih0aGlzKVxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIE1lZXRpbmcuYWxsLnNwbGljZShpbmRleCwgMSlcbiAgICAgIGNvbnNvbGUubG9nKCdEZXN0cm95IE1lZXRpbmcnLCB0aGlzLmlkKVxuICAgIH1cbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gTWVldGluZ1NlcmlhbGl6ZXIodGhpcylcbiAgfVxuXG4gIHN0YXRpYyBhbGwgPSBbXVxuXG4gIHN0YXRpYyBhZGQoZGF0YSkge1xuICAgIGNvbnN0IG1lZXRpbmcgPSBuZXcgTWVldGluZyhkYXRhKVxuICAgIE1lZXRpbmcuYWxsLnB1c2gobWVldGluZylcbiAgICByZXR1cm4gbWVldGluZ1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGZpbmRPckNyZWF0ZSh7IHRpdGxlLCByb2xlLCB0eXBlIH0pIHtcbiAgICBjb25zdCBtZWV0aW5nID0gTWVldGluZy5maW5kKHsgdGl0bGUsIHR5cGUgfSlcbiAgICBpZiAobWVldGluZykgcmV0dXJuIG1lZXRpbmdcblxuICAgIGxldCBjb25mZXJlbmNlc1xuICAgIGNvbnN0IHsgd2VicGhvbmVTZWNyZXRUb2tlbiB9ID0gY29uZmlnXG4gICAgY29uc3QgcGFyYW1zID0geyBtZWV0aW5nSUQ6IHRpdGxlLCBzZWNyZXRUb2tlbjogd2VicGhvbmVTZWNyZXRUb2tlbiB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KFxuICAgICAgICBgJHtjb25maWcud2VicGhvbmVTZXJ2ZXJ9L2dldE1lZXRpbmdEYXRhYCxcbiAgICAgICAgeyBwYXJhbXMgfVxuICAgICAgKVxuICAgICAgY29uZmVyZW5jZXMgPSByZXNwb25zZS5kYXRhLm1lZXRpbmcuY29uZmVyZW5jZXMuZmlsdGVyKFxuICAgICAgICAoYykgPT4gcm9sZSAhPT0gJ3JlZ3VsYXInIHx8IGMuYWNjZXNzaWJsZVxuICAgICAgKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiBNZWV0aW5nLmFkZCh7IHRpdGxlLCBjb25mZXJlbmNlcyB9KVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGZpbmRPckNyZWF0ZUZvclRlY2huaWNhbFRlYW0oeyB0aXRsZSwgcm9sZSwgdHlwZSB9KSB7XG4gICAgY29uc3QgbWVldGluZyA9IE1lZXRpbmcuZmluZCh7IHRpdGxlLCB0eXBlIH0pXG4gICAgaWYgKG1lZXRpbmcpIHJldHVybiBtZWV0aW5nXG4gXG4gICAgbGV0IGNvbmZlcmVuY2VzXG4gICAgY29uc3QgeyB3ZWJwaG9uZVNlY3JldFRva2VuIH0gPSBjb25maWdcbiAgICBjb25zdCBwYXJhbXMgPSB7IG1lZXRpbmdJRDogdGl0bGUsIHNlY3JldFRva2VuOiB3ZWJwaG9uZVNlY3JldFRva2VuIH1cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoXG4gICAgICAgIGAke2NvbmZpZy53ZWJwaG9uZVNlcnZlcn0vZ2V0TWVldGluZ0RhdGFgLFxuICAgICAgICB7IHBhcmFtcyB9XG4gICAgICApXG4gICAgICBjb25mZXJlbmNlcyA9IHJlc3BvbnNlLmRhdGEubWVldGluZy5jb25mZXJlbmNlcy5maWx0ZXIoXG4gICAgICAgIChjKSA9PiByb2xlICE9PSAncmVndWxhcicgfHwgYy5hY2Nlc3NpYmxlXG4gICAgICApXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgcmV0dXJuIE1lZXRpbmcuYWRkKHsgdGl0bGUsIGNvbmZlcmVuY2VzLCB0eXBlIH0pXG4gIH1cblxuXG4gIHN0YXRpYyBhc3luYyBmaW5kT3JDcmVhdGVGb3JNb2RlcmF0b3JUZWFtKHsgdGl0bGUsIHJvbGUsIHR5cGUgfSkge1xuICAgIGNvbnN0IG1lZXRpbmcgPSBNZWV0aW5nLmZpbmQoeyB0aXRsZSwgdHlwZSB9KVxuICAgIGlmIChtZWV0aW5nKSByZXR1cm4gbWVldGluZ1xuIFxuICAgIGxldCBjb25mZXJlbmNlc1xuICAgIGNvbnN0IHsgd2VicGhvbmVTZWNyZXRUb2tlbiB9ID0gY29uZmlnXG4gICAgY29uc3QgcGFyYW1zID0geyBtZWV0aW5nSUQ6IHRpdGxlLCBzZWNyZXRUb2tlbjogd2VicGhvbmVTZWNyZXRUb2tlbiB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KFxuICAgICAgICBgJHtjb25maWcud2VicGhvbmVTZXJ2ZXJ9L2dldE1lZXRpbmdEYXRhYCxcbiAgICAgICAgeyBwYXJhbXMgfVxuICAgICAgKVxuICAgICAgY29uZmVyZW5jZXMgPSByZXNwb25zZS5kYXRhLm1lZXRpbmcuY29uZmVyZW5jZXMuZmlsdGVyKFxuICAgICAgICAoYykgPT4gcm9sZSAhPT0gJ3JlZ3VsYXInIHx8IGMuYWNjZXNzaWJsZVxuICAgICAgKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiBNZWV0aW5nLmFkZCh7IHRpdGxlLCBjb25mZXJlbmNlcywgdHlwZSB9KVxuICB9XG4gIFxuICBzdGF0aWMgYXN5bmMgZmluZE9yQ3JlYXRlRm9yTW9kZXJhdG9yVGVhbVNhbWVDYWJpbih7IHRpdGxlLCByb2xlLCB0eXBlLCBzcGVha1Jvb21JZCwgaGVhclJvb21JZCB9KSB7XG4gICAgY29uc3QgY2FiaW5Db2RlID0gW3NwZWFrUm9vbUlkLCBoZWFyUm9vbUlkXS5tYXAoaWQgPT4gcGFyc2VJbnQoaWQpKS5zb3J0KCkuam9pbignLCcpXG4gICAgY29uc3QgbWVldGluZyA9IE1lZXRpbmcuZmluZCh7IHRpdGxlLCB0eXBlLCBjYWJpbkNvZGUgfSlcbiAgICBpZiAobWVldGluZykgcmV0dXJuIG1lZXRpbmdcbiBcbiAgICBsZXQgY29uZmVyZW5jZXNcbiAgICBjb25zdCB7IHdlYnBob25lU2VjcmV0VG9rZW4gfSA9IGNvbmZpZ1xuICAgIGNvbnN0IHBhcmFtcyA9IHsgbWVldGluZ0lEOiB0aXRsZSwgc2VjcmV0VG9rZW46IHdlYnBob25lU2VjcmV0VG9rZW4gfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChcbiAgICAgICAgYCR7Y29uZmlnLndlYnBob25lU2VydmVyfS9nZXRNZWV0aW5nRGF0YWAsXG4gICAgICAgIHsgcGFyYW1zIH1cbiAgICAgIClcbiAgICAgIGNvbmZlcmVuY2VzID0gcmVzcG9uc2UuZGF0YS5tZWV0aW5nLmNvbmZlcmVuY2VzLmZpbHRlcihcbiAgICAgICAgKGMpID0+IHJvbGUgIT09ICdyZWd1bGFyJyB8fCBjLmFjY2Vzc2libGVcbiAgICAgIClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gTWVldGluZy5hZGQoeyB0aXRsZSwgY29uZmVyZW5jZXMsIHR5cGUsIGNhYmluQ29kZSB9KVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGFkZE5ldyhcbiAgICBjbGllbnQsXG4gICAgeyB0aXRsZSwgcm9sZSwgY3JlYXRlZEJ5SWQsIHVzZXJJbnZpdGVkSWQsIG1lZXRpbmdUeXBlLCBtZWV0aW5nSGFzaCwgbmV3VXNlcnMgfVxuICApIHtcbiAgICBjb25zdCBhbGxVc2Vyc0luTmV3TWVldGluZyA9IFsuLi51c2VySW52aXRlZElkLCBjcmVhdGVkQnlJZF0uZmlsdGVyKHVzZXJJZCA9PiBVc2VyLmFsbC5maW5kSW5kZXgodSA9PiB1LmlkID09PSB1c2VySWQpID4gLTEpXG4gICAgaWYgKGFsbFVzZXJzSW5OZXdNZWV0aW5nLmxlbmd0aCA8IDIpIHJldHVyblxuICAgIGNvbnN0IHVJZHMgPSBbLi4uYWxsVXNlcnNJbk5ld01lZXRpbmddXG4gICAgY29uc3QgaGFzaCA9IGdlbmVyYXRlSGFzaCh1SWRzLnNvcnQoKS50b1N0cmluZygpKVxuICAgIGNvbnN0IG5ld1RpdGxlID0gdUlkcy5zb3J0KCkuam9pbignLCcpXG4gICAgY29uc3QgbWVldGluZyA9IE1lZXRpbmcuZmluZCh7IGhhc2gsIHR5cGU6IG1lZXRpbmdUeXBlID8gbWVldGluZ1R5cGUgOiB0eXBlQ2hlY2soYWxsVXNlcnNJbk5ld01lZXRpbmcpIH0pXG4gICAgaWYgKG1lZXRpbmcpIHJldHVybiBtZWV0aW5nXG5cbiAgICBsZXQgY29uZmVyZW5jZXNcbiAgICBjb25zdCB7IHdlYnBob25lU2VjcmV0VG9rZW4gfSA9IGNvbmZpZ1xuICAgIGNvbnN0IHBhcmFtcyA9IHsgbWVldGluZ0lEOiB0aXRsZSwgc2VjcmV0VG9rZW46IHdlYnBob25lU2VjcmV0VG9rZW4gfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChcbiAgICAgICAgYCR7Y29uZmlnLndlYnBob25lU2VydmVyfS9nZXRNZWV0aW5nRGF0YWAsXG4gICAgICAgIHsgcGFyYW1zIH1cbiAgICAgIClcbiAgICAgIGNvbmZlcmVuY2VzID0gcmVzcG9uc2UuZGF0YS5tZWV0aW5nLmNvbmZlcmVuY2VzLmZpbHRlcihcbiAgICAgICAgKGMpID0+IHJvbGUgIT09ICdyZWd1bGFyJyB8fCBjLmFjY2Vzc2libGVcbiAgICAgIClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBpZiAobWVldGluZ1R5cGUgIT09ICdHcm91cCcpIHtcbiAgICAgIGNvbnN0IGNyZWF0ZWRCeVVzZXIgPSBVc2VyLmZpbmQoeyBpZCA6IGNyZWF0ZWRCeUlkIH0pXG4gICAgICBjb25zdCB1c2VyQ2xvbmUgPSBfLmNsb25lRGVlcChjcmVhdGVkQnlVc2VyKVxuICAgICAgY29uc3QgbmV3TWVldGluZyA9IE1lZXRpbmcuYWRkKHtcbiAgICAgICAgdGl0bGU6IG5ld1RpdGxlLFxuICAgICAgICBjb25mZXJlbmNlcyxcbiAgICAgICAgaGFzaCxcbiAgICAgICAgdHlwZTpcbiAgICAgICAgICBtZWV0aW5nVHlwZSA9PSAnVGVjaG5pY2FsJ1xuICAgICAgICAgICAgPyAnVGVjaG5pY2FsJ1xuICAgICAgICAgICAgOiB0eXBlQ2hlY2soYWxsVXNlcnNJbk5ld01lZXRpbmcpLFxuICAgICAgICBjcmVhdGVkQnk6IHVzZXJDbG9uZVxuICAgICAgfSlcbiAgICAgIGNsaWVudC5hZGRDaGFubmVsV2hlbkNyZWF0ZU5ld01lZXRpbmcoXG4gICAgICAgIG5ld01lZXRpbmcuY2hhbm5lbCxcbiAgICAgICAgYWxsVXNlcnNJbk5ld01lZXRpbmdcbiAgICAgIClcbiAgICAgIG5ld01lZXRpbmcuYWRkVXNlckJ5SWRzKGFsbFVzZXJzSW5OZXdNZWV0aW5nKVxuICAgICAgTWVldGluZ3NTZXJ2aWNlLmFkZChuZXdNZWV0aW5nKVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbWVldGluZyA9IE1lZXRpbmcuZmluZCh7IGhhc2g6IG1lZXRpbmdIYXNoIH0pXG4gICAgICBpZiAoIW1lZXRpbmcpIHtcbiAgICAgICAgbWVldGluZyA9IE1lZXRpbmcuZmluZCh7IHByZXZIYXNoOiBtZWV0aW5nSGFzaCB9KVxuICAgICAgfVxuICAgICAgaWYgKCFtZWV0aW5nKSByZXR1cm5cbiAgICAgIG1lZXRpbmcuaGFzaCA9IGhhc2hcbiAgICAgIG1lZXRpbmcucHJldkhhc2ggPSBudWxsXG4gICAgICBtZWV0aW5nLnRpdGxlID0gbmV3VGl0bGVcbiAgICAgIGNsaWVudC5hZGRDaGFubmVsV2hlbkNyZWF0ZU5ld01lZXRpbmcoXG4gICAgICAgIG1lZXRpbmcuY2hhbm5lbCxcbiAgICAgICAgYWxsVXNlcnNJbk5ld01lZXRpbmdcbiAgICAgIClcbiAgICAgIG1lZXRpbmcuYWRkVXNlckJ5SWRzKGFsbFVzZXJzSW5OZXdNZWV0aW5nKVxuICAgICAgTWVldGluZ3NTZXJ2aWNlLmFkZChtZWV0aW5nKVxuICAgICAgTWVldGluZ3NTZXJ2aWNlLm1lc3NhZ2VzQ2hhbmdlVG9OZXdVc2VyKG1lZXRpbmcsIG5ld1VzZXJzKVxuICAgIH1cbiAgfVxuXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "meeting.js"
      ],
      "names": [
        "id",
        "typeCheck",
        "arr",
        "length",
        "Meeting",
        "Record",
        "constructor",
        "data",
        "title",
        "conferences",
        "channel",
        "Math",
        "random",
        "toString",
        "substr",
        "users",
        "hash",
        "prevHash",
        "type",
        "createdBy",
        "cabinCode",
        "findUser",
        "userId",
        "find",
        "u",
        "addUser",
        "user",
        "push",
        "removeUser",
        "client",
        "meetingId",
        "userIdToRemove",
        "meeting",
        "newUsers",
        "filter",
        "newHash",
        "map",
        "sort",
        "User",
        "newMeetings",
        "meetings",
        "m",
        "MeetingsService",
        "removeUserChannel",
        "addUserByIds",
        "targetUser",
        "addMeeting",
        "destroy",
        "Message",
        "byMeeting",
        "forEach",
        "removeMeeting",
        "index",
        "all",
        "indexOf",
        "splice",
        "console",
        "log",
        "toJSON",
        "add",
        "findOrCreate",
        "role",
        "webphoneSecretToken",
        "config",
        "params",
        "meetingID",
        "secretToken",
        "response",
        "axios",
        "get",
        "webphoneServer",
        "c",
        "accessible",
        "error",
        "findOrCreateForTechnicalTeam",
        "findOrCreateForModeratorTeam",
        "findOrCreateForModeratorTeamSameCabin",
        "speakRoomId",
        "hearRoomId",
        "parseInt",
        "join",
        "addNew",
        "createdById",
        "userInvitedId",
        "meetingType",
        "meetingHash",
        "allUsersInNewMeeting",
        "findIndex",
        "uIds",
        "newTitle",
        "createdByUser",
        "userClone",
        "_",
        "cloneDeep",
        "newMeeting",
        "addChannelWhenCreateNewMeeting",
        "messagesChangeToNewUser"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/",
      "sourcesContent": [
        "import _ from 'lodash'\nimport axios from 'axios'\nimport Record from './record'\nimport Message from './message'\nimport { MeetingSerializer } from '../serializers'\nimport { MeetingsService } from '../services'\nimport config from '../../config'\nimport User from './user'\nimport { generateHash } from '../helpers'\n\nlet id = 0\n\nconst typeCheck = (arr = []) => {\n  switch (true) {\n    case arr.length == 2:\n      return 'Private'\n    case arr.length > 2:\n      return 'Group'\n    default:\n      return 'Public'\n  }\n}\n\nexport default class Meeting extends Record {\n  constructor(data) {\n    super()\n    this.id = ++id\n    this.title = data.title\n    this.conferences = data.conferences || []\n    this.channel = Math.random().toString(36).substr(2)\n    this.users = []\n    this.hash = data.hash || null\n    this.prevHash = null\n    this.type = data.type || 'Public'\n    this.createdBy = data.createdBy || null\n    this.cabinCode = data.cabinCode || null\n  }\n\n  findUser(userId) {\n    return this.users.find((u) => u.id === userId)\n  }\n\n  addUser(data = {}) {\n    if (typeof data.id === 'undefined') return \n    const user = this.findUser(data.id)\n    if (user) return\n    this.users.push(data)\n  }\n\n  static async removeUser(client, { meetingId, userIdToRemove }) {\n    const meeting = Meeting.find({ id: meetingId })\n    if (!meeting) return \n    const newUsers = meeting.users.filter(u => u.id != userIdToRemove)\n    meeting.users = newUsers\n    const newHash = generateHash(newUsers.map(u => u.id).sort().toString())\n    meeting.prevHash = meeting.hash\n    meeting.hash = newHash\n    const user = User.find({id: userIdToRemove }) \n    if(!user) return \n    const newMeetings = user.meetings.filter(m => m.id != meetingId)\n    user.meetings = newMeetings\n    await MeetingsService.removeUser(meeting, user)\n    client.removeUserChannel(meeting.channel, userIdToRemove)\n  }\n\n\n  addUserByIds(data = []) {\n    for(const id of data) {\n      const user = this.users.find((u) => u.id === id)\n      // const user = this.findUser(data.id)\n      if (user) return\n      const targetUser = User.find({id})\n      if (!targetUser) return\n      this.users.push(targetUser)\n      targetUser.addMeeting(this)\n    }\n  }\n\n  destroy() {\n    Message.byMeeting(this).forEach((m) => m.destroy())\n    if (this.type === 'Public') {\n      this.users.forEach((u) => u.removeMeeting(this))\n    }\n    const index = Meeting.all.indexOf(this)\n    if (index !== -1) {\n      Meeting.all.splice(index, 1)\n      console.log('Destroy Meeting', this.id)\n    }\n  }\n\n  toJSON() {\n    return MeetingSerializer(this)\n  }\n\n  static all = []\n\n  static add(data) {\n    const meeting = new Meeting(data)\n    Meeting.all.push(meeting)\n    return meeting\n  }\n\n  static async findOrCreate({ title, role, type }) {\n    const meeting = Meeting.find({ title, type })\n    if (meeting) return meeting\n\n    let conferences\n    const { webphoneSecretToken } = config\n    const params = { meetingID: title, secretToken: webphoneSecretToken }\n    try {\n      const response = await axios.get(\n        `${config.webphoneServer}/getMeetingData`,\n        { params }\n      )\n      conferences = response.data.meeting.conferences.filter(\n        (c) => role !== 'regular' || c.accessible\n      )\n    } catch (error) {\n      return null\n    }\n\n    return Meeting.add({ title, conferences })\n  }\n\n  static async findOrCreateForTechnicalTeam({ title, role, type }) {\n    const meeting = Meeting.find({ title, type })\n    if (meeting) return meeting\n \n    let conferences\n    const { webphoneSecretToken } = config\n    const params = { meetingID: title, secretToken: webphoneSecretToken }\n    try {\n      const response = await axios.get(\n        `${config.webphoneServer}/getMeetingData`,\n        { params }\n      )\n      conferences = response.data.meeting.conferences.filter(\n        (c) => role !== 'regular' || c.accessible\n      )\n    } catch (error) {\n      return null\n    }\n\n    return Meeting.add({ title, conferences, type })\n  }\n\n\n  static async findOrCreateForModeratorTeam({ title, role, type }) {\n    const meeting = Meeting.find({ title, type })\n    if (meeting) return meeting\n \n    let conferences\n    const { webphoneSecretToken } = config\n    const params = { meetingID: title, secretToken: webphoneSecretToken }\n    try {\n      const response = await axios.get(\n        `${config.webphoneServer}/getMeetingData`,\n        { params }\n      )\n      conferences = response.data.meeting.conferences.filter(\n        (c) => role !== 'regular' || c.accessible\n      )\n    } catch (error) {\n      return null\n    }\n\n    return Meeting.add({ title, conferences, type })\n  }\n  \n  static async findOrCreateForModeratorTeamSameCabin({ title, role, type, speakRoomId, hearRoomId }) {\n    const cabinCode = [speakRoomId, hearRoomId].map(id => parseInt(id)).sort().join(',')\n    const meeting = Meeting.find({ title, type, cabinCode })\n    if (meeting) return meeting\n \n    let conferences\n    const { webphoneSecretToken } = config\n    const params = { meetingID: title, secretToken: webphoneSecretToken }\n    try {\n      const response = await axios.get(\n        `${config.webphoneServer}/getMeetingData`,\n        { params }\n      )\n      conferences = response.data.meeting.conferences.filter(\n        (c) => role !== 'regular' || c.accessible\n      )\n    } catch (error) {\n      return null\n    }\n\n    return Meeting.add({ title, conferences, type, cabinCode })\n  }\n\n  static async addNew(\n    client,\n    { title, role, createdById, userInvitedId, meetingType, meetingHash, newUsers }\n  ) {\n    const allUsersInNewMeeting = [...userInvitedId, createdById].filter(userId => User.all.findIndex(u => u.id === userId) > -1)\n    if (allUsersInNewMeeting.length < 2) return\n    const uIds = [...allUsersInNewMeeting]\n    const hash = generateHash(uIds.sort().toString())\n    const newTitle = uIds.sort().join(',')\n    const meeting = Meeting.find({ hash, type: meetingType ? meetingType : typeCheck(allUsersInNewMeeting) })\n    if (meeting) return meeting\n\n    let conferences\n    const { webphoneSecretToken } = config\n    const params = { meetingID: title, secretToken: webphoneSecretToken }\n    try {\n      const response = await axios.get(\n        `${config.webphoneServer}/getMeetingData`,\n        { params }\n      )\n      conferences = response.data.meeting.conferences.filter(\n        (c) => role !== 'regular' || c.accessible\n      )\n    } catch (error) {\n      return null\n    }\n\n    if (meetingType !== 'Group') {\n      const createdByUser = User.find({ id : createdById })\n      const userClone = _.cloneDeep(createdByUser)\n      const newMeeting = Meeting.add({\n        title: newTitle,\n        conferences,\n        hash,\n        type:\n          meetingType == 'Technical'\n            ? 'Technical'\n            : typeCheck(allUsersInNewMeeting),\n        createdBy: userClone\n      })\n      client.addChannelWhenCreateNewMeeting(\n        newMeeting.channel,\n        allUsersInNewMeeting\n      )\n      newMeeting.addUserByIds(allUsersInNewMeeting)\n      MeetingsService.add(newMeeting)\n    } else {\n      let meeting = Meeting.find({ hash: meetingHash })\n      if (!meeting) {\n        meeting = Meeting.find({ prevHash: meetingHash })\n      }\n      if (!meeting) return\n      meeting.hash = hash\n      meeting.prevHash = null\n      meeting.title = newTitle\n      client.addChannelWhenCreateNewMeeting(\n        meeting.channel,\n        allUsersInNewMeeting\n      )\n      meeting.addUserByIds(allUsersInNewMeeting)\n      MeetingsService.add(meeting)\n      MeetingsService.messagesChangeToNewUser(meeting, newUsers)\n    }\n  }\n\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/models/record.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/record.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/record.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/record.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/",
        "sourceFileName": "record.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass Record {\n  constructor() {\n    _defineProperty(this, \"update\", data => {\n      Object.keys(this).forEach(prop => {\n        if (!data.hasOwnProperty(prop)) return;\n        this[prop] = JSON.parse(JSON.stringify(data[prop]));\n      });\n      this.onUpdate();\n    });\n  }\n\n  onUpdate() {// overwrite in child class\n  }\n\n  static find(data) {\n    if (!data) return;\n\n    if (data instanceof Object) {\n      let equal;\n      return this.all.find(instance => {\n        equal = true; // eslint-disable-next-line no-restricted-syntax\n\n        for (const key of Object.keys(data)) {\n          if (data[key] !== instance[key]) {\n            equal = false;\n            break;\n          }\n        }\n\n        return equal;\n      });\n    }\n\n    return this.all.find(record => record.id === data);\n  }\n\n}\n\nexports.default = Record;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY29yZC5qcyJdLCJuYW1lcyI6WyJSZWNvcmQiLCJkYXRhIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJvblVwZGF0ZSIsImZpbmQiLCJlcXVhbCIsImFsbCIsImluc3RhbmNlIiwia2V5IiwicmVjb3JkIiwiaWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFlLE1BQU1BLE1BQU4sQ0FBYTtBQUFBO0FBQUEsb0NBQ2hCQyxJQUFELElBQVU7QUFDakJDLE1BQUFBLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZLElBQVosRUFBa0JDLE9BQWxCLENBQTJCQyxJQUFELElBQVU7QUFDbEMsWUFBSSxDQUFDSixJQUFJLENBQUNLLGNBQUwsQ0FBb0JELElBQXBCLENBQUwsRUFBZ0M7QUFDaEMsYUFBS0EsSUFBTCxJQUFhRSxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDRSxTQUFMLENBQWVSLElBQUksQ0FBQ0ksSUFBRCxDQUFuQixDQUFYLENBQWI7QUFDRCxPQUhEO0FBSUEsV0FBS0ssUUFBTDtBQUNELEtBUHlCO0FBQUE7O0FBUzFCQSxFQUFBQSxRQUFRLEdBQUcsQ0FDVDtBQUNEOztBQUVVLFNBQUpDLElBQUksQ0FBQ1YsSUFBRCxFQUFPO0FBQ2hCLFFBQUksQ0FBQ0EsSUFBTCxFQUFXOztBQUNYLFFBQUlBLElBQUksWUFBWUMsTUFBcEIsRUFBNEI7QUFDMUIsVUFBSVUsS0FBSjtBQUNBLGFBQU8sS0FBS0MsR0FBTCxDQUFTRixJQUFULENBQWVHLFFBQUQsSUFBYztBQUNqQ0YsUUFBQUEsS0FBSyxHQUFHLElBQVIsQ0FEaUMsQ0FFakM7O0FBQ0EsYUFBSyxNQUFNRyxHQUFYLElBQWtCYixNQUFNLENBQUNDLElBQVAsQ0FBWUYsSUFBWixDQUFsQixFQUFxQztBQUNuQyxjQUFJQSxJQUFJLENBQUNjLEdBQUQsQ0FBSixLQUFjRCxRQUFRLENBQUNDLEdBQUQsQ0FBMUIsRUFBaUM7QUFDL0JILFlBQUFBLEtBQUssR0FBRyxLQUFSO0FBQ0E7QUFDRDtBQUNGOztBQUNELGVBQU9BLEtBQVA7QUFDRCxPQVZNLENBQVA7QUFXRDs7QUFDRCxXQUFPLEtBQUtDLEdBQUwsQ0FBU0YsSUFBVCxDQUFjSyxNQUFNLElBQUlBLE1BQU0sQ0FBQ0MsRUFBUCxLQUFjaEIsSUFBdEMsQ0FBUDtBQUNEOztBQTlCeUIiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvdGV4dGNoYXQtbm9kZS9zcmMvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlY29yZCB7XG4gIHVwZGF0ZSA9IChkYXRhKSA9PiB7XG4gICAgT2JqZWN0LmtleXModGhpcykuZm9yRWFjaCgocHJvcCkgPT4ge1xuICAgICAgaWYgKCFkYXRhLmhhc093blByb3BlcnR5KHByb3ApKSByZXR1cm5cbiAgICAgIHRoaXNbcHJvcF0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGFbcHJvcF0pKVxuICAgIH0pXG4gICAgdGhpcy5vblVwZGF0ZSgpXG4gIH07XG5cbiAgb25VcGRhdGUoKSB7XG4gICAgLy8gb3ZlcndyaXRlIGluIGNoaWxkIGNsYXNzXG4gIH1cblxuICBzdGF0aWMgZmluZChkYXRhKSB7XG4gICAgaWYgKCFkYXRhKSByZXR1cm5cbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgbGV0IGVxdWFsXG4gICAgICByZXR1cm4gdGhpcy5hbGwuZmluZCgoaW5zdGFuY2UpID0+IHtcbiAgICAgICAgZXF1YWwgPSB0cnVlXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhkYXRhKSkge1xuICAgICAgICAgIGlmIChkYXRhW2tleV0gIT09IGluc3RhbmNlW2tleV0pIHtcbiAgICAgICAgICAgIGVxdWFsID0gZmFsc2VcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcXVhbFxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYWxsLmZpbmQocmVjb3JkID0+IHJlY29yZC5pZCA9PT0gZGF0YSlcbiAgfVxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "record.js"
      ],
      "names": [
        "Record",
        "data",
        "Object",
        "keys",
        "forEach",
        "prop",
        "hasOwnProperty",
        "JSON",
        "parse",
        "stringify",
        "onUpdate",
        "find",
        "equal",
        "all",
        "instance",
        "key",
        "record",
        "id"
      ],
      "mappings": ";;;;;;;;;AAAe,MAAMA,MAAN,CAAa;AAAA;AAAA,oCAChBC,IAAD,IAAU;AACjBC,MAAAA,MAAM,CAACC,IAAP,CAAY,IAAZ,EAAkBC,OAAlB,CAA2BC,IAAD,IAAU;AAClC,YAAI,CAACJ,IAAI,CAACK,cAAL,CAAoBD,IAApB,CAAL,EAAgC;AAChC,aAAKA,IAAL,IAAaE,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeR,IAAI,CAACI,IAAD,CAAnB,CAAX,CAAb;AACD,OAHD;AAIA,WAAKK,QAAL;AACD,KAPyB;AAAA;;AAS1BA,EAAAA,QAAQ,GAAG,CACT;AACD;;AAEU,SAAJC,IAAI,CAACV,IAAD,EAAO;AAChB,QAAI,CAACA,IAAL,EAAW;;AACX,QAAIA,IAAI,YAAYC,MAApB,EAA4B;AAC1B,UAAIU,KAAJ;AACA,aAAO,KAAKC,GAAL,CAASF,IAAT,CAAeG,QAAD,IAAc;AACjCF,QAAAA,KAAK,GAAG,IAAR,CADiC,CAEjC;;AACA,aAAK,MAAMG,GAAX,IAAkBb,MAAM,CAACC,IAAP,CAAYF,IAAZ,CAAlB,EAAqC;AACnC,cAAIA,IAAI,CAACc,GAAD,CAAJ,KAAcD,QAAQ,CAACC,GAAD,CAA1B,EAAiC;AAC/BH,YAAAA,KAAK,GAAG,KAAR;AACA;AACD;AACF;;AACD,eAAOA,KAAP;AACD,OAVM,CAAP;AAWD;;AACD,WAAO,KAAKC,GAAL,CAASF,IAAT,CAAcK,MAAM,IAAIA,MAAM,CAACC,EAAP,KAAchB,IAAtC,CAAP;AACD;;AA9ByB",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/",
      "sourcesContent": [
        "export default class Record {\n  update = (data) => {\n    Object.keys(this).forEach((prop) => {\n      if (!data.hasOwnProperty(prop)) return\n      this[prop] = JSON.parse(JSON.stringify(data[prop]))\n    })\n    this.onUpdate()\n  };\n\n  onUpdate() {\n    // overwrite in child class\n  }\n\n  static find(data) {\n    if (!data) return\n    if (data instanceof Object) {\n      let equal\n      return this.all.find((instance) => {\n        equal = true\n        // eslint-disable-next-line no-restricted-syntax\n        for (const key of Object.keys(data)) {\n          if (data[key] !== instance[key]) {\n            equal = false\n            break\n          }\n        }\n        return equal\n      })\n    }\n    return this.all.find(record => record.id === data)\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/models/message.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/message.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/message.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/message.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/",
        "sourceFileName": "message.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _helpers = require(\"../helpers\");\n\nvar _record = _interopRequireDefault(require(\"./record\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _meeting = _interopRequireDefault(require(\"./meeting\"));\n\nvar _serializers = require(\"../serializers\");\n\nvar _services = require(\"../services\");\n\nvar _config = _interopRequireDefault(require(\"../../config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// TODO move to redis\nlet id = 0;\n\nclass Message extends _record.default {\n  constructor(data) {\n    super(data);\n    this.id = ++id;\n    this.lang = data.lang;\n    this.user = _user.default.find(data.userId);\n    this.meeting = _meeting.default.find(data.meetingId);\n    this.text = {\n      [data.lang]: data.text,\n      toString: () => this.originalText()\n    };\n    this.file = data.file;\n    this.createdAt = +new Date();\n  }\n\n  originalText() {\n    return this.text[this.lang];\n  }\n\n  destroy() {\n    const index = Message.all.indexOf(this);\n\n    if (index !== -1) {\n      Message.all.splice(index, 1);\n      console.log('Destroy Message', this.id);\n    }\n  }\n\n  toJSON() {\n    return (0, _serializers.MessageSerializer)(this);\n  }\n\n  static async add(client, data) {\n    const message = new Message(data);\n    const languageConfigs = client.getDeepLSupports(message.user.id);\n    await Message.translate(message, languageConfigs);\n    Message.all.push(message);\n\n    _services.MessagesService.add(message);\n  }\n\n  static async translate(message, languageConfigs) {\n    const {\n      deepLSupports,\n      languagesConfig\n    } = languageConfigs;\n    const original = message.originalText();\n\n    const requests = () => languagesConfig.split(',').filter(lang => lang && lang !== message.lang).map(lang => {\n      const callback = data => {\n        const {\n          text\n        } = data.translations[0];\n        message.text = { ...message.text,\n          [lang]: text\n        };\n      };\n\n      return Message.deepl(original, message.lang, lang, callback, deepLSupports);\n    });\n\n    return Promise.all(requests());\n  }\n\n  static async deepl(text, source, target, callback = null, deepLSupports) {\n    const finalSource = deepLSupports.findIndex(l => l.language == source) > -1 ? source : 'EN';\n    const finalTarget = deepLSupports.findIndex(l => l.language == target) > -1 ? target : 'EN';\n    const url = `${_config.default.apiUrl}?text=${encodeURIComponent(text)}&source_lang=${finalSource}&target_lang=${finalTarget}&auth_key=${_config.default.authKey}`;\n\n    try {\n      const response = await _axios.default.get(url);\n      if (callback) callback(response.data);\n      return response;\n    } catch (error) {\n      return null;\n    }\n  }\n\n  static byMeeting(meeting) {\n    const meetingId = (0, _helpers.getId)(meeting);\n    return Message.all.filter(m => {\n      if (typeof m.meeting === 'undefined') return;\n      return m.meeting.id === meetingId;\n    });\n  }\n\n  static byUserMeeting(user, meeting) {\n    const userId = (0, _helpers.getId)(user);\n    const meetingId = (0, _helpers.getId)(meeting);\n    return Message.all.filter(m => m.user.id === userId && m.meeting.id === meetingId);\n  }\n\n  static removeMessagesByMeeting({\n    meetingId\n  }) {\n    if (!meetingId) return;\n    const newListMessages = Message.all.filter(m => typeof m.meeting != \"undefined\" && m.meeting.id != meetingId);\n    Message.all = newListMessages;\n\n    _services.MessagesService.deleteChatSuccess({\n      meetingId\n    });\n  }\n\n}\n\nexports.default = Message;\n\n_defineProperty(Message, \"all\", []);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2UuanMiXSwibmFtZXMiOlsiaWQiLCJNZXNzYWdlIiwiUmVjb3JkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwibGFuZyIsInVzZXIiLCJVc2VyIiwiZmluZCIsInVzZXJJZCIsIm1lZXRpbmciLCJNZWV0aW5nIiwibWVldGluZ0lkIiwidGV4dCIsInRvU3RyaW5nIiwib3JpZ2luYWxUZXh0IiwiZmlsZSIsImNyZWF0ZWRBdCIsIkRhdGUiLCJkZXN0cm95IiwiaW5kZXgiLCJhbGwiLCJpbmRleE9mIiwic3BsaWNlIiwiY29uc29sZSIsImxvZyIsInRvSlNPTiIsImFkZCIsImNsaWVudCIsIm1lc3NhZ2UiLCJsYW5ndWFnZUNvbmZpZ3MiLCJnZXREZWVwTFN1cHBvcnRzIiwidHJhbnNsYXRlIiwicHVzaCIsIk1lc3NhZ2VzU2VydmljZSIsImRlZXBMU3VwcG9ydHMiLCJsYW5ndWFnZXNDb25maWciLCJvcmlnaW5hbCIsInJlcXVlc3RzIiwic3BsaXQiLCJmaWx0ZXIiLCJtYXAiLCJjYWxsYmFjayIsInRyYW5zbGF0aW9ucyIsImRlZXBsIiwiUHJvbWlzZSIsInNvdXJjZSIsInRhcmdldCIsImZpbmFsU291cmNlIiwiZmluZEluZGV4IiwibCIsImxhbmd1YWdlIiwiZmluYWxUYXJnZXQiLCJ1cmwiLCJjb25maWciLCJhcGlVcmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJhdXRoS2V5IiwicmVzcG9uc2UiLCJheGlvcyIsImdldCIsImVycm9yIiwiYnlNZWV0aW5nIiwibSIsImJ5VXNlck1lZXRpbmciLCJyZW1vdmVNZXNzYWdlc0J5TWVldGluZyIsIm5ld0xpc3RNZXNzYWdlcyIsImRlbGV0ZUNoYXRTdWNjZXNzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVBO0FBRUEsSUFBSUEsRUFBRSxHQUFHLENBQVQ7O0FBRWUsTUFBTUMsT0FBTixTQUFzQkMsZUFBdEIs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QUFDckQsT0FBVCxLQUFxQixXQUF6QixFQUFzQztBQUN2QyxhQUFPcUQsQ0FBQyxDQUFDckQsT0FBRixDQUFVVixFQUFWLEtBQWlCWSxTQUF4QjtBQUNBLEtBSE0sQ0FBUDtBQUlEOztBQUVtQixTQUFib0QsYUFBYSxDQUFDMUQsSUFBRCxFQUFPSSxPQUFQLEVBQWdCO0FBQ2xDLFVBQU1ELE1BQU0sR0FBRyxvQkFBTUgsSUFBTixDQUFmO0FBQ0EsVUFBTU0sU0FBUyxHQUFHLG9CQUFNRixPQUFOLENBQWxCO0FBQ0EsV0FBT1QsT0FBTyxDQUFDb0IsR0FBUixDQUFZbUIsTUFBWixDQUFtQnVCLENBQUMsSUFBSUEsQ0FBQyxDQUFDekQsSUFBRixDQUFPTixFQUFQLEtBQWNTLE1BQWQsSUFBd0JzRCxDQUFDLENBQUNyRCxPQUFGLENBQVVWLEVBQVYsS0FBaUJZLFNBQWpFLENBQVA7QUFDRDs7QUFFNkIsU0FBdkJxRCx1QkFBdUIsQ0FBQztBQUFDckQsSUFBQUE7QUFBRCxHQUFELEVBQWM7QUFDMUMsUUFBSSxDQUFDQSxTQUFMLEVBQWdCO0FBQ2hCLFVBQU1zRCxlQUFlLEdBQUdqRSxPQUFPLENBQUNvQixHQUFSLENBQVltQixNQUFaLENBQW1CdUIsQ0FBQyxJQUFJLE9BQU9BLENBQUMsQ0FBQ3JELE9BQVQsSUFBb0IsV0FBcEIsSUFBbUNxRCxDQUFDLENBQUNyRCxPQUFGLENBQVVWLEVBQVYsSUFBZ0JZLFNBQTNFLENBQXhCO0FBQ0FYLElBQUFBLE9BQU8sQ0FBQ29CLEdBQVIsR0FBYzZDLGVBQWQ7O0FBQ0FoQyw4QkFBZ0JpQyxpQkFBaEIsQ0FBa0M7QUFBQ3ZELE1BQUFBO0FBQUQsS0FBbEM7QUFDRDs7QUExRnlDOzs7O2dCQUF2QlgsTyxTQStCTixFIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3RleHRjaGF0LW5vZGUvc3JjL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnXG5pbXBvcnQgeyBnZXRJZCB9IGZyb20gJy4uL2hlbHBlcnMnXG5pbXBvcnQgUmVjb3JkIGZyb20gJy4vcmVjb3JkJ1xuaW1wb3J0IFVzZXIgZnJvbSAnLi91c2VyJ1xuaW1wb3J0IE1lZXRpbmcgZnJvbSAnLi9tZWV0aW5nJ1xuaW1wb3J0IHsgTWVzc2FnZVNlcmlhbGl6ZXIgfSBmcm9tICcuLi9zZXJpYWxpemVycydcbmltcG9ydCB7IE1lc3NhZ2VzU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi8uLi9jb25maWcnXG5cbi8vIFRPRE8gbW92ZSB0byByZWRpc1xuXG5sZXQgaWQgPSAwXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc3NhZ2UgZXh0ZW5kcyBSZWNvcmQge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgc3VwZXIoZGF0YSlcbiAgICB0aGlzLmlkID0gKytpZFxuICAgIHRoaXMubGFuZyA9IGRhdGEubGFuZ1xuICAgIHRoaXMudXNlciA9IFVzZXIuZmluZChkYXRhLnVzZXJJZClcbiAgICB0aGlzLm1lZXRpbmcgPSBNZWV0aW5nLmZpbmQoZGF0YS5tZWV0aW5nSWQpXG4gICAgdGhpcy50ZXh0ID0ge1xuICAgICAgW2RhdGEubGFuZ106IGRhdGEudGV4dCxcbiAgICAgIHRvU3RyaW5nOiAoKSA9PiB0aGlzLm9yaWdpbmFsVGV4dCgpXG4gICAgfVxuICAgIHRoaXMuZmlsZSA9IGRhdGEuZmlsZVxuICAgIHRoaXMuY3JlYXRlZEF0ID0gK25ldyBEYXRlKClcbiAgfVxuXG4gIG9yaWdpbmFsVGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0W3RoaXMubGFuZ11cbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgY29uc3QgaW5kZXggPSBNZXNzYWdlLmFsbC5pbmRleE9mKHRoaXMpXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgTWVzc2FnZS5hbGwuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgY29uc29sZS5sb2coJ0Rlc3Ryb3kgTWVzc2FnZScsIHRoaXMuaWQpXG4gICAgfVxuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiBNZXNzYWdlU2VyaWFsaXplcih0aGlzKVxuICB9XG5cbiAgc3RhdGljIGFsbCA9IFtdXG5cbiAgc3RhdGljIGFzeW5jIGFkZChjbGllbnQsIGRhdGEpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2UoZGF0YSlcbiAgICBjb25zdCBsYW5ndWFnZUNvbmZpZ3MgPSBjbGllbnQuZ2V0RGVlcExTdXBwb3J0cyhtZXNzYWdlLnVzZXIuaWQpXG4gICAgYXdhaXQgTWVzc2FnZS50cmFuc2xhdGUobWVzc2FnZSwgbGFuZ3VhZ2VDb25maWdzKVxuICAgIE1lc3NhZ2UuYWxsLnB1c2gobWVzc2FnZSlcbiAgICBNZXNzYWdlc1NlcnZpY2UuYWRkKG1lc3NhZ2UpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdHJhbnNsYXRlKG1lc3NhZ2UsIGxhbmd1YWdlQ29uZmlncykge1xuICAgIGNvbnN0IHsgZGVlcExTdXBwb3J0cywgbGFuZ3VhZ2VzQ29uZmlnIH0gPSBsYW5ndWFnZUNvbmZpZ3NcbiAgICBjb25zdCBvcmlnaW5hbCA9IG1lc3NhZ2Uub3JpZ2luYWxUZXh0KClcblxuICAgIGNvbnN0IHJlcXVlc3RzID0gKCkgPT4gbGFuZ3VhZ2VzQ29uZmlnLnNwbGl0KCcsJylcbiAgICAgIC5maWx0ZXIobGFuZyA9PiBsYW5nICYmIGxhbmcgIT09IG1lc3NhZ2UubGFuZylcbiAgICAgIC5tYXAoKGxhbmcpID0+IHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgdGV4dCB9ID0gZGF0YS50cmFuc2xhdGlvbnNbMF1cbiAgICAgICAgICBtZXNzYWdlLnRleHQgPSB7IC4uLm1lc3NhZ2UudGV4dCwgW2xhbmddOiB0ZXh0IH1cbiAgICAgICAgfSBcbiAgICAgICAgcmV0dXJuIE1lc3NhZ2UuZGVlcGwob3JpZ2luYWwsIG1lc3NhZ2UubGFuZywgbGFuZywgY2FsbGJhY2ssIGRlZXBMU3VwcG9ydHMpXG4gICAgICB9KVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHJlcXVlc3RzKCkpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZGVlcGwodGV4dCwgc291cmNlLCB0YXJnZXQsIGNhbGxiYWNrID0gbnVsbCwgZGVlcExTdXBwb3J0cykge1xuICAgIGNvbnN0IGZpbmFsU291cmNlID0gZGVlcExTdXBwb3J0cy5maW5kSW5kZXgobCA9PiBsLmxhbmd1YWdlID09IHNvdXJjZSkgPiAtMSA/IHNvdXJjZSA6ICdFTidcbiAgICBjb25zdCBmaW5hbFRhcmdldCA9IGRlZXBMU3VwcG9ydHMuZmluZEluZGV4KGwgPT4gbC5sYW5ndWFnZSA9PSB0YXJnZXQpID4gLTEgPyB0YXJnZXQgOiAnRU4nXG4gICAgY29uc3QgdXJsID0gYCR7Y29uZmlnLmFwaVVybH0/dGV4dD0ke2VuY29kZVVSSUNvbXBvbmVudCh0ZXh0KX0mc291cmNlX2xhbmc9JHtmaW5hbFNvdXJjZX0mdGFyZ2V0X2xhbmc9JHtmaW5hbFRhcmdldH0mYXV0aF9rZXk9JHtjb25maWcuYXV0aEtleX1gXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KHVybClcbiAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2socmVzcG9uc2UuZGF0YSlcbiAgICAgIHJldHVybiByZXNwb25zZVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBieU1lZXRpbmcobWVldGluZykge1xuICAgIGNvbnN0IG1lZXRpbmdJZCA9IGdldElkKG1lZXRpbmcpXG4gICAgcmV0dXJuIE1lc3NhZ2UuYWxsLmZpbHRlcihtID0+IHtcbiAgICAgIGlmICh0eXBlb2YgbS5tZWV0aW5nID09PSAndW5kZWZpbmVkJykgcmV0dXJuIFxuICAgICByZXR1cm4gbS5tZWV0aW5nLmlkID09PSBtZWV0aW5nSWRcbiAgICB9KVxuICB9XG5cbiAgc3RhdGljIGJ5VXNlck1lZXRpbmcodXNlciwgbWVldGluZykge1xuICAgIGNvbnN0IHVzZXJJZCA9IGdldElkKHVzZXIpXG4gICAgY29uc3QgbWVldGluZ0lkID0gZ2V0SWQobWVldGluZylcbiAgICByZXR1cm4gTWVzc2FnZS5hbGwuZmlsdGVyKG0gPT4gbS51c2VyLmlkID09PSB1c2VySWQgJiYgbS5tZWV0aW5nLmlkID09PSBtZWV0aW5nSWQpXG4gIH1cblxuICBzdGF0aWMgcmVtb3ZlTWVzc2FnZXNCeU1lZXRpbmcoe21lZXRpbmdJZH0pIHtcbiAgICBpZiAoIW1lZXRpbmdJZCkgcmV0dXJuIFxuICAgIGNvbnN0IG5ld0xpc3RNZXNzYWdlcyA9IE1lc3NhZ2UuYWxsLmZpbHRlcihtID0+IHR5cGVvZiBtLm1lZXRpbmcgIT0gXCJ1bmRlZmluZWRcIiAmJiBtLm1lZXRpbmcuaWQgIT0gbWVldGluZ0lkKVxuICAgIE1lc3NhZ2UuYWxsID0gbmV3TGlzdE1lc3NhZ2VzXG4gICAgTWVzc2FnZXNTZXJ2aWNlLmRlbGV0ZUNoYXRTdWNjZXNzKHttZWV0aW5nSWR9KVxuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "message.js"
      ],
      "names": [
        "id",
        "Message",
        "Record",
        "constructor",
        "data",
        "lang",
        "user",
        "User",
        "find",
        "userId",
        "meeting",
        "Meeting",
        "meetingId",
        "text",
        "toString",
        "originalText",
        "file",
        "createdAt",
        "Date",
        "destroy",
        "index",
        "all",
        "indexOf",
        "splice",
        "console",
        "log",
        "toJSON",
        "add",
        "client",
        "message",
        "languageConfigs",
        "getDeepLSupports",
        "translate",
        "push",
        "MessagesService",
        "deepLSupports",
        "languagesConfig",
        "original",
        "requests",
        "split",
        "filter",
        "map",
        "callback",
        "translations",
        "deepl",
        "Promise",
        "source",
        "target",
        "finalSource",
        "findIndex",
        "l",
        "language",
        "finalTarget",
        "url",
        "config",
        "apiUrl",
        "encodeURIComponent",
        "authKey",
        "response",
        "axios",
        "get",
        "error",
        "byMeeting",
        "m",
        "byUserMeeting",
        "removeMessagesByMeeting",
        "newListMessages",
        "deleteChatSuccess"
      ],
      "mappings": "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",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/models/",
      "sourcesContent": [
        "import axios from 'axios'\nimport { getId } from '../helpers'\nimport Record from './record'\nimport User from './user'\nimport Meeting from './meeting'\nimport { MessageSerializer } from '../serializers'\nimport { MessagesService } from '../services'\nimport config from '../../config'\n\n// TODO move to redis\n\nlet id = 0\n\nexport default class Message extends Record {\n  constructor(data) {\n    super(data)\n    this.id = ++id\n    this.lang = data.lang\n    this.user = User.find(data.userId)\n    this.meeting = Meeting.find(data.meetingId)\n    this.text = {\n      [data.lang]: data.text,\n      toString: () => this.originalText()\n    }\n    this.file = data.file\n    this.createdAt = +new Date()\n  }\n\n  originalText() {\n    return this.text[this.lang]\n  }\n\n  destroy() {\n    const index = Message.all.indexOf(this)\n    if (index !== -1) {\n      Message.all.splice(index, 1)\n      console.log('Destroy Message', this.id)\n    }\n  }\n\n  toJSON() {\n    return MessageSerializer(this)\n  }\n\n  static all = []\n\n  static async add(client, data) {\n    const message = new Message(data)\n    const languageConfigs = client.getDeepLSupports(message.user.id)\n    await Message.translate(message, languageConfigs)\n    Message.all.push(message)\n    MessagesService.add(message)\n  }\n\n  static async translate(message, languageConfigs) {\n    const { deepLSupports, languagesConfig } = languageConfigs\n    const original = message.originalText()\n\n    const requests = () => languagesConfig.split(',')\n      .filter(lang => lang && lang !== message.lang)\n      .map((lang) => {\n        const callback = (data) => {\n          const { text } = data.translations[0]\n          message.text = { ...message.text, [lang]: text }\n        } \n        return Message.deepl(original, message.lang, lang, callback, deepLSupports)\n      })\n\n    return Promise.all(requests())\n  }\n\n  static async deepl(text, source, target, callback = null, deepLSupports) {\n    const finalSource = deepLSupports.findIndex(l => l.language == source) > -1 ? source : 'EN'\n    const finalTarget = deepLSupports.findIndex(l => l.language == target) > -1 ? target : 'EN'\n    const url = `${config.apiUrl}?text=${encodeURIComponent(text)}&source_lang=${finalSource}&target_lang=${finalTarget}&auth_key=${config.authKey}`\n    try {\n      const response = await axios.get(url)\n      if (callback) callback(response.data)\n      return response\n    } catch (error) {\n      return null\n    }\n  }\n\n  static byMeeting(meeting) {\n    const meetingId = getId(meeting)\n    return Message.all.filter(m => {\n      if (typeof m.meeting === 'undefined') return \n     return m.meeting.id === meetingId\n    })\n  }\n\n  static byUserMeeting(user, meeting) {\n    const userId = getId(user)\n    const meetingId = getId(meeting)\n    return Message.all.filter(m => m.user.id === userId && m.meeting.id === meetingId)\n  }\n\n  static removeMessagesByMeeting({meetingId}) {\n    if (!meetingId) return \n    const newListMessages = Message.all.filter(m => typeof m.meeting != \"undefined\" && m.meeting.id != meetingId)\n    Message.all = newListMessages\n    MessagesService.deleteChatSuccess({meetingId})\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615706100097
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/helpers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/helpers/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/helpers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/helpers/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/helpers/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/helpers/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/helpers/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _helpers = require(\"./helpers\");\n\nObject.keys(_helpers).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _helpers[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _helpers[key];\n    }\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3RleHRjaGF0LW5vZGUvc3JjL2hlbHBlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9oZWxwZXJzJ1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/helpers/",
      "sourcesContent": [
        "export * from './helpers'\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/helpers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/helpers/helpers.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/helpers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/helpers/helpers.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/helpers/helpers.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/helpers/helpers.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/helpers/",
        "sourceFileName": "helpers.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateHash = exports.getId = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nvar _config = _interopRequireDefault(require(\"../../config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst getId = object => object instanceof Object ? object.id : object;\n\nexports.getId = getId;\n\nconst generateHash = string => _crypto.default.createHmac('sha256', _config.default.secretToken).update(string).digest('hex');\n\nexports.generateHash = generateHash;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbHBlcnMuanMiXSwibmFtZXMiOlsiZ2V0SWQiLCJvYmplY3QiLCJPYmplY3QiLCJpZCIsImdlbmVyYXRlSGFzaCIsInN0cmluZyIsImNyeXB0byIsImNyZWF0ZUhtYWMiLCJjb25maWciLCJzZWNyZXRUb2tlbiIsInVwZGF0ZSIsImRpZ2VzdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRU8sTUFBTUEsS0FBSyxHQUFHQyxNQUFNLElBQUtBLE1BQU0sWUFBWUMsTUFBbEIsR0FBMkJELE1BQU0sQ0FBQ0UsRUFBbEMsR0FBdUNGLE1BQWhFOzs7O0FBQ0EsTUFBTUcsWUFBWSxHQUFHQyxNQUFNLElBQUlDLGdCQUFPQyxVQUFQLENBQWtCLFFBQWxCLEVBQTRCQyxnQkFBT0MsV0FBbkMsRUFBZ0RDLE1BQWhELENBQXVETCxNQUF2RCxFQUErRE0sTUFBL0QsQ0FBc0UsS0FBdEUsQ0FBL0IiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvdGV4dGNoYXQtbm9kZS9zcmMvaGVscGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0bydcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vLi4vY29uZmlnJ1xuXG5leHBvcnQgY29uc3QgZ2V0SWQgPSBvYmplY3QgPT4gKG9iamVjdCBpbnN0YW5jZW9mIE9iamVjdCA/IG9iamVjdC5pZCA6IG9iamVjdClcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUhhc2ggPSBzdHJpbmcgPT4gY3J5cHRvLmNyZWF0ZUhtYWMoJ3NoYTI1NicsIGNvbmZpZy5zZWNyZXRUb2tlbikudXBkYXRlKHN0cmluZykuZGlnZXN0KCdoZXgnKVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "helpers.js"
      ],
      "names": [
        "getId",
        "object",
        "Object",
        "id",
        "generateHash",
        "string",
        "crypto",
        "createHmac",
        "config",
        "secretToken",
        "update",
        "digest"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEO,MAAMA,KAAK,GAAGC,MAAM,IAAKA,MAAM,YAAYC,MAAlB,GAA2BD,MAAM,CAACE,EAAlC,GAAuCF,MAAhE;;;;AACA,MAAMG,YAAY,GAAGC,MAAM,IAAIC,gBAAOC,UAAP,CAAkB,QAAlB,EAA4BC,gBAAOC,WAAnC,EAAgDC,MAAhD,CAAuDL,MAAvD,EAA+DM,MAA/D,CAAsE,KAAtE,CAA/B",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/helpers/",
      "sourcesContent": [
        "import crypto from 'crypto'\nimport config from '../../config'\n\nexport const getId = object => (object instanceof Object ? object.id : object)\nexport const generateHash = string => crypto.createHmac('sha256', config.secretToken).update(string).digest('hex')\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/services/users.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/users.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/users.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/users.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/",
        "sourceFileName": "users.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.disable = exports.load = void 0;\n\nvar _message = _interopRequireDefault(require(\"../models/message\"));\n\nvar _socket = require(\"../socket\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst load = (user, deeplLangsSupport) => {\n  const {\n    meeting\n  } = user;\n\n  const messages = _message.default.byMeeting(meeting);\n\n  _socket.Sender.userChange(user.channel, user);\n\n  _socket.Sender.messagesUpdateUser(meeting.channel, user);\n\n  _socket.Sender.messagesChange(user.channel, messages);\n\n  _socket.Sender.appLoaded(user.channel, deeplLangsSupport);\n};\n\nexports.load = load;\n\nconst disable = (user, channel) => {\n  _socket.Sender.messagesUpdateUser(channel, user);\n};\n\nexports.disable = disable;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbImxvYWQiLCJ1c2VyIiwiZGVlcGxMYW5nc1N1cHBvcnQiLCJtZWV0aW5nIiwibWVzc2FnZXMiLCJNZXNzYWdlIiwiYnlNZWV0aW5nIiwiU2VuZGVyIiwidXNlckNoYW5nZSIsImNoYW5uZWwiLCJtZXNzYWdlc1VwZGF0ZVVzZXIiLCJtZXNzYWdlc0NoYW5nZSIsImFwcExvYWRlZCIsImRpc2FibGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVPLE1BQU1BLElBQUksR0FBRyxDQUFDQyxJQUFELEVBQU9DLGlCQUFQLEtBQTZCO0FBQy9DLFFBQU07QUFBRUMsSUFBQUE7QUFBRixNQUFjRixJQUFwQjs7QUFDQSxRQUFNRyxRQUFRLEdBQUdDLGlCQUFRQyxTQUFSLENBQWtCSCxPQUFsQixDQUFqQjs7QUFDQUksaUJBQU9DLFVBQVAsQ0FBa0JQLElBQUksQ0FBQ1EsT0FBdkIsRUFBZ0NSLElBQWhDOztBQUNBTSxpQkFBT0csa0JBQVAsQ0FBMEJQLE9BQU8sQ0FBQ00sT0FBbEMsRUFBMkNSLElBQTNDOztBQUNBTSxpQkFBT0ksY0FBUCxDQUFzQlYsSUFBSSxDQUFDUSxPQUEzQixFQUFvQ0wsUUFBcEM7O0FBQ0FHLGlCQUFPSyxTQUFQLENBQWlCWCxJQUFJLENBQUNRLE9BQXRCLEVBQStCUCxpQkFBL0I7QUFDRCxDQVBNOzs7O0FBU0EsTUFBTVcsT0FBTyxHQUFHLENBQUNaLElBQUQsRUFBT1EsT0FBUCxLQUFtQjtBQUN4Q0YsaUJBQU9HLGtCQUFQLENBQTBCRCxPQUExQixFQUFtQ1IsSUFBbkM7QUFDRCxDQUZNIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3RleHRjaGF0LW5vZGUvc3JjL3NlcnZpY2VzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNZXNzYWdlIGZyb20gJy4uL21vZGVscy9tZXNzYWdlJ1xuaW1wb3J0IHsgU2VuZGVyIH0gZnJvbSAnLi4vc29ja2V0J1xuXG5leHBvcnQgY29uc3QgbG9hZCA9ICh1c2VyLCBkZWVwbExhbmdzU3VwcG9ydCkgPT4ge1xuICBjb25zdCB7IG1lZXRpbmcgfSA9IHVzZXJcbiAgY29uc3QgbWVzc2FnZXMgPSBNZXNzYWdlLmJ5TWVldGluZyhtZWV0aW5nKVxuICBTZW5kZXIudXNlckNoYW5nZSh1c2VyLmNoYW5uZWwsIHVzZXIpXG4gIFNlbmRlci5tZXNzYWdlc1VwZGF0ZVVzZXIobWVldGluZy5jaGFubmVsLCB1c2VyKVxuICBTZW5kZXIubWVzc2FnZXNDaGFuZ2UodXNlci5jaGFubmVsLCBtZXNzYWdlcylcbiAgU2VuZGVyLmFwcExvYWRlZCh1c2VyLmNoYW5uZWwsIGRlZXBsTGFuZ3NTdXBwb3J0KVxufVxuXG5leHBvcnQgY29uc3QgZGlzYWJsZSA9ICh1c2VyLCBjaGFubmVsKSA9PiB7XG4gIFNlbmRlci5tZXNzYWdlc1VwZGF0ZVVzZXIoY2hhbm5lbCwgdXNlcilcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "load",
        "user",
        "deeplLangsSupport",
        "meeting",
        "messages",
        "Message",
        "byMeeting",
        "Sender",
        "userChange",
        "channel",
        "messagesUpdateUser",
        "messagesChange",
        "appLoaded",
        "disable"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEO,MAAMA,IAAI,GAAG,CAACC,IAAD,EAAOC,iBAAP,KAA6B;AAC/C,QAAM;AAAEC,IAAAA;AAAF,MAAcF,IAApB;;AACA,QAAMG,QAAQ,GAAGC,iBAAQC,SAAR,CAAkBH,OAAlB,CAAjB;;AACAI,iBAAOC,UAAP,CAAkBP,IAAI,CAACQ,OAAvB,EAAgCR,IAAhC;;AACAM,iBAAOG,kBAAP,CAA0BP,OAAO,CAACM,OAAlC,EAA2CR,IAA3C;;AACAM,iBAAOI,cAAP,CAAsBV,IAAI,CAACQ,OAA3B,EAAoCL,QAApC;;AACAG,iBAAOK,SAAP,CAAiBX,IAAI,CAACQ,OAAtB,EAA+BP,iBAA/B;AACD,CAPM;;;;AASA,MAAMW,OAAO,GAAG,CAACZ,IAAD,EAAOQ,OAAP,KAAmB;AACxCF,iBAAOG,kBAAP,CAA0BD,OAA1B,EAAmCR,IAAnC;AACD,CAFM",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/",
      "sourcesContent": [
        "import Message from '../models/message'\nimport { Sender } from '../socket'\n\nexport const load = (user, deeplLangsSupport) => {\n  const { meeting } = user\n  const messages = Message.byMeeting(meeting)\n  Sender.userChange(user.channel, user)\n  Sender.messagesUpdateUser(meeting.channel, user)\n  Sender.messagesChange(user.channel, messages)\n  Sender.appLoaded(user.channel, deeplLangsSupport)\n}\n\nexport const disable = (user, channel) => {\n  Sender.messagesUpdateUser(channel, user)\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/services/meetings.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/meetings.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/meetings.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/meetings.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/",
        "sourceFileName": "meetings.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeUser = exports.messagesChangeToNewUser = exports.add = void 0;\n\nvar _socket = require(\"../socket\");\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nvar _message = _interopRequireDefault(require(\"../models/message\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst add = meeting => {\n  _socket.Sender.meetingsAdd(meeting.channel, meeting);\n};\n\nexports.add = add;\n\nconst messagesChangeToNewUser = (meeting, newUsers) => {\n  const messages = _message.default.byMeeting(meeting);\n\n  for (const userId of newUsers) {\n    const user = _user.default.find({\n      id: userId\n    });\n\n    if (!user) return;\n\n    _socket.Sender.messagesUpdateUser(meeting.channel, user);\n\n    _socket.Sender.messagesChange(user.channel, messages);\n  }\n};\n\nexports.messagesChangeToNewUser = messagesChangeToNewUser;\n\nconst removeUser = (meeting, user) => {\n  _socket.Sender.removeUser(meeting.channel, {\n    meeting,\n    user\n  });\n};\n\nexports.removeUser = removeUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lZXRpbmdzLmpzIl0sIm5hbWVzIjpbImFkZCIsIm1lZXRpbmciLCJTZW5kZXIiLCJtZWV0aW5nc0FkZCIsImNoYW5uZWwiLCJtZXNzYWdlc0NoYW5nZVRvTmV3VXNlciIsIm5ld1VzZXJzIiwibWVzc2FnZXMiLCJNZXNzYWdlIiwiYnlNZWV0aW5nIiwidXNlcklkIiwidXNlciIsIlVzZXIiLCJmaW5kIiwiaWQiLCJtZXNzYWdlc1VwZGF0ZVVzZXIiLCJtZXNzYWdlc0NoYW5nZSIsInJlbW92ZVVzZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVPLE1BQU1BLEdBQUcsR0FBSUMsT0FBRCxJQUFhO0FBQzlCQyxpQkFBT0MsV0FBUCxDQUFtQkYsT0FBTyxDQUFDRyxPQUEzQixFQUFvQ0gsT0FBcEM7QUFDRCxDQUZNOzs7O0FBSUEsTUFBTUksdUJBQXVCLEdBQUcsQ0FBQ0osT0FBRCxFQUFVSyxRQUFWLEtBQXVCO0FBQzVELFFBQU1DLFFBQVEsR0FBR0MsaUJBQVFDLFNBQVIsQ0FBa0JSLE9BQWxCLENBQWpCOztBQUNBLE9BQUssTUFBTVMsTUFBWCxJQUFxQkosUUFBckIsRUFBZ0M7QUFDOUIsVUFBTUssSUFBSSxHQUFHQyxjQUFLQyxJQUFMLENBQVU7QUFBRUMsTUFBQUEsRUFBRSxFQUFFSjtBQUFOLEtBQVYsQ0FBYjs7QUFDQSxRQUFHLENBQUNDLElBQUosRUFBVTs7QUFDVlQsbUJBQU9hLGtCQUFQLENBQTBCZCxPQUFPLENBQUNHLE9BQWxDLEVBQTJDTyxJQUEzQzs7QUFDQVQsbUJBQU9jLGNBQVAsQ0FBc0JMLElBQUksQ0FBQ1AsT0FBM0IsRUFBb0NHLFFBQXBDO0FBQ0Q7QUFDRixDQVJNOzs7O0FBVUEsTUFBTVUsVUFBVSxHQUFHLENBQUNoQixPQUFELEVBQVVVLElBQVYsS0FBbUI7QUFDM0NULGlCQUFPZSxVQUFQLENBQWtCaEIsT0FBTyxDQUFDRyxPQUExQixFQUFtQztBQUFDSCxJQUFBQSxPQUFEO0FBQVVVLElBQUFBO0FBQVYsR0FBbkM7QUFDRCxDQUZNIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3RleHRjaGF0LW5vZGUvc3JjL3NlcnZpY2VzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlbmRlciB9IGZyb20gJy4uL3NvY2tldCdcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVscy91c2VyJ1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi4vbW9kZWxzL21lc3NhZ2UnXG5cbmV4cG9ydCBjb25zdCBhZGQgPSAobWVldGluZykgPT4ge1xuICBTZW5kZXIubWVldGluZ3NBZGQobWVldGluZy5jaGFubmVsLCBtZWV0aW5nKVxufVxuXG5leHBvcnQgY29uc3QgbWVzc2FnZXNDaGFuZ2VUb05ld1VzZXIgPSAobWVldGluZywgbmV3VXNlcnMpID0+IHtcbiAgY29uc3QgbWVzc2FnZXMgPSBNZXNzYWdlLmJ5TWVldGluZyhtZWV0aW5nKVxuICBmb3IgKGNvbnN0IHVzZXJJZCBvZiBuZXdVc2VycyApIHtcbiAgICBjb25zdCB1c2VyID0gVXNlci5maW5kKHsgaWQ6IHVzZXJJZCB9KVxuICAgIGlmKCF1c2VyKSByZXR1cm4gXG4gICAgU2VuZGVyLm1lc3NhZ2VzVXBkYXRlVXNlcihtZWV0aW5nLmNoYW5uZWwsIHVzZXIpXG4gICAgU2VuZGVyLm1lc3NhZ2VzQ2hhbmdlKHVzZXIuY2hhbm5lbCwgbWVzc2FnZXMpXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJlbW92ZVVzZXIgPSAobWVldGluZywgdXNlcikgPT4ge1xuICBTZW5kZXIucmVtb3ZlVXNlcihtZWV0aW5nLmNoYW5uZWwsIHttZWV0aW5nLCB1c2VyfSlcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "meetings.js"
      ],
      "names": [
        "add",
        "meeting",
        "Sender",
        "meetingsAdd",
        "channel",
        "messagesChangeToNewUser",
        "newUsers",
        "messages",
        "Message",
        "byMeeting",
        "userId",
        "user",
        "User",
        "find",
        "id",
        "messagesUpdateUser",
        "messagesChange",
        "removeUser"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEO,MAAMA,GAAG,GAAIC,OAAD,IAAa;AAC9BC,iBAAOC,WAAP,CAAmBF,OAAO,CAACG,OAA3B,EAAoCH,OAApC;AACD,CAFM;;;;AAIA,MAAMI,uBAAuB,GAAG,CAACJ,OAAD,EAAUK,QAAV,KAAuB;AAC5D,QAAMC,QAAQ,GAAGC,iBAAQC,SAAR,CAAkBR,OAAlB,CAAjB;;AACA,OAAK,MAAMS,MAAX,IAAqBJ,QAArB,EAAgC;AAC9B,UAAMK,IAAI,GAAGC,cAAKC,IAAL,CAAU;AAAEC,MAAAA,EAAE,EAAEJ;AAAN,KAAV,CAAb;;AACA,QAAG,CAACC,IAAJ,EAAU;;AACVT,mBAAOa,kBAAP,CAA0Bd,OAAO,CAACG,OAAlC,EAA2CO,IAA3C;;AACAT,mBAAOc,cAAP,CAAsBL,IAAI,CAACP,OAA3B,EAAoCG,QAApC;AACD;AACF,CARM;;;;AAUA,MAAMU,UAAU,GAAG,CAAChB,OAAD,EAAUU,IAAV,KAAmB;AAC3CT,iBAAOe,UAAP,CAAkBhB,OAAO,CAACG,OAA1B,EAAmC;AAACH,IAAAA,OAAD;AAAUU,IAAAA;AAAV,GAAnC;AACD,CAFM",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/services/",
      "sourcesContent": [
        "import { Sender } from '../socket'\nimport User from '../models/user'\nimport Message from '../models/message'\n\nexport const add = (meeting) => {\n  Sender.meetingsAdd(meeting.channel, meeting)\n}\n\nexport const messagesChangeToNewUser = (meeting, newUsers) => {\n  const messages = Message.byMeeting(meeting)\n  for (const userId of newUsers ) {\n    const user = User.find({ id: userId })\n    if(!user) return \n    Sender.messagesUpdateUser(meeting.channel, user)\n    Sender.messagesChange(user.channel, messages)\n  }\n}\n\nexport const removeUser = (meeting, user) => {\n  Sender.removeUser(meeting.channel, {meeting, user})\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/handler.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/handler.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/handler.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/handler.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/",
        "sourceFileName": "handler.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _socket = _interopRequireDefault(require(\"../socket\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = (event, client, data) => {\n  try {\n    switch (event) {\n      // case Socket.TOGGLE_SPEAK_SELF:\n      //   Freeswitch.toggleSpeakSelf(data)\n      //   break\n      default:\n        console.log('Socket, no such event: ', event);\n    }\n  } catch (e) {\n    console.log('Error:', e);\n  }\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhhbmRsZXIuanMiXSwibmFtZXMiOlsiZXZlbnQiLCJjbGllbnQiLCJkYXRhIiwiY29uc29sZSIsImxvZyIsImUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztlQUVlLENBQUNBLEtBQUQsRUFBUUMsTUFBUixFQUFnQkMsSUFBaEIsS0FBeUI7QUFDdEMsTUFBSTtBQUNGLFlBQVFGLEtBQVI7QUFDRTtBQUNBO0FBQ0E7QUFDQTtBQUNFRyxRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSx5QkFBWixFQUF1Q0osS0FBdkM7QUFMSjtBQU9ELEdBUkQsQ0FRRSxPQUFPSyxDQUFQLEVBQVU7QUFDVkYsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksUUFBWixFQUFzQkMsQ0FBdEI7QUFDRDtBQUNGLEMiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvdGV4dGNoYXQtbm9kZS9zcmMvc29ja2V0L2FkbWluLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTb2NrZXQgZnJvbSAnLi4vc29ja2V0J1xuXG5leHBvcnQgZGVmYXVsdCAoZXZlbnQsIGNsaWVudCwgZGF0YSkgPT4ge1xuICB0cnkge1xuICAgIHN3aXRjaCAoZXZlbnQpIHtcbiAgICAgIC8vIGNhc2UgU29ja2V0LlRPR0dMRV9TUEVBS19TRUxGOlxuICAgICAgLy8gICBGcmVlc3dpdGNoLnRvZ2dsZVNwZWFrU2VsZihkYXRhKVxuICAgICAgLy8gICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5sb2coJ1NvY2tldCwgbm8gc3VjaCBldmVudDogJywgZXZlbnQpXG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coJ0Vycm9yOicsIGUpXG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "handler.js"
      ],
      "names": [
        "event",
        "client",
        "data",
        "console",
        "log",
        "e"
      ],
      "mappings": ";;;;;;;AAAA;;;;eAEe,CAACA,KAAD,EAAQC,MAAR,EAAgBC,IAAhB,KAAyB;AACtC,MAAI;AACF,YAAQF,KAAR;AACE;AACA;AACA;AACA;AACEG,QAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCJ,KAAvC;AALJ;AAOD,GARD,CAQE,OAAOK,CAAP,EAAU;AACVF,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBC,CAAtB;AACD;AACF,C",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/src/socket/admin/",
      "sourcesContent": [
        "import Socket from '../socket'\n\nexport default (event, client, data) => {\n  try {\n    switch (event) {\n      // case Socket.TOGGLE_SPEAK_SELF:\n      //   Freeswitch.toggleSpeakSelf(data)\n      //   break\n      default:\n        console.log('Socket, no such event: ', event)\n    }\n  } catch (e) {\n    console.log('Error:', e)\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/config/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/config/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/config/index.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/config/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/config/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.env = void 0;\n\nvar _environments = _interopRequireDefault(require(\"./environments\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst NODE_ENV = process.env.NODE_ENV || 'development';\nconst env = {\n  [NODE_ENV]: true\n};\nexports.env = env;\nconst configMode = process.env.CONFIG_MODE;\nvar config = Object.assign(_environments.default.default, _environments.default[NODE_ENV]);\n\nif (typeof configMode !== 'undefined' && _environments.default[configMode]) {\n  config = Object.assign(config, _environments.default[configMode]);\n}\n\nvar _default = config;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIk5PREVfRU5WIiwicHJvY2VzcyIsImVudiIsImNvbmZpZ01vZGUiLCJDT05GSUdfTU9ERSIsImNvbmZpZyIsIk9iamVjdCIsImFzc2lnbiIsInNldHRpbmdzIiwiZGVmYXVsdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsUUFBWixJQUF3QixhQUF6QztBQUNBLE1BQU1FLEdBQUcsR0FBRztBQUFFLEdBQUNGLFFBQUQsR0FBWTtBQUFkLENBQVo7O0FBRUEsTUFBTUcsVUFBVSxHQUFHRixPQUFPLENBQUNDLEdBQVIsQ0FBWUUsV0FBL0I7QUFDQSxJQUFJQyxNQUFNLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjQyxzQkFBU0MsT0FBdkIsRUFBZ0NELHNCQUFTUixRQUFULENBQWhDLENBQWI7O0FBQ0EsSUFBSSxPQUFPRyxVQUFQLEtBQXNCLFdBQXRCLElBQXFDSyxzQkFBU0wsVUFBVCxDQUF6QyxFQUErRDtBQUM5REUsRUFBQUEsTUFBTSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBY0YsTUFBZCxFQUFzQkcsc0JBQVNMLFVBQVQsQ0FBdEIsQ0FBVDtBQUNBOztlQUdjRSxNIiwic291cmNlUm9vdCI6Ii9ob21lL3ZpbmhtaC9Qcm9qZWN0L2Rldi8ud3d3L3RleHRjaGF0LW5vZGUvY29uZmlnLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZXR0aW5ncyBmcm9tICcuL2Vudmlyb25tZW50cydcblxuY29uc3QgTk9ERV9FTlYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnXG5jb25zdCBlbnYgPSB7IFtOT0RFX0VOVl06IHRydWUgfVxuXG5jb25zdCBjb25maWdNb2RlID0gcHJvY2Vzcy5lbnYuQ09ORklHX01PREVcbnZhciBjb25maWcgPSBPYmplY3QuYXNzaWduKHNldHRpbmdzLmRlZmF1bHQsIHNldHRpbmdzW05PREVfRU5WXSlcbmlmICh0eXBlb2YgY29uZmlnTW9kZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2V0dGluZ3NbY29uZmlnTW9kZV0pIHtcblx0Y29uZmlnID0gT2JqZWN0LmFzc2lnbihjb25maWcsIHNldHRpbmdzW2NvbmZpZ01vZGVdKVxufVxuXG5leHBvcnQgeyBlbnYgfVxuZXhwb3J0IGRlZmF1bHQgY29uZmlnXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "NODE_ENV",
        "process",
        "env",
        "configMode",
        "CONFIG_MODE",
        "config",
        "Object",
        "assign",
        "settings",
        "default"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYF,QAAZ,IAAwB,aAAzC;AACA,MAAME,GAAG,GAAG;AAAE,GAACF,QAAD,GAAY;AAAd,CAAZ;;AAEA,MAAMG,UAAU,GAAGF,OAAO,CAACC,GAAR,CAAYE,WAA/B;AACA,IAAIC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAcC,sBAASC,OAAvB,EAAgCD,sBAASR,QAAT,CAAhC,CAAb;;AACA,IAAI,OAAOG,UAAP,KAAsB,WAAtB,IAAqCK,sBAASL,UAAT,CAAzC,EAA+D;AAC9DE,EAAAA,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAcF,MAAd,EAAsBG,sBAASL,UAAT,CAAtB,CAAT;AACA;;eAGcE,M",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/config/",
      "sourcesContent": [
        "import settings from './environments'\n\nconst NODE_ENV = process.env.NODE_ENV || 'development'\nconst env = { [NODE_ENV]: true }\n\nconst configMode = process.env.CONFIG_MODE\nvar config = Object.assign(settings.default, settings[NODE_ENV])\nif (typeof configMode !== 'undefined' && settings[configMode]) {\n\tconfig = Object.assign(config, settings[configMode])\n}\n\nexport { env }\nexport default config\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1615601738529
  },
  "{\"plugins\":[{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"PrivateName\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/home/vinhmh/Project/dev/.www/textchat-node/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"filename\":\"/home/vinhmh/Project/dev/.www/textchat-node/config/environments.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/vinhmh/Project/dev/.www/textchat-node\",\"presets\":[]}:7.1.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/vinhmh/Project/dev/.www/textchat-node",
      "filename": "/home/vinhmh/Project/dev/.www/textchat-node/config/environments.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/vinhmh/Project/dev/.www/textchat-node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-export-default-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/home/vinhmh/Project/dev/.www/textchat-node/node_modules/@babel/plugin-proposal-class-properties/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/vinhmh/Project/dev/.www/textchat-node/config/environments.js",
        "plugins": [
          "exportDefaultFrom",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/vinhmh/Project/dev/.www/textchat-node/config/environments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/config/",
        "sourceFileName": "environments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar path = _interopRequireWildcard(require(\"path\"));\n\nvar _envSmart = _interopRequireDefault(require(\"env-smart\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n_envSmart.default.load();\n\nconst rootDir = path.join(__dirname, '..');\nvar _default = {\n  default: {\n    pidFile: 'textchat.pid',\n    port: 8082,\n    useSocket: false,\n    rootDir,\n    secretToken: 'd33672be2b0a5319dea3d127304311a6f5cb3e6de7cf8bc9fc7677bc082fc43204cfae3ff120f002ea13c344e227dd6f25f6d5b7d10a0cf9b164c08806490008',\n    webphoneSecretToken: 'd371dbef7aa52d1f70437c9a20371615c6788c2e4dde5cb6a41e3ff4e1cdd05f8ca3f586bb19aad8a31d442f6ecc38551c49ea7fcf2c06b459921b7b8733b384',\n    allowedOrigin: [''],\n    apiUrl: 'https://api.deepl.com/v2/translate',\n    apiUrl2: 'https://api.deepl.com/v2/languages',\n    authKey: '7f2e5b30-75ab-d220-7475-d3c257127013',\n    translateLangs: ['EN', 'DE', 'ES', 'FR', 'PT', 'IT', 'NL', 'PL', 'RU'],\n    webphoneServer: 'http://localhost:3001',\n    techAssistantUser: '_ibp_techassist',\n    bucketSecretAccessKey: 'sTmAWXcPpf7izRsQUvZ3r7V39em55z5CIiqgOxHGds4',\n    bucketAccessKeyId: 'ZAWLEL6XWXH2GOH64HW4',\n    bucketEndPoint: 'nyc3.digitaloceanspaces.com',\n    bucketName: 'opentechiz-test-documents'\n  },\n  development: {\n    allowedOrigin: ['http://localhost:3000', 'http://localhost:3002']\n  },\n  docker: {\n    useSocket: true,\n    socket_file: 'textchat.sock',\n    allowedOrigin: ['https://webphone.tech'],\n    webphoneServer: 'https://webphone.tech'\n  },\n  staging: {\n    useSocket: true,\n    socket_file: 'textchat.sock',\n    allowedOrigin: ['https://stg.meeting.ibridgepeople.net'],\n    webphoneServer: 'https://stg.meeting.ibridgepeople.net'\n  },\n  bench: {\n    useSocket: true,\n    socket_file: 'textchat.sock',\n    allowedOrigin: ['https://meeting.ibridgepeople.fr'],\n    webphoneServer: 'https://meeting.ibridgepeople.fr'\n  },\n  production: {\n    useSocket: true,\n    socket_file: 'textchat.sock',\n    allowedOrigin: ['https://webphone.ibridgepeople.fr'],\n    webphoneServer: 'https://webphone.ibridgepeople.fr'\n  },\n  digitalOcean: {\n    secretAccessKey: 'VomUCSVELm4UzufItwPykx0w7SPcL6n7m4vUpfr/eF8',\n    accessKeyId: 'YOLBDSNTP4BEX7VLFTIT'\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudmlyb25tZW50cy5qcyJdLCJuYW1lcyI6WyJlbnYiLCJsb2FkIiwicm9vdERpciIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwiZGVmYXVsdCIsInBpZEZpbGUiLCJwb3J0IiwidXNlU29ja2V0Iiwic2VjcmV0VG9rZW4iLCJ3ZWJwaG9uZVNlY3JldFRva2VuIiwiYWxsb3dlZE9yaWdpbiIsImFwaVVybCIsImFwaVVybDIiLCJhdXRoS2V5IiwidHJhbnNsYXRlTGFuZ3MiLCJ3ZWJwaG9uZVNlcnZlciIsInRlY2hBc3Npc3RhbnRVc2VyIiwiYnVja2V0U2VjcmV0QWNjZXNzS2V5IiwiYnVja2V0QWNjZXNzS2V5SWQiLCJidWNrZXRFbmRQb2ludCIsImJ1Y2tldE5hbWUiLCJkZXZlbG9wbWVudCIsImRvY2tlciIsInNvY2tldF9maWxlIiwic3RhZ2luZyIsImJlbmNoIiwicHJvZHVjdGlvbiIsImRpZ2l0YWxPY2VhbiIsInNlY3JldEFjY2Vzc0tleSIsImFjY2Vzc0tleUlkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7Ozs7O0FBQ0FBLGtCQUFJQyxJQUFKOztBQUNBLE1BQU1DLE9BQU8sR0FBR0MsSUFBSSxDQUFDQyxJQUFMLENBQVVDLFNBQVYsRUFBcUIsSUFBckIsQ0FBaEI7ZUFDZTtBQUNmQyxFQUFBQSxPQUFPLEVBQUU7QUFDVEMsSUFBQUEsT0FBTyxFQUFFLGNBREE7QUFFVEMsSUFBQUEsSUFBSSxFQUFFLElBRkc7QUFHVEMsSUFBQUEsU0FBUyxFQUFFLEtBSEY7QUFJVFAsSUFBQUEsT0FKUztBQUtUUSxJQUFBQSxXQUFXLEVBQUUsa0lBTEo7QUFNVEMsSUFBQUEsbUJBQW1CLEVBQUUsa0lBTlo7QUFPVEMsSUFBQUEsYUFBYSxFQUFFLENBQUMsRUFBRCxDQVBOO0FBUVRDLElBQUFBLE1BQU0sRUFBRSxvQ0FSQztBQVNUQyxJQUFBQSxPQUFPLEVBQUUsb0NBVEE7QUFVVEMsSUFBQUEsT0FBTyxFQUFFLHNDQVZBO0FBV1RDLElBQUFBLGNBQWMsRUFBRSxDQUFDLElBQUQsRUFBTyxJQUFQLEVBQWEsSUFBYixFQUFtQixJQUFuQixFQUF5QixJQUF6QixFQUErQixJQUEvQixFQUFxQyxJQUFyQyxFQUEyQyxJQUEzQyxFQUFpRCxJQUFqRCxDQVhQO0FBWVRDLElBQUFBLGNBQWMsRUFBRSx1QkFaUDtBQWFUQyxJQUFBQSxpQkFBaUIsRUFBRSxpQkFiVjtBQWNUQyxJQUFBQSxxQkFBcUIsRUFBQyw2Q0FkYjtBQWVUQyxJQUFBQSxpQkFBaUIsRUFBQyxzQkFmVDtBQWdCVEMsSUFBQUEsY0FBYyxFQUFDLDZCQWhCTjtBQWlCVEMsSUFBQUEsVUFBVSxFQUFDO0FBakJGLEdBRE07QUFvQmZDLEVBQUFBLFdBQVcsRUFBRTtBQUNiWCxJQUFBQSxhQUFhLEVBQUUsQ0FBQyx1QkFBRCxFQUEwQix1QkFBMUI7QUFERixHQXBCRTtBQXVCZlksRUFBQUEsTUFBTSxFQUFFO0FBQ1JmLElBQUFBLFNBQVMsRUFBRSxJQURIO0FBRVJnQixJQUFBQSxXQUFXLEVBQUUsZUFGTDtBQUdSYixJQUFBQSxhQUFhLEVBQUUsQ0FBQyx1QkFBRCxDQUhQO0FBSVJLLElBQUFBLGNBQWMsRUFBRTtBQUpSLEdBdkJPO0FBNkJmUyxFQUFBQSxPQUFPLEVBQUU7QUFDVGpCLElBQUFBLFNBQVMsRUFBRSxJQURGO0FBRVRnQixJQUFBQSxXQUFXLEVBQUUsZUFGSjtBQUdUYixJQUFBQSxhQUFhLEVBQUUsQ0FBQyx1Q0FBRCxDQUhOO0FBSVRLLElBQUFBLGNBQWMsRUFBRTtBQUpQLEdBN0JNO0FBbUNmVSxFQUFBQSxLQUFLLEVBQUU7QUFDUGxCLElBQUFBLFNBQVMsRUFBRSxJQURKO0FBRVBnQixJQUFBQSxXQUFXLEVBQUUsZUFGTjtBQUdQYixJQUFBQSxhQUFhLEVBQUUsQ0FBQyxrQ0FBRCxDQUhSO0FBSVBLLElBQUFBLGNBQWMsRUFBRTtBQUpULEdBbkNRO0FBeUNmVyxFQUFBQSxVQUFVLEVBQUU7QUFDWm5CLElBQUFBLFNBQVMsRUFBRSxJQURDO0FBRVpnQixJQUFBQSxXQUFXLEVBQUUsZUFGRDtBQUdaYixJQUFBQSxhQUFhLEVBQUUsQ0FBQyxtQ0FBRCxDQUhIO0FBSVpLLElBQUFBLGNBQWMsRUFBRTtBQUpKLEdBekNHO0FBK0NmWSxFQUFBQSxZQUFZLEVBQUM7QUFDYkMsSUFBQUEsZUFBZSxFQUFFLDZDQURKO0FBRWJDLElBQUFBLFdBQVcsRUFBRTtBQUZBO0FBL0NFLEMiLCJzb3VyY2VSb290IjoiL2hvbWUvdmluaG1oL1Byb2plY3QvZGV2Ly53d3cvdGV4dGNoYXQtbm9kZS9jb25maWcvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IGVudiBmcm9tICdlbnYtc21hcnQnO1xuZW52LmxvYWQoKTtcbmNvbnN0IHJvb3REaXIgPSBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4nKVxuZXhwb3J0IGRlZmF1bHQge1xuZGVmYXVsdDoge1xucGlkRmlsZTogJ3RleHRjaGF0LnBpZCcsXG5wb3J0OiA4MDgyLFxudXNlU29ja2V0OiBmYWxzZSxcbnJvb3REaXIsXG5zZWNyZXRUb2tlbjogJ2QzMzY3MmJlMmIwYTUzMTlkZWEzZDEyNzMwNDMxMWE2ZjVjYjNlNmRlN2NmOGJjOWZjNzY3N2JjMDgyZmM0MzIwNGNmYWUzZmYxMjBmMDAyZWExM2MzNDRlMjI3ZGQ2ZjI1ZjZkNWI3ZDEwYTBjZjliMTY0YzA4ODA2NDkwMDA4JyxcbndlYnBob25lU2VjcmV0VG9rZW46ICdkMzcxZGJlZjdhYTUyZDFmNzA0MzdjOWEyMDM3MTYxNWM2Nzg4YzJlNGRkZTVjYjZhNDFlM2ZmNGUxY2RkMDVmOGNhM2Y1ODZiYjE5YWFkOGEzMWQ0NDJmNmVjYzM4NTUxYzQ5ZWE3ZmNmMmMwNmI0NTk5MjFiN2I4NzMzYjM4NCcsXG5hbGxvd2VkT3JpZ2luOiBbJyddLFxuYXBpVXJsOiAnaHR0cHM6Ly9hcGkuZGVlcGwuY29tL3YyL3RyYW5zbGF0ZScsXG5hcGlVcmwyOiAnaHR0cHM6Ly9hcGkuZGVlcGwuY29tL3YyL2xhbmd1YWdlcycsXG5hdXRoS2V5OiAnN2YyZTViMzAtNzVhYi1kMjIwLTc0NzUtZDNjMjU3MTI3MDEzJyxcbnRyYW5zbGF0ZUxhbmdzOiBbJ0VOJywgJ0RFJywgJ0VTJywgJ0ZSJywgJ1BUJywgJ0lUJywgJ05MJywgJ1BMJywgJ1JVJ10sXG53ZWJwaG9uZVNlcnZlcjogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMScsXG50ZWNoQXNzaXN0YW50VXNlcjogJ19pYnBfdGVjaGFzc2lzdCcsXG5idWNrZXRTZWNyZXRBY2Nlc3NLZXk6J3NUbUFXWGNQcGY3aXpSc1FVdlozcjdWMzllbTU1ejVDSWlxZ094SEdkczQnLFxuYnVja2V0QWNjZXNzS2V5SWQ6J1pBV0xFTDZYV1hIMkdPSDY0SFc0JyxcbmJ1Y2tldEVuZFBvaW50OidueWMzLmRpZ2l0YWxvY2VhbnNwYWNlcy5jb20nLFxuYnVja2V0TmFtZTonb3BlbnRlY2hpei10ZXN0LWRvY3VtZW50cydcbn0sXG5kZXZlbG9wbWVudDoge1xuYWxsb3dlZE9yaWdpbjogWydodHRwOi8vbG9jYWxob3N0OjMwMDAnLCAnaHR0cDovL2xvY2FsaG9zdDozMDAyJ11cbn0sXG5kb2NrZXI6IHtcbnVzZVNvY2tldDogdHJ1ZSxcbnNvY2tldF9maWxlOiAndGV4dGNoYXQuc29jaycsXG5hbGxvd2VkT3JpZ2luOiBbJ2h0dHBzOi8vd2VicGhvbmUudGVjaCddLFxud2VicGhvbmVTZXJ2ZXI6ICdodHRwczovL3dlYnBob25lLnRlY2gnXG59LFxuc3RhZ2luZzoge1xudXNlU29ja2V0OiB0cnVlLFxuc29ja2V0X2ZpbGU6ICd0ZXh0Y2hhdC5zb2NrJyxcbmFsbG93ZWRPcmlnaW46IFsnaHR0cHM6Ly9zdGcubWVldGluZy5pYnJpZGdlcGVvcGxlLm5ldCddLFxud2VicGhvbmVTZXJ2ZXI6ICdodHRwczovL3N0Zy5tZWV0aW5nLmlicmlkZ2VwZW9wbGUubmV0J1xufSxcbmJlbmNoOiB7XG51c2VTb2NrZXQ6IHRydWUsXG5zb2NrZXRfZmlsZTogJ3RleHRjaGF0LnNvY2snLFxuYWxsb3dlZE9yaWdpbjogWydodHRwczovL21lZXRpbmcuaWJyaWRnZXBlb3BsZS5mciddLFxud2VicGhvbmVTZXJ2ZXI6ICdodHRwczovL21lZXRpbmcuaWJyaWRnZXBlb3BsZS5mcidcbn0sXG5wcm9kdWN0aW9uOiB7XG51c2VTb2NrZXQ6IHRydWUsXG5zb2NrZXRfZmlsZTogJ3RleHRjaGF0LnNvY2snLFxuYWxsb3dlZE9yaWdpbjogWydodHRwczovL3dlYnBob25lLmlicmlkZ2VwZW9wbGUuZnInXSxcbndlYnBob25lU2VydmVyOiAnaHR0cHM6Ly93ZWJwaG9uZS5pYnJpZGdlcGVvcGxlLmZyJ1xufSxcbmRpZ2l0YWxPY2Vhbjp7XG5zZWNyZXRBY2Nlc3NLZXk6ICdWb21VQ1NWRUxtNFV6dWZJdHdQeWt4MHc3U1BjTDZuN200dlVwZnIvZUY4JyxcbmFjY2Vzc0tleUlkOiAnWU9MQkRTTlRQNEJFWDdWTEZUSVQnXG59XG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "environments.js"
      ],
      "names": [
        "env",
        "load",
        "rootDir",
        "path",
        "join",
        "__dirname",
        "default",
        "pidFile",
        "port",
        "useSocket",
        "secretToken",
        "webphoneSecretToken",
        "allowedOrigin",
        "apiUrl",
        "apiUrl2",
        "authKey",
        "translateLangs",
        "webphoneServer",
        "techAssistantUser",
        "bucketSecretAccessKey",
        "bucketAccessKeyId",
        "bucketEndPoint",
        "bucketName",
        "development",
        "docker",
        "socket_file",
        "staging",
        "bench",
        "production",
        "digitalOcean",
        "secretAccessKey",
        "accessKeyId"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;;;;;AACAA,kBAAIC,IAAJ;;AACA,MAAMC,OAAO,GAAGC,IAAI,CAACC,IAAL,CAAUC,SAAV,EAAqB,IAArB,CAAhB;eACe;AACfC,EAAAA,OAAO,EAAE;AACTC,IAAAA,OAAO,EAAE,cADA;AAETC,IAAAA,IAAI,EAAE,IAFG;AAGTC,IAAAA,SAAS,EAAE,KAHF;AAITP,IAAAA,OAJS;AAKTQ,IAAAA,WAAW,EAAE,kIALJ;AAMTC,IAAAA,mBAAmB,EAAE,kIANZ;AAOTC,IAAAA,aAAa,EAAE,CAAC,EAAD,CAPN;AAQTC,IAAAA,MAAM,EAAE,oCARC;AASTC,IAAAA,OAAO,EAAE,oCATA;AAUTC,IAAAA,OAAO,EAAE,sCAVA;AAWTC,IAAAA,cAAc,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,EAA2C,IAA3C,EAAiD,IAAjD,CAXP;AAYTC,IAAAA,cAAc,EAAE,uBAZP;AAaTC,IAAAA,iBAAiB,EAAE,iBAbV;AAcTC,IAAAA,qBAAqB,EAAC,6CAdb;AAeTC,IAAAA,iBAAiB,EAAC,sBAfT;AAgBTC,IAAAA,cAAc,EAAC,6BAhBN;AAiBTC,IAAAA,UAAU,EAAC;AAjBF,GADM;AAoBfC,EAAAA,WAAW,EAAE;AACbX,IAAAA,aAAa,EAAE,CAAC,uBAAD,EAA0B,uBAA1B;AADF,GApBE;AAuBfY,EAAAA,MAAM,EAAE;AACRf,IAAAA,SAAS,EAAE,IADH;AAERgB,IAAAA,WAAW,EAAE,eAFL;AAGRb,IAAAA,aAAa,EAAE,CAAC,uBAAD,CAHP;AAIRK,IAAAA,cAAc,EAAE;AAJR,GAvBO;AA6BfS,EAAAA,OAAO,EAAE;AACTjB,IAAAA,SAAS,EAAE,IADF;AAETgB,IAAAA,WAAW,EAAE,eAFJ;AAGTb,IAAAA,aAAa,EAAE,CAAC,uCAAD,CAHN;AAITK,IAAAA,cAAc,EAAE;AAJP,GA7BM;AAmCfU,EAAAA,KAAK,EAAE;AACPlB,IAAAA,SAAS,EAAE,IADJ;AAEPgB,IAAAA,WAAW,EAAE,eAFN;AAGPb,IAAAA,aAAa,EAAE,CAAC,kCAAD,CAHR;AAIPK,IAAAA,cAAc,EAAE;AAJT,GAnCQ;AAyCfW,EAAAA,UAAU,EAAE;AACZnB,IAAAA,SAAS,EAAE,IADC;AAEZgB,IAAAA,WAAW,EAAE,eAFD;AAGZb,IAAAA,aAAa,EAAE,CAAC,mCAAD,CAHH;AAIZK,IAAAA,cAAc,EAAE;AAJJ,GAzCG;AA+CfY,EAAAA,YAAY,EAAC;AACbC,IAAAA,eAAe,EAAE,6CADJ;AAEbC,IAAAA,WAAW,EAAE;AAFA;AA/CE,C",
      "sourceRoot": "/home/vinhmh/Project/dev/.www/textchat-node/config/",
      "sourcesContent": [
        "import * as path from 'path'\nimport env from 'env-smart';\nenv.load();\nconst rootDir = path.join(__dirname, '..')\nexport default {\ndefault: {\npidFile: 'textchat.pid',\nport: 8082,\nuseSocket: false,\nrootDir,\nsecretToken: 'd33672be2b0a5319dea3d127304311a6f5cb3e6de7cf8bc9fc7677bc082fc43204cfae3ff120f002ea13c344e227dd6f25f6d5b7d10a0cf9b164c08806490008',\nwebphoneSecretToken: 'd371dbef7aa52d1f70437c9a20371615c6788c2e4dde5cb6a41e3ff4e1cdd05f8ca3f586bb19aad8a31d442f6ecc38551c49ea7fcf2c06b459921b7b8733b384',\nallowedOrigin: [''],\napiUrl: 'https://api.deepl.com/v2/translate',\napiUrl2: 'https://api.deepl.com/v2/languages',\nauthKey: '7f2e5b30-75ab-d220-7475-d3c257127013',\ntranslateLangs: ['EN', 'DE', 'ES', 'FR', 'PT', 'IT', 'NL', 'PL', 'RU'],\nwebphoneServer: 'http://localhost:3001',\ntechAssistantUser: '_ibp_techassist',\nbucketSecretAccessKey:'sTmAWXcPpf7izRsQUvZ3r7V39em55z5CIiqgOxHGds4',\nbucketAccessKeyId:'ZAWLEL6XWXH2GOH64HW4',\nbucketEndPoint:'nyc3.digitaloceanspaces.com',\nbucketName:'opentechiz-test-documents'\n},\ndevelopment: {\nallowedOrigin: ['http://localhost:3000', 'http://localhost:3002']\n},\ndocker: {\nuseSocket: true,\nsocket_file: 'textchat.sock',\nallowedOrigin: ['https://webphone.tech'],\nwebphoneServer: 'https://webphone.tech'\n},\nstaging: {\nuseSocket: true,\nsocket_file: 'textchat.sock',\nallowedOrigin: ['https://stg.meeting.ibridgepeople.net'],\nwebphoneServer: 'https://stg.meeting.ibridgepeople.net'\n},\nbench: {\nuseSocket: true,\nsocket_file: 'textchat.sock',\nallowedOrigin: ['https://meeting.ibridgepeople.fr'],\nwebphoneServer: 'https://meeting.ibridgepeople.fr'\n},\nproduction: {\nuseSocket: true,\nsocket_file: 'textchat.sock',\nallowedOrigin: ['https://webphone.ibridgepeople.fr'],\nwebphoneServer: 'https://webphone.ibridgepeople.fr'\n},\ndigitalOcean:{\nsecretAccessKey: 'VomUCSVELm4UzufItwPykx0w7SPcL6n7m4vUpfr/eF8',\naccessKeyId: 'YOLBDSNTP4BEX7VLFTIT'\n}\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1615602405136
  }
}